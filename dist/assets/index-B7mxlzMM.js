var xv=t=>{throw TypeError(t)};var Xh=(t,e,n)=>e.has(t)||xv("Cannot "+n);var U=(t,e,n)=>(Xh(t,e,"read from private field"),n?n.call(t):e.get(t)),Ee=(t,e,n)=>e.has(t)?xv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(Xh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),St=(t,e,n)=>(Xh(t,e,"access private method"),n);var Vc=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return U(t,e,r)}});function IA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function J_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z_={exports:{}},Fd={},eE={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),SA=Symbol.for("react.portal"),CA=Symbol.for("react.fragment"),AA=Symbol.for("react.strict_mode"),bA=Symbol.for("react.profiler"),PA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),kA=Symbol.for("react.forward_ref"),NA=Symbol.for("react.suspense"),DA=Symbol.for("react.memo"),OA=Symbol.for("react.lazy"),Tv=Symbol.iterator;function MA(t){return t===null||typeof t!="object"?null:(t=Tv&&t[Tv]||t["@@iterator"],typeof t=="function"?t:null)}var tE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nE=Object.assign,rE={};function ia(t,e,n){this.props=t,this.context=e,this.refs=rE,this.updater=n||tE}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sE(){}sE.prototype=ia.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=rE,this.updater=n||tE}var Rm=Pm.prototype=new sE;Rm.constructor=Pm;nE(Rm,ia.prototype);Rm.isPureReactComponent=!0;var Iv=Array.isArray,iE=Object.prototype.hasOwnProperty,km={current:null},oE={key:!0,ref:!0,__self:!0,__source:!0};function aE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)iE.call(e,r)&&!oE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yl,type:t,key:i,ref:o,props:s,_owner:km.current}}function LA(t,e){return{$$typeof:Yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yl}function VA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sv=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VA(""+t.key):e.toString(36)}function pu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yl:case SA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jh(o,0):r,Iv(s)?(n="",t!=null&&(n=t.replace(Sv,"$&/")+"/"),pu(s,e,n,"",function(u){return u})):s!=null&&(Nm(s)&&(s=LA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Iv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Jh(i,a);o+=pu(i,e,n,c,s)}else if(c=MA(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Jh(i,a++),o+=pu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jc(t,e,n){if(t==null)return t;var r=[],s=0;return pu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function jA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},mu={transition:null},FA={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:mu,ReactCurrentOwner:km};function lE(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:jc,forEach:function(t,e,n){jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jc(t,function(){e++}),e},toArray:function(t){return jc(t,function(e){return e})||[]},only:function(t){if(!Nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=ia;he.Fragment=CA;he.Profiler=bA;he.PureComponent=Pm;he.StrictMode=AA;he.Suspense=NA;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FA;he.act=lE;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=km.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)iE.call(e,c)&&!oE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Yl,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:RA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PA,_context:t},t.Consumer=t};he.createElement=aE;he.createFactory=function(t){var e=aE.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:kA,render:t}};he.isValidElement=Nm;he.lazy=function(t){return{$$typeof:OA,_payload:{_status:-1,_result:t},_init:jA}};he.memo=function(t,e){return{$$typeof:DA,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=mu.transition;mu.transition={};try{t()}finally{mu.transition=e}};he.unstable_act=lE;he.useCallback=function(t,e){return $t.current.useCallback(t,e)};he.useContext=function(t){return $t.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};he.useEffect=function(t,e){return $t.current.useEffect(t,e)};he.useId=function(){return $t.current.useId()};he.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return $t.current.useMemo(t,e)};he.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};he.useRef=function(t){return $t.current.useRef(t)};he.useState=function(t){return $t.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return $t.current.useTransition()};he.version="18.3.1";eE.exports=he;var C=eE.exports;const q=J_(C),Dm=IA({__proto__:null,default:q},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=C,$A=Symbol.for("react.element"),zA=Symbol.for("react.fragment"),BA=Object.prototype.hasOwnProperty,HA=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WA={key:!0,ref:!0,__self:!0,__source:!0};function cE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BA.call(e,r)&&!WA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$A,type:t,key:i,ref:o,props:s,_owner:HA.current}}Fd.Fragment=zA;Fd.jsx=cE;Fd.jsxs=cE;Z_.exports=Fd;var g=Z_.exports,uE={exports:{}},cn={},dE={exports:{}},hE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var H=F.length;F.push(V);e:for(;0<H;){var Z=H-1>>>1,Y=F[Z];if(0<s(Y,V))F[Z]=V,F[H]=Y,H=Z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],H=F.pop();if(H!==V){F[0]=H;e:for(var Z=0,Y=F.length,ee=Y>>>1;Z<ee;){var de=2*(Z+1)-1,Pe=F[de],ot=de+1,ge=F[ot];if(0>s(Pe,H))ot<Y&&0>s(ge,Pe)?(F[Z]=ge,F[ot]=H,Z=ot):(F[Z]=Pe,F[de]=H,Z=de);else if(ot<Y&&0>s(ge,H))F[Z]=ge,F[ot]=H,Z=ot;else break e}}return V}function s(F,V){var H=F.sortIndex-V.sortIndex;return H!==0?H:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,m=3,p=!1,I=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=F)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function N(F){if(_=!1,T(F),!I)if(n(c)!==null)I=!0,J(O);else{var V=n(u);V!==null&&ne(N,V.startTime-F)}}function O(F,V){I=!1,_&&(_=!1,v(E),E=-1),p=!0;var H=m;try{for(T(V),f=n(c);f!==null&&(!(f.expirationTime>V)||F&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var Y=Z(f.expirationTime<=V);V=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(c)&&r(c),T(V)}else r(c);f=n(c)}if(f!==null)var ee=!0;else{var de=n(u);de!==null&&ne(N,de.startTime-V),ee=!1}return ee}finally{f=null,m=H,p=!1}}var L=!1,A=null,E=-1,P=5,b=-1;function k(){return!(t.unstable_now()-b<P)}function D(){if(A!==null){var F=t.unstable_now();b=F;var V=!0;try{V=A(!0,F)}finally{V?R():(L=!1,A=null)}}else L=!1}var R;if(typeof w=="function")R=function(){w(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=D,R=function(){ie.postMessage(null)}}else R=function(){x(D,0)};function J(F){A=F,L||(L=!0,R())}function ne(F,V){E=x(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){I||p||(I=!0,J(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var H=m;m=V;try{return F()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=m;m=F;try{return V()}finally{m=H}},t.unstable_scheduleCallback=function(F,V,H){var Z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,F={id:d++,callback:V,priorityLevel:F,startTime:H,expirationTime:Y,sortIndex:-1},H>Z?(F.sortIndex=H,e(u,F),n(c)===null&&F===n(u)&&(_?(v(E),E=-1):_=!0,ne(N,H-Z))):(F.sortIndex=Y,e(c,F),I||p||(I=!0,J(O))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var V=m;return function(){var H=m;m=V;try{return F.apply(this,arguments)}finally{m=H}}}})(hE);dE.exports=hE;var qA=dE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=C,ln=qA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fE=new Set,yl={};function Vi(t,e){$o(t,e),$o(t+"Capture",e)}function $o(t,e){for(yl[t]=e,t=0;t<e.length;t++)fE.add(e[t])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=Object.prototype.hasOwnProperty,KA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Av={};function QA(t){return qf.call(Av,t)?!0:qf.call(Cv,t)?!1:KA.test(t)?Av[t]=!0:(Cv[t]=!0,!1)}function YA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XA(t,e,n,r){if(e===null||typeof e>"u"||YA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Mm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,Mm);Et[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,Mm);Et[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,Mm);Et[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lm(t,e,n,r){var s=Et.hasOwnProperty(e)?Et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XA(e,n,s,r)&&(n=null),r||s===null?QA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fc=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),pE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),Fm=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),gE=Symbol.for("react.offscreen"),bv=Symbol.iterator;function Oa(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,Zh;function Ha(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ef=!1;function tf(t,e){if(!t||ef)return"";ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ha(t):""}function JA(t){switch(t.tag){case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return t=tf(t.type,!1),t;case 11:return t=tf(t.type.render,!1),t;case 1:return t=tf(t.type,!0),t;default:return""}}function Yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case ao:return"Portal";case Gf:return"Profiler";case Vm:return"StrictMode";case Kf:return"Suspense";case Qf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mE:return(t.displayName||"Context")+".Consumer";case pE:return(t._context.displayName||"Context")+".Provider";case jm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fm:return e=t.displayName||null,e!==null?e:Yf(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return Yf(t(e))}catch{}}return null}function ZA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(e);case 8:return e===Vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eb(t){var e=yE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uc(t){t._valueTracker||(t._valueTracker=eb(t))}function vE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wE(t,e){e=e.checked,e!=null&&Lm(t,"checked",e,!1)}function Jf(t,e){wE(t,e);var n=Ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,Ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||Fu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wa=Array.isArray;function Eo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ms(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Wa(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ms(n)}}function _E(t,e){var n=Ms(e.value),r=Ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $c,xE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($c=$c||document.createElement("div"),$c.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$c.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tb=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){tb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function TE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function IE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=TE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nb=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(t,e){if(e){if(nb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sp=null;function Um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ip=null,xo=null,To=null;function Dv(t){if(t=Zl(t)){if(typeof ip!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Hd(e),ip(t.stateNode,t.type,e))}}function SE(t){xo?To?To.push(t):To=[t]:xo=t}function CE(){if(xo){var t=xo,e=To;if(To=xo=null,Dv(t),e)for(t=0;t<e.length;t++)Dv(e[t])}}function AE(t,e){return t(e)}function bE(){}var nf=!1;function PE(t,e,n){if(nf)return t(e,n);nf=!0;try{return AE(t,e,n)}finally{nf=!1,(xo!==null||To!==null)&&(bE(),CE())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var op=!1;if(Pr)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){op=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{op=!1}function rb(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var tl=!1,Uu=null,$u=!1,ap=null,sb={onError:function(t){tl=!0,Uu=t}};function ib(t,e,n,r,s,i,o,a,c){tl=!1,Uu=null,rb.apply(sb,arguments)}function ob(t,e,n,r,s,i,o,a,c){if(ib.apply(this,arguments),tl){if(tl){var u=Uu;tl=!1,Uu=null}else throw Error(B(198));$u||($u=!0,ap=u)}}function ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ov(t){if(ji(t)!==t)throw Error(B(188))}function ab(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ov(s),t;if(i===r)return Ov(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function kE(t){return t=ab(t),t!==null?NE(t):null}function NE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NE(t);if(e!==null)return e;t=t.sibling}return null}var DE=ln.unstable_scheduleCallback,Mv=ln.unstable_cancelCallback,lb=ln.unstable_shouldYield,cb=ln.unstable_requestPaint,Qe=ln.unstable_now,ub=ln.unstable_getCurrentPriorityLevel,$m=ln.unstable_ImmediatePriority,OE=ln.unstable_UserBlockingPriority,zu=ln.unstable_NormalPriority,db=ln.unstable_LowPriority,ME=ln.unstable_IdlePriority,Ud=null,Zn=null;function hb(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Ud,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:mb,fb=Math.log,pb=Math.LN2;function mb(t){return t>>>=0,t===0?32:31-(fb(t)/pb|0)|0}var zc=64,Bc=4194304;function qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qa(a):(i&=o,i!==0&&(r=qa(i)))}else o=n&~s,o!==0?r=qa(o):i!==0&&(r=qa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),s=1<<n,r|=t[n],e&=~s;return r}function gb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ln(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=gb(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LE(){var t=zc;return zc<<=1,!(zc&4194240)&&(zc=64),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function vb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ln(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function zm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function VE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jE,Bm,FE,UE,$E,cp=!1,Hc=[],Es=null,xs=null,Ts=null,_l=new Map,El=new Map,is=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lv(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(e.pointerId)}}function La(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zl(e),e!==null&&Bm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _b(t,e,n,r,s){switch(e){case"focusin":return Es=La(Es,t,e,n,r,s),!0;case"dragenter":return xs=La(xs,t,e,n,r,s),!0;case"mouseover":return Ts=La(Ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return _l.set(i,La(_l.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,El.set(i,La(El.get(i)||null,t,e,n,r,s)),!0}return!1}function zE(t){var e=ui(t.target);if(e!==null){var n=ji(e);if(n!==null){if(e=n.tag,e===13){if(e=RE(n),e!==null){t.blockedOn=e,$E(t.priority,function(){FE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=up(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sp=r,n.target.dispatchEvent(r),sp=null}else return e=Zl(n),e!==null&&Bm(e),t.blockedOn=n,!1;e.shift()}return!0}function Vv(t,e,n){gu(t)&&n.delete(e)}function Eb(){cp=!1,Es!==null&&gu(Es)&&(Es=null),xs!==null&&gu(xs)&&(xs=null),Ts!==null&&gu(Ts)&&(Ts=null),_l.forEach(Vv),El.forEach(Vv)}function Va(t,e){t.blockedOn===e&&(t.blockedOn=null,cp||(cp=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,Eb)))}function xl(t){function e(s){return Va(s,t)}if(0<Hc.length){Va(Hc[0],t);for(var n=1;n<Hc.length;n++){var r=Hc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&Va(Es,t),xs!==null&&Va(xs,t),Ts!==null&&Va(Ts,t),_l.forEach(e),El.forEach(e),n=0;n<is.length;n++)r=is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<is.length&&(n=is[0],n.blockedOn===null);)zE(n),n.blockedOn===null&&is.shift()}var Io=$r.ReactCurrentBatchConfig,Hu=!0;function xb(t,e,n,r){var s=Se,i=Io.transition;Io.transition=null;try{Se=1,Hm(t,e,n,r)}finally{Se=s,Io.transition=i}}function Tb(t,e,n,r){var s=Se,i=Io.transition;Io.transition=null;try{Se=4,Hm(t,e,n,r)}finally{Se=s,Io.transition=i}}function Hm(t,e,n,r){if(Hu){var s=up(t,e,n,r);if(s===null)pf(t,e,r,Wu,n),Lv(t,r);else if(_b(s,t,e,n,r))r.stopPropagation();else if(Lv(t,r),e&4&&-1<wb.indexOf(t)){for(;s!==null;){var i=Zl(s);if(i!==null&&jE(i),i=up(t,e,n,r),i===null&&pf(t,e,r,Wu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pf(t,e,r,null,n)}}var Wu=null;function up(t,e,n,r){if(Wu=null,t=Um(r),t=ui(t),t!==null)if(e=ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wu=t,null}function BE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ub()){case $m:return 1;case OE:return 4;case zu:case db:return 16;case ME:return 536870912;default:return 16}default:return 16}}var gs=null,Wm=null,yu=null;function HE(){if(yu)return yu;var t,e=Wm,n=e.length,r,s="value"in gs?gs.value:gs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return yu=s.slice(t,1<r?1-r:void 0)}function vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wc(){return!0}function jv(){return!1}function un(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wc:jv,this.isPropagationStopped=jv,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),e}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=un(oa),Jl=$e({},oa,{view:0,detail:0}),Ib=un(Jl),sf,of,ja,$d=$e({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ja&&(ja&&t.type==="mousemove"?(sf=t.screenX-ja.screenX,of=t.screenY-ja.screenY):of=sf=0,ja=t),sf)},movementY:function(t){return"movementY"in t?t.movementY:of}}),Fv=un($d),Sb=$e({},$d,{dataTransfer:0}),Cb=un(Sb),Ab=$e({},Jl,{relatedTarget:0}),af=un(Ab),bb=$e({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Pb=un(bb),Rb=$e({},oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kb=un(Rb),Nb=$e({},oa,{data:0}),Uv=un(Nb),Db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mb[t])?!!e[t]:!1}function Gm(){return Lb}var Vb=$e({},Jl,{key:function(t){if(t.key){var e=Db[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ob[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(t){return t.type==="keypress"?vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jb=un(Vb),Fb=$e({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=un(Fb),Ub=$e({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),$b=un(Ub),zb=$e({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bb=un(zb),Hb=$e({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wb=un(Hb),qb=[9,13,27,32],Km=Pr&&"CompositionEvent"in window,nl=null;Pr&&"documentMode"in document&&(nl=document.documentMode);var Gb=Pr&&"TextEvent"in window&&!nl,WE=Pr&&(!Km||nl&&8<nl&&11>=nl),zv=" ",Bv=!1;function qE(t,e){switch(t){case"keyup":return qb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function Kb(t,e){switch(t){case"compositionend":return GE(e);case"keypress":return e.which!==32?null:(Bv=!0,zv);case"textInput":return t=e.data,t===zv&&Bv?null:t;default:return null}}function Qb(t,e){if(co)return t==="compositionend"||!Km&&qE(t,e)?(t=HE(),yu=Wm=gs=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WE&&e.locale!=="ko"?null:e.data;default:return null}}var Yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yb[t.type]:e==="textarea"}function KE(t,e,n,r){SE(r),e=qu(e,"onChange"),0<e.length&&(n=new qm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Tl=null;function Xb(t){i1(t,0)}function zd(t){var e=fo(t);if(vE(e))return t}function Jb(t,e){if(t==="change")return e}var QE=!1;if(Pr){var lf;if(Pr){var cf="oninput"in document;if(!cf){var Wv=document.createElement("div");Wv.setAttribute("oninput","return;"),cf=typeof Wv.oninput=="function"}lf=cf}else lf=!1;QE=lf&&(!document.documentMode||9<document.documentMode)}function qv(){rl&&(rl.detachEvent("onpropertychange",YE),Tl=rl=null)}function YE(t){if(t.propertyName==="value"&&zd(Tl)){var e=[];KE(e,Tl,t,Um(t)),PE(Xb,e)}}function Zb(t,e,n){t==="focusin"?(qv(),rl=e,Tl=n,rl.attachEvent("onpropertychange",YE)):t==="focusout"&&qv()}function eP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(Tl)}function tP(t,e){if(t==="click")return zd(e)}function nP(t,e){if(t==="input"||t==="change")return zd(e)}function rP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:rP;function Il(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qf.call(e,s)||!jn(t[s],e[s]))return!1}return!0}function Gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kv(t,e){var n=Gv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gv(n)}}function XE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JE(){for(var t=window,e=Fu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fu(t.document)}return e}function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sP(t){var e=JE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XE(n.ownerDocument.documentElement,n)){if(r!==null&&Qm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kv(n,i);var o=Kv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iP=Pr&&"documentMode"in document&&11>=document.documentMode,uo=null,dp=null,sl=null,hp=!1;function Qv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hp||uo==null||uo!==Fu(r)||(r=uo,"selectionStart"in r&&Qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&Il(sl,r)||(sl=r,r=qu(dp,"onSelect"),0<r.length&&(e=new qm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=uo)))}function qc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ho={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},uf={},ZE={};Pr&&(ZE=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Bd(t){if(uf[t])return uf[t];if(!ho[t])return t;var e=ho[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZE)return uf[t]=e[n];return t}var e1=Bd("animationend"),t1=Bd("animationiteration"),n1=Bd("animationstart"),r1=Bd("transitionend"),s1=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){s1.set(t,e),Vi(e,[t])}for(var df=0;df<Yv.length;df++){var hf=Yv[df],oP=hf.toLowerCase(),aP=hf[0].toUpperCase()+hf.slice(1);Ws(oP,"on"+aP)}Ws(e1,"onAnimationEnd");Ws(t1,"onAnimationIteration");Ws(n1,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(r1,"onTransitionEnd");$o("onMouseEnter",["mouseout","mouseover"]);$o("onMouseLeave",["mouseout","mouseover"]);$o("onPointerEnter",["pointerout","pointerover"]);$o("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function Xv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ob(r,e,void 0,t),t.currentTarget=null}function i1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Xv(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Xv(s,a,u),i=c}}}if($u)throw t=ap,$u=!1,ap=null,t}function De(t,e){var n=e[yp];n===void 0&&(n=e[yp]=new Set);var r=t+"__bubble";n.has(r)||(o1(e,t,2,!1),n.add(r))}function ff(t,e,n){var r=0;e&&(r|=4),o1(n,t,r,e)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[Gc]){t[Gc]=!0,fE.forEach(function(n){n!=="selectionchange"&&(lP.has(n)||ff(n,!1,t),ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gc]||(e[Gc]=!0,ff("selectionchange",!1,e))}}function o1(t,e,n,r){switch(BE(e)){case 1:var s=xb;break;case 4:s=Tb;break;default:s=Hm}n=s.bind(null,e,n,t),s=void 0,!op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ui(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}PE(function(){var u=i,d=Um(n),f=[];e:{var m=s1.get(t);if(m!==void 0){var p=qm,I=t;switch(t){case"keypress":if(vu(n)===0)break e;case"keydown":case"keyup":p=jb;break;case"focusin":I="focus",p=af;break;case"focusout":I="blur",p=af;break;case"beforeblur":case"afterblur":p=af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$b;break;case e1:case t1:case n1:p=Pb;break;case r1:p=Bb;break;case"scroll":p=Ib;break;case"wheel":p=Wb;break;case"copy":case"cut":case"paste":p=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$v}var _=(e&4)!==0,x=!_&&t==="scroll",v=_?m!==null?m+"Capture":null:m;_=[];for(var w=u,T;w!==null;){T=w;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,v!==null&&(N=wl(w,v),N!=null&&_.push(Cl(w,N,T)))),x)break;w=w.return}0<_.length&&(m=new p(m,I,null,n,d),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==sp&&(I=n.relatedTarget||n.fromElement)&&(ui(I)||I[Rr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(I=n.relatedTarget||n.toElement,p=u,I=I?ui(I):null,I!==null&&(x=ji(I),I!==x||I.tag!==5&&I.tag!==6)&&(I=null)):(p=null,I=u),p!==I)){if(_=Fv,N="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=$v,N="onPointerLeave",v="onPointerEnter",w="pointer"),x=p==null?m:fo(p),T=I==null?m:fo(I),m=new _(N,w+"leave",p,n,d),m.target=x,m.relatedTarget=T,N=null,ui(d)===u&&(_=new _(v,w+"enter",I,n,d),_.target=T,_.relatedTarget=x,N=_),x=N,p&&I)t:{for(_=p,v=I,w=0,T=_;T;T=Ji(T))w++;for(T=0,N=v;N;N=Ji(N))T++;for(;0<w-T;)_=Ji(_),w--;for(;0<T-w;)v=Ji(v),T--;for(;w--;){if(_===v||v!==null&&_===v.alternate)break t;_=Ji(_),v=Ji(v)}_=null}else _=null;p!==null&&Jv(f,m,p,_,!1),I!==null&&x!==null&&Jv(f,x,I,_,!0)}}e:{if(m=u?fo(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var O=Jb;else if(Hv(m))if(QE)O=nP;else{O=eP;var L=Zb}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=tP);if(O&&(O=O(t,u))){KE(f,O,n,d);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Zf(m,"number",m.value)}switch(L=u?fo(u):window,t){case"focusin":(Hv(L)||L.contentEditable==="true")&&(uo=L,dp=u,sl=null);break;case"focusout":sl=dp=uo=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,Qv(f,n,d);break;case"selectionchange":if(iP)break;case"keydown":case"keyup":Qv(f,n,d)}var A;if(Km)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else co?qE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(WE&&n.locale!=="ko"&&(co||E!=="onCompositionStart"?E==="onCompositionEnd"&&co&&(A=HE()):(gs=d,Wm="value"in gs?gs.value:gs.textContent,co=!0)),L=qu(u,E),0<L.length&&(E=new Uv(E,t,null,n,d),f.push({event:E,listeners:L}),A?E.data=A:(A=GE(n),A!==null&&(E.data=A)))),(A=Gb?Kb(t,n):Qb(t,n))&&(u=qu(u,"onBeforeInput"),0<u.length&&(d=new Uv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}i1(f,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wl(t,n),i!=null&&r.unshift(Cl(t,i,s)),i=wl(t,e),i!=null&&r.push(Cl(t,i,s))),t=t.return}return r}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=wl(n,i),c!=null&&o.unshift(Cl(n,c,a))):s||(c=wl(n,i),c!=null&&o.push(Cl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cP=/\r\n?/g,uP=/\u0000|\uFFFD/g;function Zv(t){return(typeof t=="string"?t:""+t).replace(cP,`
`).replace(uP,"")}function Kc(t,e,n){if(e=Zv(e),Zv(t)!==e&&n)throw Error(B(425))}function Gu(){}var fp=null,pp=null;function mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,dP=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(fP)}:gp;function fP(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xl(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var aa=Math.random().toString(36).slice(2),Xn="__reactFiber$"+aa,Al="__reactProps$"+aa,Rr="__reactContainer$"+aa,yp="__reactEvents$"+aa,pP="__reactListeners$"+aa,mP="__reactHandles$"+aa;function ui(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t0(t);t!==null;){if(n=t[Xn])return n;t=t0(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Xn]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Hd(t){return t[Al]||null}var vp=[],po=-1;function qs(t){return{current:t}}function Me(t){0>po||(t.current=vp[po],vp[po]=null,po--)}function Re(t,e){po++,vp[po]=t.current,t.current=e}var Ls={},Mt=qs(Ls),Yt=qs(!1),Ii=Ls;function zo(t,e){var n=t.type.contextTypes;if(!n)return Ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(t){return t=t.childContextTypes,t!=null}function Ku(){Me(Yt),Me(Mt)}function n0(t,e,n){if(Mt.current!==Ls)throw Error(B(168));Re(Mt,e),Re(Yt,n)}function a1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,ZA(t)||"Unknown",s));return $e({},n,r)}function Qu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,Ii=Mt.current,Re(Mt,t),Re(Yt,Yt.current),!0}function r0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=a1(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,Me(Yt),Me(Mt),Re(Mt,t)):Me(Yt),Re(Yt,n)}var Er=null,Wd=!1,gf=!1;function l1(t){Er===null?Er=[t]:Er.push(t)}function gP(t){Wd=!0,l1(t)}function Gs(){if(!gf&&Er!==null){gf=!0;var t=0,e=Se;try{var n=Er;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,Wd=!1}catch(s){throw Er!==null&&(Er=Er.slice(t+1)),DE($m,Gs),s}finally{Se=e,gf=!1}}return null}var mo=[],go=0,Yu=null,Xu=0,mn=[],gn=0,Si=null,Tr=1,Ir="";function oi(t,e){mo[go++]=Xu,mo[go++]=Yu,Yu=t,Xu=e}function c1(t,e,n){mn[gn++]=Tr,mn[gn++]=Ir,mn[gn++]=Si,Si=t;var r=Tr;t=Ir;var s=32-Ln(r)-1;r&=~(1<<s),n+=1;var i=32-Ln(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tr=1<<32-Ln(e)+s|n<<s|r,Ir=i+t}else Tr=1<<i|n<<s|r,Ir=t}function Ym(t){t.return!==null&&(oi(t,1),c1(t,1,0))}function Xm(t){for(;t===Yu;)Yu=mo[--go],mo[go]=null,Xu=mo[--go],mo[go]=null;for(;t===Si;)Si=mn[--gn],mn[gn]=null,Ir=mn[--gn],mn[gn]=null,Tr=mn[--gn],mn[gn]=null}var on=null,rn=null,Ve=!1,On=null;function u1(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,rn=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Si!==null?{id:Tr,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,rn=null,!0):!1;default:return!1}}function wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _p(t){if(Ve){var e=rn;if(e){var n=e;if(!s0(t,e)){if(wp(t))throw Error(B(418));e=Is(n.nextSibling);var r=on;e&&s0(t,e)?u1(r,n):(t.flags=t.flags&-4097|2,Ve=!1,on=t)}}else{if(wp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ve=!1,on=t}}}function i0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function Qc(t){if(t!==on)return!1;if(!Ve)return i0(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mp(t.type,t.memoizedProps)),e&&(e=rn)){if(wp(t))throw d1(),Error(B(418));for(;e;)u1(t,e),e=Is(e.nextSibling)}if(i0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=on?Is(t.stateNode.nextSibling):null;return!0}function d1(){for(var t=rn;t;)t=Is(t.nextSibling)}function Bo(){rn=on=null,Ve=!1}function Jm(t){On===null?On=[t]:On.push(t)}var yP=$r.ReactCurrentBatchConfig;function Fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Yc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o0(t){var e=t._init;return e(t._payload)}function h1(t){function e(v,w){if(t){var T=v.deletions;T===null?(v.deletions=[w],v.flags|=16):T.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=bs(v,w),v.index=0,v.sibling=null,v}function i(v,w,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<w?(v.flags|=2,w):T):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,T,N){return w===null||w.tag!==6?(w=Tf(T,v.mode,N),w.return=v,w):(w=s(w,T),w.return=v,w)}function c(v,w,T,N){var O=T.type;return O===lo?d(v,w,T.props.children,N,T.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===rs&&o0(O)===w.type)?(N=s(w,T.props),N.ref=Fa(v,w,T),N.return=v,N):(N=Su(T.type,T.key,T.props,null,v.mode,N),N.ref=Fa(v,w,T),N.return=v,N)}function u(v,w,T,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=If(T,v.mode,N),w.return=v,w):(w=s(w,T.children||[]),w.return=v,w)}function d(v,w,T,N,O){return w===null||w.tag!==7?(w=Ei(T,v.mode,N,O),w.return=v,w):(w=s(w,T),w.return=v,w)}function f(v,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tf(""+w,v.mode,T),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fc:return T=Su(w.type,w.key,w.props,null,v.mode,T),T.ref=Fa(v,null,w),T.return=v,T;case ao:return w=If(w,v.mode,T),w.return=v,w;case rs:var N=w._init;return f(v,N(w._payload),T)}if(Wa(w)||Oa(w))return w=Ei(w,v.mode,T,null),w.return=v,w;Yc(v,w)}return null}function m(v,w,T,N){var O=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(v,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fc:return T.key===O?c(v,w,T,N):null;case ao:return T.key===O?u(v,w,T,N):null;case rs:return O=T._init,m(v,w,O(T._payload),N)}if(Wa(T)||Oa(T))return O!==null?null:d(v,w,T,N,null);Yc(v,T)}return null}function p(v,w,T,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(T)||null,a(w,v,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Fc:return v=v.get(N.key===null?T:N.key)||null,c(w,v,N,O);case ao:return v=v.get(N.key===null?T:N.key)||null,u(w,v,N,O);case rs:var L=N._init;return p(v,w,T,L(N._payload),O)}if(Wa(N)||Oa(N))return v=v.get(T)||null,d(w,v,N,O,null);Yc(w,N)}return null}function I(v,w,T,N){for(var O=null,L=null,A=w,E=w=0,P=null;A!==null&&E<T.length;E++){A.index>E?(P=A,A=null):P=A.sibling;var b=m(v,A,T[E],N);if(b===null){A===null&&(A=P);break}t&&A&&b.alternate===null&&e(v,A),w=i(b,w,E),L===null?O=b:L.sibling=b,L=b,A=P}if(E===T.length)return n(v,A),Ve&&oi(v,E),O;if(A===null){for(;E<T.length;E++)A=f(v,T[E],N),A!==null&&(w=i(A,w,E),L===null?O=A:L.sibling=A,L=A);return Ve&&oi(v,E),O}for(A=r(v,A);E<T.length;E++)P=p(A,v,E,T[E],N),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?E:P.key),w=i(P,w,E),L===null?O=P:L.sibling=P,L=P);return t&&A.forEach(function(k){return e(v,k)}),Ve&&oi(v,E),O}function _(v,w,T,N){var O=Oa(T);if(typeof O!="function")throw Error(B(150));if(T=O.call(T),T==null)throw Error(B(151));for(var L=O=null,A=w,E=w=0,P=null,b=T.next();A!==null&&!b.done;E++,b=T.next()){A.index>E?(P=A,A=null):P=A.sibling;var k=m(v,A,b.value,N);if(k===null){A===null&&(A=P);break}t&&A&&k.alternate===null&&e(v,A),w=i(k,w,E),L===null?O=k:L.sibling=k,L=k,A=P}if(b.done)return n(v,A),Ve&&oi(v,E),O;if(A===null){for(;!b.done;E++,b=T.next())b=f(v,b.value,N),b!==null&&(w=i(b,w,E),L===null?O=b:L.sibling=b,L=b);return Ve&&oi(v,E),O}for(A=r(v,A);!b.done;E++,b=T.next())b=p(A,v,E,b.value,N),b!==null&&(t&&b.alternate!==null&&A.delete(b.key===null?E:b.key),w=i(b,w,E),L===null?O=b:L.sibling=b,L=b);return t&&A.forEach(function(D){return e(v,D)}),Ve&&oi(v,E),O}function x(v,w,T,N){if(typeof T=="object"&&T!==null&&T.type===lo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Fc:e:{for(var O=T.key,L=w;L!==null;){if(L.key===O){if(O=T.type,O===lo){if(L.tag===7){n(v,L.sibling),w=s(L,T.props.children),w.return=v,v=w;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===rs&&o0(O)===L.type){n(v,L.sibling),w=s(L,T.props),w.ref=Fa(v,L,T),w.return=v,v=w;break e}n(v,L);break}else e(v,L);L=L.sibling}T.type===lo?(w=Ei(T.props.children,v.mode,N,T.key),w.return=v,v=w):(N=Su(T.type,T.key,T.props,null,v.mode,N),N.ref=Fa(v,w,T),N.return=v,v=N)}return o(v);case ao:e:{for(L=T.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(v,w.sibling),w=s(w,T.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=If(T,v.mode,N),w.return=v,v=w}return o(v);case rs:return L=T._init,x(v,w,L(T._payload),N)}if(Wa(T))return I(v,w,T,N);if(Oa(T))return _(v,w,T,N);Yc(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,T),w.return=v,v=w):(n(v,w),w=Tf(T,v.mode,N),w.return=v,v=w),o(v)):n(v,w)}return x}var Ho=h1(!0),f1=h1(!1),Ju=qs(null),Zu=null,yo=null,Zm=null;function eg(){Zm=yo=Zu=null}function tg(t){var e=Ju.current;Me(Ju),t._currentValue=e}function Ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function So(t,e){Zu=t,Zm=yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(Zm!==t)if(t={context:t,memoizedValue:e,next:null},yo===null){if(Zu===null)throw Error(B(308));yo=t,Zu.dependencies={lanes:0,firstContext:t}}else yo=yo.next=t;return e}var di=null;function ng(t){di===null?di=[t]:di.push(t)}function p1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ng(e)):(n.next=s.next,s.next=n),e.interleaved=n,kr(t,r)}function kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,kr(t,n)}return s=r.interleaved,s===null?(e.next=e,ng(r)):(e.next=s.next,s.next=e),r.interleaved=e,kr(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zm(t,n)}}function a0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ed(t,e,n,r){var s=t.updateQueue;ss=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,_=a;switch(m=e,p=n,_.tag){case 1:if(I=_.payload,typeof I=="function"){f=I.call(p,f,m);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=_.payload,m=typeof I=="function"?I.call(p,f,m):I,m==null)break e;f=$e({},f,m);break e;case 2:ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=f}}function l0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var ec={},er=qs(ec),bl=qs(ec),Pl=qs(ec);function hi(t){if(t===ec)throw Error(B(174));return t}function sg(t,e){switch(Re(Pl,e),Re(bl,t),Re(er,ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tp(e,t)}Me(er),Re(er,e)}function Wo(){Me(er),Me(bl),Me(Pl)}function g1(t){hi(Pl.current);var e=hi(er.current),n=tp(e,t.type);e!==n&&(Re(bl,t),Re(er,n))}function ig(t){bl.current===t&&(Me(er),Me(bl))}var Fe=qs(0);function td(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yf=[];function og(){for(var t=0;t<yf.length;t++)yf[t]._workInProgressVersionPrimary=null;yf.length=0}var _u=$r.ReactCurrentDispatcher,vf=$r.ReactCurrentBatchConfig,Ci=0,Ue=null,et=null,lt=null,nd=!1,il=!1,Rl=0,vP=0;function Ct(){throw Error(B(321))}function ag(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function lg(t,e,n,r,s,i){if(Ci=i,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_u.current=t===null||t.memoizedState===null?xP:TP,t=n(r,s),il){i=0;do{if(il=!1,Rl=0,25<=i)throw Error(B(301));i+=1,lt=et=null,e.updateQueue=null,_u.current=IP,t=n(r,s)}while(il)}if(_u.current=rd,e=et!==null&&et.next!==null,Ci=0,lt=et=Ue=null,nd=!1,e)throw Error(B(300));return t}function cg(){var t=Rl!==0;return Rl=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ue.memoizedState=lt=t:lt=lt.next=t,lt}function Tn(){if(et===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=lt===null?Ue.memoizedState:lt.next;if(e!==null)lt=e,et=t;else{if(t===null)throw Error(B(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},lt===null?Ue.memoizedState=lt=t:lt=lt.next=t}return lt}function kl(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=Tn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Ci&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ue.lanes|=d,Ai|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,jn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ue.lanes|=i,Ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _f(t){var e=Tn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jn(i,e.memoizedState)||(Qt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function y1(){}function v1(t,e){var n=Ue,r=Tn(),s=e(),i=!jn(r.memoizedState,s);if(i&&(r.memoizedState=s,Qt=!0),r=r.queue,ug(E1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Nl(9,_1.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(B(349));Ci&30||w1(n,e,s)}return s}function w1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _1(t,e,n,r){e.value=n,e.getSnapshot=r,x1(e)&&T1(t)}function E1(t,e,n){return n(function(){x1(e)&&T1(t)})}function x1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function T1(t){var e=kr(t,1);e!==null&&Vn(e,t,1,-1)}function c0(t){var e=qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=EP.bind(null,Ue,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I1(){return Tn().memoizedState}function Eu(t,e,n,r){var s=qn();Ue.flags|=t,s.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function qd(t,e,n,r){var s=Tn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&ag(r,o.deps)){s.memoizedState=Nl(e,n,i,r);return}}Ue.flags|=t,s.memoizedState=Nl(1|e,n,i,r)}function u0(t,e){return Eu(8390656,8,t,e)}function ug(t,e){return qd(2048,8,t,e)}function S1(t,e){return qd(4,2,t,e)}function C1(t,e){return qd(4,4,t,e)}function A1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b1(t,e,n){return n=n!=null?n.concat([t]):null,qd(4,4,A1.bind(null,e,t),n)}function dg(){}function P1(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ag(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R1(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ag(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k1(t,e,n){return Ci&21?(jn(n,e)||(n=LE(),Ue.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function wP(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{Se=n,vf.transition=r}}function N1(){return Tn().memoizedState}function _P(t,e,n){var r=As(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D1(t))O1(e,n);else if(n=p1(t,e,n,r),n!==null){var s=Ut();Vn(n,t,r,s),M1(n,e,r)}}function EP(t,e,n){var r=As(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D1(t))O1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jn(a,o)){var c=e.interleaved;c===null?(s.next=s,ng(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=p1(t,e,s,r),n!==null&&(s=Ut(),Vn(n,t,r,s),M1(n,e,r))}}function D1(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function O1(t,e){il=nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function M1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zm(t,n)}}var rd={readContext:xn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},xP={readContext:xn,useCallback:function(t,e){return qn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:u0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eu(4194308,4,A1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eu(4,2,t,e)},useMemo:function(t,e){var n=qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_P.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=qn();return t={current:t},e.memoizedState=t},useState:c0,useDebugValue:dg,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=c0(!1),e=t[0];return t=wP.bind(null,t[1]),qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=qn();if(Ve){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ct===null)throw Error(B(349));Ci&30||w1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,u0(E1.bind(null,r,i,t),[t]),r.flags|=2048,Nl(9,_1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=qn(),e=ct.identifierPrefix;if(Ve){var n=Ir,r=Tr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TP={readContext:xn,useCallback:P1,useContext:xn,useEffect:ug,useImperativeHandle:b1,useInsertionEffect:S1,useLayoutEffect:C1,useMemo:R1,useReducer:wf,useRef:I1,useState:function(){return wf(kl)},useDebugValue:dg,useDeferredValue:function(t){var e=Tn();return k1(e,et.memoizedState,t)},useTransition:function(){var t=wf(kl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:y1,useSyncExternalStore:v1,useId:N1,unstable_isNewReconciler:!1},IP={readContext:xn,useCallback:P1,useContext:xn,useEffect:ug,useImperativeHandle:b1,useInsertionEffect:S1,useLayoutEffect:C1,useMemo:R1,useReducer:_f,useRef:I1,useState:function(){return _f(kl)},useDebugValue:dg,useDeferredValue:function(t){var e=Tn();return et===null?e.memoizedState=t:k1(e,et.memoizedState,t)},useTransition:function(){var t=_f(kl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:y1,useSyncExternalStore:v1,useId:N1,unstable_isNewReconciler:!1};function Pn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gd={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),s=As(t),i=Ar(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ss(t,i,s),e!==null&&(Vn(e,t,s,r),wu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),s=As(t),i=Ar(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ss(t,i,s),e!==null&&(Vn(e,t,s,r),wu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=As(t),s=Ar(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ss(t,s,r),e!==null&&(Vn(e,t,r,n),wu(e,t,r))}};function d0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Il(n,r)||!Il(s,i):!0}function L1(t,e,n){var r=!1,s=Ls,i=e.contextType;return typeof i=="object"&&i!==null?i=xn(i):(s=Xt(e)?Ii:Mt.current,r=e.contextTypes,i=(r=r!=null)?zo(t,s):Ls),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function h0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gd.enqueueReplaceState(e,e.state,null)}function Tp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xn(i):(i=Xt(e)?Ii:Mt.current,s.context=zo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gd.enqueueReplaceState(s,s.state,null),ed(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qo(t,e){try{var n="",r=e;do n+=JA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function V1(t,e,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){id||(id=!0,Op=r),Ip(t,e)},n}function j1(t,e,n){n=Ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ip(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof r!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function f0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FP.bind(null,t,e,n),e.then(t,t))}function p0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ar(-1,1),e.tag=2,Ss(n,e,1))),n.lanes|=1),t)}var CP=$r.ReactCurrentOwner,Qt=!1;function jt(t,e,n,r){e.child=t===null?f1(e,null,n,r):Ho(e,t.child,n,r)}function g0(t,e,n,r,s){n=n.render;var i=e.ref;return So(e,s),r=lg(t,e,n,r,i,s),n=cg(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nr(t,e,s)):(Ve&&n&&Ym(e),e.flags|=1,jt(t,e,r,s),e.child)}function y0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!wg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,F1(t,e,i,r,s)):(t=Su(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(o,r)&&t.ref===e.ref)return Nr(t,e,s)}return e.flags|=1,t=bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function F1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Il(i,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Nr(t,e,s)}return Sp(t,e,n,r,s)}function U1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(wo,tn),tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(wo,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(wo,tn),tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Re(wo,tn),tn|=r;return jt(t,e,s,n),e.child}function $1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sp(t,e,n,r,s){var i=Xt(n)?Ii:Mt.current;return i=zo(e,i),So(e,s),n=lg(t,e,n,r,i,s),r=cg(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nr(t,e,s)):(Ve&&r&&Ym(e),e.flags|=1,jt(t,e,n,s),e.child)}function v0(t,e,n,r,s){if(Xt(n)){var i=!0;Qu(e)}else i=!1;if(So(e,s),e.stateNode===null)xu(t,e),L1(e,n,r),Tp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Xt(n)?Ii:Mt.current,u=zo(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&h0(e,o,r,u),ss=!1;var m=e.memoizedState;o.state=m,ed(e,r,o,s),c=e.memoizedState,a!==r||m!==c||Yt.current||ss?(typeof d=="function"&&(xp(e,n,d,r),c=e.memoizedState),(a=ss||d0(e,n,a,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,m1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Pn(e.type,a),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Xt(n)?Ii:Mt.current,c=zo(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&h0(e,o,r,c),ss=!1,m=e.memoizedState,o.state=m,ed(e,r,o,s);var I=e.memoizedState;a!==f||m!==I||Yt.current||ss?(typeof p=="function"&&(xp(e,n,p,r),I=e.memoizedState),(u=ss||d0(e,n,u,r,m,I,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Cp(t,e,n,r,i,s)}function Cp(t,e,n,r,s,i){$1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&r0(e,n,!1),Nr(t,e,i);r=e.stateNode,CP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ho(e,t.child,null,i),e.child=Ho(e,null,a,i)):jt(t,e,a,i),e.memoizedState=r.state,s&&r0(e,n,!0),e.child}function z1(t){var e=t.stateNode;e.pendingContext?n0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n0(t,e.context,!1),sg(t,e.containerInfo)}function w0(t,e,n,r,s){return Bo(),Jm(s),e.flags|=256,jt(t,e,n,r),e.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function bp(t){return{baseLanes:t,cachePool:null,transitions:null}}function B1(t,e,n){var r=e.pendingProps,s=Fe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Re(Fe,s&1),t===null)return _p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yd(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bp(n),e.memoizedState=Ap,t):hg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return AP(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=bs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=bs(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?bp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ap,r}return i=t.child,t=i.sibling,r=bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hg(t,e){return e=Yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xc(t,e,n,r){return r!==null&&Jm(r),Ho(e,t.child,null,n),t=hg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ef(Error(B(422))),Xc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yd({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ho(e,t.child,null,o),e.child.memoizedState=bp(o),e.memoizedState=Ap,i);if(!(e.mode&1))return Xc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Ef(i,r,void 0),Xc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kr(t,s),Vn(r,t,s,-1))}return vg(),r=Ef(Error(B(421))),Xc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=UP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rn=Is(s.nextSibling),on=e,Ve=!0,On=null,t!==null&&(mn[gn++]=Tr,mn[gn++]=Ir,mn[gn++]=Si,Tr=t.id,Ir=t.overflow,Si=e),e=hg(e,r.children),e.flags|=4096,e)}function _0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ep(t.return,e,n)}function xf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function H1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_0(t,n,e);else if(t.tag===19)_0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&td(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&td(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xf(e,!0,n,null,i);break;case"together":xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bP(t,e,n){switch(e.tag){case 3:z1(e),Bo();break;case 5:g1(e);break;case 1:Xt(e.type)&&Qu(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Re(Ju,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?B1(t,e,n):(Re(Fe,Fe.current&1),t=Nr(t,e,n),t!==null?t.sibling:null);Re(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return H1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,U1(t,e,n)}return Nr(t,e,n)}var W1,Pp,q1,G1;W1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pp=function(){};q1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hi(er.current);var i=null;switch(n){case"input":s=Xf(t,s),r=Xf(t,r),i=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":s=ep(t,s),r=ep(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gu)}np(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};G1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ua(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PP(t,e,n){var r=e.pendingProps;switch(Xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Xt(e.type)&&Ku(),At(e),null;case 3:return r=e.stateNode,Wo(),Me(Yt),Me(Mt),og(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Vp(On),On=null))),Pp(t,e),At(e),null;case 5:ig(e);var s=hi(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)q1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return At(e),null}if(t=hi(er.current),Qc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xn]=e,r[Al]=i,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<Ga.length;s++)De(Ga[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Pv(r,i),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},De("invalid",r);break;case"textarea":kv(r,i),De("invalid",r)}np(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Kc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Kc(r.textContent,a,t),s=["children",""+a]):yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":Uc(r),Rv(r,i,!0);break;case"textarea":Uc(r),Nv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xn]=e,t[Al]=r,W1(t,e,!1,!1),e.stateNode=t;e:{switch(o=rp(n,r),n){case"dialog":De("cancel",t),De("close",t),s=r;break;case"iframe":case"object":case"embed":De("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ga.length;s++)De(Ga[s],t);s=r;break;case"source":De("error",t),s=r;break;case"img":case"image":case"link":De("error",t),De("load",t),s=r;break;case"details":De("toggle",t),s=r;break;case"input":Pv(t,r),s=Xf(t,r),De("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),De("invalid",t);break;case"textarea":kv(t,r),s=ep(t,r),De("invalid",t);break;default:s=r}np(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?IE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vl(t,c):typeof c=="number"&&vl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&De("scroll",t):c!=null&&Lm(t,i,c,o))}switch(n){case"input":Uc(t),Rv(t,r,!1);break;case"textarea":Uc(t),Nv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ms(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Eo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)G1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=hi(Pl.current),hi(er.current),Qc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xn]=e,(i=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:Kc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=e,e.stateNode=r}return At(e),null;case 13:if(Me(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&rn!==null&&e.mode&1&&!(e.flags&128))d1(),Bo(),e.flags|=98560,i=!1;else if(i=Qc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Xn]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),i=!1}else On!==null&&(Vp(On),On=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?nt===0&&(nt=3):vg())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return Wo(),Pp(t,e),t===null&&Sl(e.stateNode.containerInfo),At(e),null;case 10:return tg(e.type._context),At(e),null;case 17:return Xt(e.type)&&Ku(),At(e),null;case 19:if(Me(Fe),i=e.memoizedState,i===null)return At(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ua(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=td(t),o!==null){for(e.flags|=128,Ua(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Fe,Fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qe()>Go&&(e.flags|=128,r=!0,Ua(i,!1),e.lanes=4194304)}else{if(!r)if(t=td(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ua(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return At(e),null}else 2*Qe()-i.renderingStartTime>Go&&n!==1073741824&&(e.flags|=128,r=!0,Ua(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qe(),e.sibling=null,n=Fe.current,Re(Fe,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return yg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function RP(t,e){switch(Xm(e),e.tag){case 1:return Xt(e.type)&&Ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(),Me(Yt),Me(Mt),og(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ig(e),null;case 13:if(Me(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Fe),null;case 4:return Wo(),null;case 10:return tg(e.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var Jc=!1,kt=!1,kP=typeof WeakSet=="function"?WeakSet:Set,Q=null;function vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Rp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var E0=!1;function NP(t,e){if(fp=Hu,t=JE(),Qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:t,selectionRange:n},Hu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var _=I.memoizedProps,x=I.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Pn(e.type,_),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Ge(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return I=E0,E0=!1,I}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rp(e,n,i)}s=s.next}while(s!==r)}}function Kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function K1(t){var e=t.alternate;e!==null&&(t.alternate=null,K1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[Al],delete e[yp],delete e[pP],delete e[mP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q1(t){return t.tag===5||t.tag===3||t.tag===4}function x0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gu));else if(r!==4&&(t=t.child,t!==null))for(Np(t,e,n),t=t.sibling;t!==null;)Np(t,e,n),t=t.sibling}function Dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}var pt=null,Dn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)Y1(t,e,n),n=n.sibling}function Y1(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Ud,n)}catch{}switch(n.tag){case 5:kt||vo(n,e);case 6:var r=pt,s=Dn;pt=null,Jr(t,e,n),pt=r,Dn=s,pt!==null&&(Dn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Dn?(t=pt,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),xl(t)):mf(pt,n.stateNode));break;case 4:r=pt,s=Dn,pt=n.stateNode.containerInfo,Dn=!0,Jr(t,e,n),pt=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rp(n,e,o),s=s.next}while(s!==r)}Jr(t,e,n);break;case 1:if(!kt&&(vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,Jr(t,e,n),kt=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function T0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kP),e.forEach(function(r){var s=$P.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function An(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Dn=!1;break e;case 3:pt=a.stateNode.containerInfo,Dn=!0;break e;case 4:pt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(pt===null)throw Error(B(160));Y1(i,o,s),pt=null,Dn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ge(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X1(e,t),e=e.sibling}function X1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),Wn(t),r&4){try{ol(3,t,t.return),Kd(3,t)}catch(_){Ge(t,t.return,_)}try{ol(5,t,t.return)}catch(_){Ge(t,t.return,_)}}break;case 1:An(e,t),Wn(t),r&512&&n!==null&&vo(n,n.return);break;case 5:if(An(e,t),Wn(t),r&512&&n!==null&&vo(n,n.return),t.flags&32){var s=t.stateNode;try{vl(s,"")}catch(_){Ge(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&wE(s,i),rp(a,o);var u=rp(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?IE(s,f):d==="dangerouslySetInnerHTML"?xE(s,f):d==="children"?vl(s,f):Lm(s,d,f,u)}switch(a){case"input":Jf(s,i);break;case"textarea":_E(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Eo(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Eo(s,!!i.multiple,i.defaultValue,!0):Eo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Al]=i}catch(_){Ge(t,t.return,_)}}break;case 6:if(An(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Ge(t,t.return,_)}}break;case 3:if(An(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(e.containerInfo)}catch(_){Ge(t,t.return,_)}break;case 4:An(e,t),Wn(t);break;case 13:An(e,t),Wn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mg=Qe())),r&4&&T0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(u=kt)||d,An(e,t),kt=u):An(e,t),Wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,p=m.child,m.tag){case 0:case 11:case 14:case 15:ol(4,m,m.return);break;case 1:vo(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(_){Ge(r,n,_)}}break;case 5:vo(m,m.return);break;case 22:if(m.memoizedState!==null){S0(f);continue}}p!==null?(p.return=m,Q=p):S0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=TE("display",o))}catch(_){Ge(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Ge(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:An(e,t),Wn(t),r&4&&T0(t);break;case 21:break;default:An(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vl(s,""),r.flags&=-33);var i=x0(t);Dp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x0(t);Np(t,a,o);break;default:throw Error(B(161))}}catch(c){Ge(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DP(t,e,n){Q=t,J1(t)}function J1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Jc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||kt;a=Jc;var u=kt;if(Jc=o,(kt=c)&&!u)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?C0(s):c!==null?(c.return=o,Q=c):C0(s);for(;i!==null;)Q=i,J1(i),i=i.sibling;Q=s,Jc=a,kt=u}I0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):I0(t)}}function I0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&l0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}kt||e.flags&512&&kp(e)}catch(m){Ge(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function S0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function C0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kd(4,e)}catch(c){Ge(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ge(e,s,c)}}var i=e.return;try{kp(e)}catch(c){Ge(e,i,c)}break;case 5:var o=e.return;try{kp(e)}catch(c){Ge(e,o,c)}}}catch(c){Ge(e,e.return,c)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var OP=Math.ceil,sd=$r.ReactCurrentDispatcher,fg=$r.ReactCurrentOwner,En=$r.ReactCurrentBatchConfig,we=0,ct=null,Xe=null,_t=0,tn=0,wo=qs(0),nt=0,Dl=null,Ai=0,Qd=0,pg=0,al=null,Gt=null,mg=0,Go=1/0,_r=null,id=!1,Op=null,Cs=null,Zc=!1,ys=null,od=0,ll=0,Mp=null,Tu=-1,Iu=0;function Ut(){return we&6?Qe():Tu!==-1?Tu:Tu=Qe()}function As(t){return t.mode&1?we&2&&_t!==0?_t&-_t:yP.transition!==null?(Iu===0&&(Iu=LE()),Iu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:BE(t.type)),t):1}function Vn(t,e,n,r){if(50<ll)throw ll=0,Mp=null,Error(B(185));Xl(t,n,r),(!(we&2)||t!==ct)&&(t===ct&&(!(we&2)&&(Qd|=n),nt===4&&os(t,_t)),Jt(t,r),n===1&&we===0&&!(e.mode&1)&&(Go=Qe()+500,Wd&&Gs()))}function Jt(t,e){var n=t.callbackNode;yb(t,e);var r=Bu(t,t===ct?_t:0);if(r===0)n!==null&&Mv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mv(n),e===1)t.tag===0?gP(A0.bind(null,t)):l1(A0.bind(null,t)),hP(function(){!(we&6)&&Gs()}),n=null;else{switch(VE(r)){case 1:n=$m;break;case 4:n=OE;break;case 16:n=zu;break;case 536870912:n=ME;break;default:n=zu}n=ox(n,Z1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z1(t,e){if(Tu=-1,Iu=0,we&6)throw Error(B(327));var n=t.callbackNode;if(Co()&&t.callbackNode!==n)return null;var r=Bu(t,t===ct?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ad(t,r);else{e=r;var s=we;we|=2;var i=tx();(ct!==t||_t!==e)&&(_r=null,Go=Qe()+500,_i(t,e));do try{VP();break}catch(a){ex(t,a)}while(!0);eg(),sd.current=i,we=s,Xe!==null?e=0:(ct=null,_t=0,e=nt)}if(e!==0){if(e===2&&(s=lp(t),s!==0&&(r=s,e=Lp(t,s))),e===1)throw n=Dl,_i(t,0),os(t,r),Jt(t,Qe()),n;if(e===6)os(t,r);else{if(s=t.current.alternate,!(r&30)&&!MP(s)&&(e=ad(t,r),e===2&&(i=lp(t),i!==0&&(r=i,e=Lp(t,i))),e===1))throw n=Dl,_i(t,0),os(t,r),Jt(t,Qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ai(t,Gt,_r);break;case 3:if(os(t,r),(r&130023424)===r&&(e=mg+500-Qe(),10<e)){if(Bu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gp(ai.bind(null,t,Gt,_r),e);break}ai(t,Gt,_r);break;case 4:if(os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ln(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OP(r/1960))-r,10<r){t.timeoutHandle=gp(ai.bind(null,t,Gt,_r),r);break}ai(t,Gt,_r);break;case 5:ai(t,Gt,_r);break;default:throw Error(B(329))}}}return Jt(t,Qe()),t.callbackNode===n?Z1.bind(null,t):null}function Lp(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=ad(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&Vp(e)),t}function Vp(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function MP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(t,e){for(e&=~pg,e&=~Qd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function A0(t){if(we&6)throw Error(B(327));Co();var e=Bu(t,0);if(!(e&1))return Jt(t,Qe()),null;var n=ad(t,e);if(t.tag!==0&&n===2){var r=lp(t);r!==0&&(e=r,n=Lp(t,r))}if(n===1)throw n=Dl,_i(t,0),os(t,e),Jt(t,Qe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,Gt,_r),Jt(t,Qe()),null}function gg(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Go=Qe()+500,Wd&&Gs())}}function bi(t){ys!==null&&ys.tag===0&&!(we&6)&&Co();var e=we;we|=1;var n=En.transition,r=Se;try{if(En.transition=null,Se=1,t)return t()}finally{Se=r,En.transition=n,we=e,!(we&6)&&Gs()}}function yg(){tn=wo.current,Me(wo)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dP(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ku();break;case 3:Wo(),Me(Yt),Me(Mt),og();break;case 5:ig(r);break;case 4:Wo();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:tg(r.type._context);break;case 22:case 23:yg()}n=n.return}if(ct=t,Xe=t=bs(t.current,null),_t=tn=e,nt=0,Dl=null,pg=Qd=Ai=0,Gt=al=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}di=null}return t}function ex(t,e){do{var n=Xe;try{if(eg(),_u.current=rd,nd){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nd=!1}if(Ci=0,lt=et=Ue=null,il=!1,Rl=0,fg.current=null,n===null||n.return===null){nt=1,Dl=e,Xe=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=_t,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=p0(o);if(p!==null){p.flags&=-257,m0(p,o,a,i,e),p.mode&1&&f0(i,u,e),e=p,c=u;var I=e.updateQueue;if(I===null){var _=new Set;_.add(c),e.updateQueue=_}else I.add(c);break e}else{if(!(e&1)){f0(i,u,e),vg();break e}c=Error(B(426))}}else if(Ve&&a.mode&1){var x=p0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),m0(x,o,a,i,e),Jm(qo(c,a));break e}}i=c=qo(c,a),nt!==4&&(nt=2),al===null?al=[i]:al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=V1(i,c,e);a0(i,v);break e;case 1:a=c;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Cs===null||!Cs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=j1(i,a,e);a0(i,N);break e}}i=i.return}while(i!==null)}rx(n)}catch(O){e=O,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function tx(){var t=sd.current;return sd.current=rd,t===null?rd:t}function vg(){(nt===0||nt===3||nt===2)&&(nt=4),ct===null||!(Ai&268435455)&&!(Qd&268435455)||os(ct,_t)}function ad(t,e){var n=we;we|=2;var r=tx();(ct!==t||_t!==e)&&(_r=null,_i(t,e));do try{LP();break}catch(s){ex(t,s)}while(!0);if(eg(),we=n,sd.current=r,Xe!==null)throw Error(B(261));return ct=null,_t=0,nt}function LP(){for(;Xe!==null;)nx(Xe)}function VP(){for(;Xe!==null&&!lb();)nx(Xe)}function nx(t){var e=ix(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?rx(t):Xe=e,fg.current=null}function rx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RP(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Xe=null;return}}else if(n=PP(n,e,tn),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);nt===0&&(nt=5)}function ai(t,e,n){var r=Se,s=En.transition;try{En.transition=null,Se=1,jP(t,e,n,r)}finally{En.transition=s,Se=r}return null}function jP(t,e,n,r){do Co();while(ys!==null);if(we&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vb(t,i),t===ct&&(Xe=ct=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zc||(Zc=!0,ox(zu,function(){return Co(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=En.transition,En.transition=null;var o=Se;Se=1;var a=we;we|=4,fg.current=null,NP(t,n),X1(n,t),sP(pp),Hu=!!fp,pp=fp=null,t.current=n,DP(n),cb(),we=a,Se=o,En.transition=i}else t.current=n;if(Zc&&(Zc=!1,ys=t,od=s),i=t.pendingLanes,i===0&&(Cs=null),hb(n.stateNode),Jt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(id)throw id=!1,t=Op,Op=null,t;return od&1&&t.tag!==0&&Co(),i=t.pendingLanes,i&1?t===Mp?ll++:(ll=0,Mp=t):ll=0,Gs(),null}function Co(){if(ys!==null){var t=VE(od),e=En.transition,n=Se;try{if(En.transition=null,Se=16>t?16:t,ys===null)var r=!1;else{if(t=ys,ys=null,od=0,we&6)throw Error(B(331));var s=we;for(we|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:ol(8,d,i)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,p=d.return;if(K1(d),d===u){Q=null;break}if(m!==null){m.return=p,Q=m;break}Q=p}}}var I=i.alternate;if(I!==null){var _=I.child;if(_!==null){I.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ol(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var w=t.current;for(Q=w;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kd(9,a)}}catch(O){Ge(a,a.return,O)}if(a===o){Q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Q=N;break e}Q=a.return}}if(we=s,Gs(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Ud,t)}catch{}r=!0}return r}finally{Se=n,En.transition=e}}return!1}function b0(t,e,n){e=qo(n,e),e=V1(t,e,1),t=Ss(t,e,1),e=Ut(),t!==null&&(Xl(t,1,e),Jt(t,e))}function Ge(t,e,n){if(t.tag===3)b0(t,t,n);else for(;e!==null;){if(e.tag===3){b0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){t=qo(n,t),t=j1(e,t,1),e=Ss(e,t,1),t=Ut(),e!==null&&(Xl(e,1,t),Jt(e,t));break}}e=e.return}}function FP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(_t&n)===n&&(nt===4||nt===3&&(_t&130023424)===_t&&500>Qe()-mg?_i(t,0):pg|=n),Jt(t,e)}function sx(t,e){e===0&&(t.mode&1?(e=Bc,Bc<<=1,!(Bc&130023424)&&(Bc=4194304)):e=1);var n=Ut();t=kr(t,e),t!==null&&(Xl(t,e,n),Jt(t,n))}function UP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sx(t,n)}function $P(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),sx(t,n)}var ix;ix=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,bP(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Ve&&e.flags&1048576&&c1(e,Xu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xu(t,e),t=e.pendingProps;var s=zo(e,Mt.current);So(e,n),s=lg(null,e,r,t,s,n);var i=cg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(i=!0,Qu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rg(e),s.updater=Gd,e.stateNode=s,s._reactInternals=e,Tp(e,r,t,n),e=Cp(null,e,r,!0,i,n)):(e.tag=0,Ve&&i&&Ym(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=BP(r),t=Pn(r,t),s){case 0:e=Sp(null,e,r,t,n);break e;case 1:e=v0(null,e,r,t,n);break e;case 11:e=g0(null,e,r,t,n);break e;case 14:e=y0(null,e,r,Pn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Sp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),v0(t,e,r,s,n);case 3:e:{if(z1(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,m1(t,e),ed(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qo(Error(B(423)),e),e=w0(t,e,r,n,s);break e}else if(r!==s){s=qo(Error(B(424)),e),e=w0(t,e,r,n,s);break e}else for(rn=Is(e.stateNode.containerInfo.firstChild),on=e,Ve=!0,On=null,n=f1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===s){e=Nr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return g1(e),t===null&&_p(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,mp(r,s)?o=null:i!==null&&mp(r,i)&&(e.flags|=32),$1(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&_p(e),null;case 13:return B1(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ho(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),g0(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Re(Ju,r._currentValue),r._currentValue=o,i!==null)if(jn(i.value,o)){if(i.children===s.children&&!Yt.current){e=Nr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ar(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ep(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ep(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,So(e,n),s=xn(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=Pn(r,e.pendingProps),s=Pn(r.type,s),y0(t,e,r,s,n);case 15:return F1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),xu(t,e),e.tag=1,Xt(r)?(t=!0,Qu(e)):t=!1,So(e,n),L1(e,r,s),Tp(e,r,s,n),Cp(null,e,r,!0,t,n);case 19:return H1(t,e,n);case 22:return U1(t,e,n)}throw Error(B(156,e.tag))};function ox(t,e){return DE(t,e)}function zP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new zP(t,e,n,r)}function wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BP(t){if(typeof t=="function")return wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jm)return 11;if(t===Fm)return 14}return 2}function bs(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Su(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")wg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lo:return Ei(n.children,s,i,e);case Vm:o=8,s|=8;break;case Gf:return t=wn(12,n,e,s|2),t.elementType=Gf,t.lanes=i,t;case Kf:return t=wn(13,n,e,s),t.elementType=Kf,t.lanes=i,t;case Qf:return t=wn(19,n,e,s),t.elementType=Qf,t.lanes=i,t;case gE:return Yd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pE:o=10;break e;case mE:o=9;break e;case jm:o=11;break e;case Fm:o=14;break e;case rs:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=wn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function Yd(t,e,n,r){return t=wn(22,t,r,e),t.elementType=gE,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function If(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _g(t,e,n,r,s,i,o,a,c){return t=new HP(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rg(i),t}function WP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ax(t){if(!t)return Ls;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Xt(n))return a1(t,n,e)}return e}function lx(t,e,n,r,s,i,o,a,c){return t=_g(n,r,!0,t,s,i,o,a,c),t.context=ax(null),n=t.current,r=Ut(),s=As(n),i=Ar(r,s),i.callback=e??null,Ss(n,i,s),t.current.lanes=s,Xl(t,s,r),Jt(t,r),t}function Xd(t,e,n,r){var s=e.current,i=Ut(),o=As(s);return n=ax(n),e.context===null?e.context=n:e.pendingContext=n,e=Ar(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ss(s,e,o),t!==null&&(Vn(t,s,o,i),wu(t,s,o)),o}function ld(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eg(t,e){P0(t,e),(t=t.alternate)&&P0(t,e)}function qP(){return null}var cx=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}Jd.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Xd(t,e,null,null)};Jd.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){Xd(null,t,null,null)}),e[Rr]=null}};function Jd(t){this._internalRoot=t}Jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=UE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<is.length&&e!==0&&e<is[n].priority;n++);is.splice(n,0,t),n===0&&zE(t)}};function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R0(){}function GP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ld(o);i.call(u)}}var o=lx(e,r,t,0,null,!1,!1,"",R0);return t._reactRootContainer=o,t[Rr]=o.current,Sl(t.nodeType===8?t.parentNode:t),bi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ld(c);a.call(u)}}var c=_g(t,0,!1,null,null,!1,!1,"",R0);return t._reactRootContainer=c,t[Rr]=c.current,Sl(t.nodeType===8?t.parentNode:t),bi(function(){Xd(e,c,n,r)}),c}function eh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=ld(o);a.call(c)}}Xd(e,o,t,s)}else o=GP(n,e,t,s,r);return ld(o)}jE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qa(e.pendingLanes);n!==0&&(zm(e,n|1),Jt(e,Qe()),!(we&6)&&(Go=Qe()+500,Gs()))}break;case 13:bi(function(){var r=kr(t,1);if(r!==null){var s=Ut();Vn(r,t,1,s)}}),Eg(t,1)}};Bm=function(t){if(t.tag===13){var e=kr(t,134217728);if(e!==null){var n=Ut();Vn(e,t,134217728,n)}Eg(t,134217728)}};FE=function(t){if(t.tag===13){var e=As(t),n=kr(t,e);if(n!==null){var r=Ut();Vn(n,t,e,r)}Eg(t,e)}};UE=function(){return Se};$E=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};ip=function(t,e,n){switch(e){case"input":if(Jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Hd(r);if(!s)throw Error(B(90));vE(r),Jf(r,s)}}}break;case"textarea":_E(t,n);break;case"select":e=n.value,e!=null&&Eo(t,!!n.multiple,e,!1)}};AE=gg;bE=bi;var KP={usingClientEntryPoint:!1,Events:[Zl,fo,Hd,SE,CE,gg]},$a={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kE(t),t===null?null:t.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||qP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{Ud=eu.inject(QP),Zn=eu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(e))throw Error(B(200));return WP(t,e,null,n)};cn.createRoot=function(t,e){if(!Tg(t))throw Error(B(299));var n=!1,r="",s=cx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_g(t,1,!1,null,null,n,!1,r,s),t[Rr]=e.current,Sl(t.nodeType===8?t.parentNode:t),new xg(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=kE(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return bi(t)};cn.hydrate=function(t,e,n){if(!Zd(e))throw Error(B(200));return eh(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Tg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=cx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lx(e,null,t,1,n??null,s,!1,i,o),t[Rr]=e.current,Sl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Jd(e)};cn.render=function(t,e,n){if(!Zd(e))throw Error(B(200));return eh(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!Zd(t))throw Error(B(40));return t._reactRootContainer?(bi(function(){eh(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};cn.unstable_batchedUpdates=gg;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return eh(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function ux(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ux)}catch(t){console.error(t)}}ux(),uE.exports=cn;var tc=uE.exports;const dx=J_(tc);var hx,k0=tc;hx=k0.createRoot,k0.hydrateRoot;const YP=1,XP=1e6;let Sf=0;function JP(){return Sf=(Sf+1)%Number.MAX_SAFE_INTEGER,Sf.toString()}const Cf=new Map,N0=t=>{if(Cf.has(t))return;const e=setTimeout(()=>{Cf.delete(t),cl({type:"REMOVE_TOAST",toastId:t})},XP);Cf.set(t,e)},ZP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,YP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?N0(n):t.toasts.forEach(r=>{N0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Cu=[];let Au={toasts:[]};function cl(t){Au=ZP(Au,t),Cu.forEach(e=>{e(Au)})}function eR({...t}){const e=JP(),n=s=>cl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>cl({type:"DISMISS_TOAST",toastId:e});return cl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function tR(){const[t,e]=C.useState(Au);return C.useEffect(()=>(Cu.push(e),()=>{const n=Cu.indexOf(e);n>-1&&Cu.splice(n,1)}),[t]),{...t,toast:eR,dismiss:n=>cl({type:"DISMISS_TOAST",toastId:n})}}function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function D0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=D0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():D0(t[s],null)}}}}function In(...t){return C.useCallback(fx(...t),t)}function Fi(t,e=[]){let n=[];function r(i,o){const a=C.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:m,children:p,...I}=f,_=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,x=C.useMemo(()=>I,Object.values(I));return g.jsx(_.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,m){var _;const p=((_=m==null?void 0:m[t])==null?void 0:_[c])||a,I=C.useContext(p);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,nR(s,...e)]}function nR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function cd(t){const e=sR(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),c=a.find(oR);if(c){const u=c.props.children,d=a.map(f=>f===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return g.jsx(e,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var rR=cd("Slot");function sR(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=lR(s),a=aR(i,s.props);return s.type!==C.Fragment&&(a.ref=r?fx(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var px=Symbol("radix.slottable");function iR(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=px,e}function oR(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===px}function aR(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function lR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mx(t){const e=t+"CollectionProvider",[n,r]=Fi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:x,children:v}=_,w=q.useRef(null),T=q.useRef(new Map).current;return g.jsx(s,{scope:x,itemMap:T,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",c=cd(a),u=q.forwardRef((_,x)=>{const{scope:v,children:w}=_,T=i(a,v),N=In(x,T.collectionRef);return g.jsx(c,{ref:N,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=cd(d),p=q.forwardRef((_,x)=>{const{scope:v,children:w,...T}=_,N=q.useRef(null),O=In(x,N),L=i(d,v);return q.useEffect(()=>(L.itemMap.set(N,{ref:N,...T}),()=>void L.itemMap.delete(N))),g.jsx(m,{[f]:"",ref:O,children:w})});p.displayName=d;function I(_){const x=i(t+"CollectionConsumer",_);return q.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((L,A)=>T.indexOf(L.ref.current)-T.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},I,r]}var cR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=cR.reduce((t,e)=>{const n=cd(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function gx(t,e){t&&tc.flushSync(()=>t.dispatchEvent(e))}function Dr(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function uR(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var dR="DismissableLayer",jp="dismissableLayer.update",hR="dismissableLayer.pointerDownOutside",fR="dismissableLayer.focusOutside",O0,yx=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ig=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=C.useContext(yx),[d,f]=C.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),I=In(e,A=>f(A)),_=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(x),w=d?_.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=v,O=mR(A=>{const E=A.target,P=[...u.branches].some(b=>b.contains(E));!N||P||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},m),L=gR(A=>{const E=A.target;[...u.branches].some(b=>b.contains(E))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},m);return uR(A=>{w===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},m),C.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(O0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),M0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=O0)}},[d,m,n,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),M0())},[d,u]),C.useEffect(()=>{const A=()=>p({});return document.addEventListener(jp,A),()=>document.removeEventListener(jp,A)},[]),g.jsx(Be.div,{...c,ref:I,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,O.onPointerDownCapture)})});Ig.displayName=dR;var pR="DismissableLayerBranch",vx=C.forwardRef((t,e)=>{const n=C.useContext(yx),r=C.useRef(null),s=In(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(Be.div,{...t,ref:s})});vx.displayName=pR;function mR(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){wx(hR,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function gR(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&wx(fR,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function M0(){const t=new CustomEvent(jp);document.dispatchEvent(t)}function wx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?gx(s,i):s.dispatchEvent(i)}var yR=Ig,vR=vx,Or=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},wR="Portal",_x=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=C.useState(!1);Or(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dx.createPortal(g.jsx(Be.div,{...r,ref:e}),o):null});_x.displayName=wR;function _R(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var th=t=>{const{present:e,children:n}=t,r=ER(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=In(r.ref,xR(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};th.displayName="Presence";function ER(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[a,c]=_R(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=tu(r.current);i.current=a==="mounted"?u:"none"},[a]),Or(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,p=tu(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Or(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const _=tu(r.current).includes(p.animationName);if(p.target===e&&_&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=p=>{p.target===e&&(i.current=tu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function tu(t){return(t==null?void 0:t.animationName)||"none"}function xR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var TR=Dm[" useInsertionEffect ".trim().toString()]||Or;function Sg({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=IR({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const d=C.useRef(t!==void 0);C.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=C.useCallback(d=>{var f;if(a){const m=SR(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[a,t,i,o]);return[c,u]}function IR({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return TR(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function SR(t){return typeof t=="function"}var CR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AR="VisuallyHidden",nh=C.forwardRef((t,e)=>g.jsx(Be.span,{...t,ref:e,style:{...CR,...t.style}}));nh.displayName=AR;var bR=nh,Cg="ToastProvider",[Ag,PR,RR]=mx("Toast"),[Ex,K5]=Fi("Toast",[RR]),[kR,rh]=Ex(Cg),xx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=C.useState(null),[u,d]=C.useState(0),f=C.useRef(!1),m=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cg}\`. Expected non-empty \`string\`.`),g.jsx(Ag.Provider,{scope:e,children:g.jsx(kR,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:C.useCallback(()=>d(p=>p+1),[]),onToastRemove:C.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};xx.displayName=Cg;var Tx="ToastViewport",NR=["F8"],Fp="toast.viewportPause",Up="toast.viewportResume",Ix=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=NR,label:s="Notifications ({hotkey})",...i}=t,o=rh(Tx,n),a=PR(n),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),f=C.useRef(null),m=In(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;C.useEffect(()=>{const x=v=>{var T;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=c.current,v=f.current;if(I&&x&&v){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Fp);v.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Up);v.dispatchEvent(L),o.isClosePausedRef.current=!1}},N=L=>{!x.contains(L.relatedTarget)&&T()},O=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",w),x.addEventListener("focusout",N),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[I,o.isClosePausedRef]);const _=C.useCallback(({tabbingDirection:x})=>{const w=a().map(T=>{const N=T.ref.current,O=[N,...WR(N)];return x==="forwards"?O:O.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return C.useEffect(()=>{const x=f.current;if(x){const v=w=>{var O,L,A;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const E=document.activeElement,P=w.shiftKey;if(w.target===x&&P){(O=u.current)==null||O.focus();return}const D=_({tabbingDirection:P?"backwards":"forwards"}),R=D.findIndex(W=>W===E);Af(D.slice(R+1))?w.preventDefault():P?(L=u.current)==null||L.focus():(A=d.current)==null||A.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,_]),g.jsxs(vR,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&g.jsx($p,{ref:u,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});Af(x)}}),g.jsx(Ag.Slot,{scope:n,children:g.jsx(Be.ol,{tabIndex:-1,...i,ref:m})}),I&&g.jsx($p,{ref:d,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});Af(x)}})]})});Ix.displayName=Tx;var Sx="ToastFocusProxy",$p=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=rh(Sx,n);return g.jsx(nh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});$p.displayName=Sx;var nc="Toast",DR="toast.swipeStart",OR="toast.swipeMove",MR="toast.swipeCancel",LR="toast.swipeEnd",Cx=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=Sg({prop:r,defaultProp:s??!0,onChange:i,caller:nc});return g.jsx(th,{present:n||a,children:g.jsx(FR,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Dr(t.onPause),onResume:Dr(t.onResume),onSwipeStart:Ce(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Cx.displayName=nc;var[VR,jR]=Ex(nc,{onClose(){}}),FR=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...I}=t,_=rh(nc,n),[x,v]=C.useState(null),w=In(e,W=>v(W)),T=C.useRef(null),N=C.useRef(null),O=s||_.duration,L=C.useRef(0),A=C.useRef(O),E=C.useRef(0),{onToastAdd:P,onToastRemove:b}=_,k=Dr(()=>{var ie;(x==null?void 0:x.contains(document.activeElement))&&((ie=_.viewport)==null||ie.focus()),o()}),D=C.useCallback(W=>{!W||W===1/0||(window.clearTimeout(E.current),L.current=new Date().getTime(),E.current=window.setTimeout(k,W))},[k]);C.useEffect(()=>{const W=_.viewport;if(W){const ie=()=>{D(A.current),u==null||u()},J=()=>{const ne=new Date().getTime()-L.current;A.current=A.current-ne,window.clearTimeout(E.current),c==null||c()};return W.addEventListener(Fp,J),W.addEventListener(Up,ie),()=>{W.removeEventListener(Fp,J),W.removeEventListener(Up,ie)}}},[_.viewport,O,c,u,D]),C.useEffect(()=>{i&&!_.isClosePausedRef.current&&D(O)},[i,O,_.isClosePausedRef,D]),C.useEffect(()=>(P(),()=>b()),[P,b]);const R=C.useMemo(()=>x?Dx(x):null,[x]);return _.viewport?g.jsxs(g.Fragment,{children:[R&&g.jsx(UR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),g.jsx(VR,{scope:n,onClose:k,children:tc.createPortal(g.jsx(Ag.ItemSlot,{scope:n,children:g.jsx(yR,{asChild:!0,onEscapeKeyDown:Ce(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||k(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...I,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ce(t.onPointerDown,W=>{W.button===0&&(T.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ce(t.onPointerMove,W=>{if(!T.current)return;const ie=W.clientX-T.current.x,J=W.clientY-T.current.y,ne=!!N.current,F=["left","right"].includes(_.swipeDirection),V=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,H=F?V(0,ie):0,Z=F?0:V(0,J),Y=W.pointerType==="touch"?10:2,ee={x:H,y:Z},de={originalEvent:W,delta:ee};ne?(N.current=ee,nu(OR,f,de,{discrete:!1})):L0(ee,_.swipeDirection,Y)?(N.current=ee,nu(DR,d,de,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ie)>Y||Math.abs(J)>Y)&&(T.current=null)}),onPointerUp:Ce(t.onPointerUp,W=>{const ie=N.current,J=W.target;if(J.hasPointerCapture(W.pointerId)&&J.releasePointerCapture(W.pointerId),N.current=null,T.current=null,ie){const ne=W.currentTarget,F={originalEvent:W,delta:ie};L0(ie,_.swipeDirection,_.swipeThreshold)?nu(LR,p,F,{discrete:!0}):nu(MR,m,F,{discrete:!0}),ne.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),UR=t=>{const{__scopeToast:e,children:n,...r}=t,s=rh(nc,e),[i,o]=C.useState(!1),[a,c]=C.useState(!1);return BR(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(_x,{asChild:!0,children:g.jsx(nh,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},$R="ToastTitle",Ax=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Be.div,{...r,ref:e})});Ax.displayName=$R;var zR="ToastDescription",bx=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Be.div,{...r,ref:e})});bx.displayName=zR;var Px="ToastAction",Rx=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(Nx,{altText:n,asChild:!0,children:g.jsx(bg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Px}\`. Expected non-empty \`string\`.`),null)});Rx.displayName=Px;var kx="ToastClose",bg=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=jR(kx,n);return g.jsx(Nx,{asChild:!0,children:g.jsx(Be.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,s.onClose)})})});bg.displayName=kx;var Nx=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Dx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Dx(r))}}),e}function nu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?gx(s,i):s.dispatchEvent(i)}var L0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function BR(t=()=>{}){const e=Dr(t);Or(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function HR(t){return t.nodeType===t.ELEMENT_NODE}function WR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Af(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qR=xx,Ox=Ix,Mx=Cx,Lx=Ax,Vx=bx,jx=Rx,Fx=bg;function Ux(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ux(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $x(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ux(t))&&(r&&(r+=" "),r+=e);return r}const V0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,j0=$x,rc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return j0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=V0(d)||V0(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(I=>{let[_,x]=I;return Array.isArray(x)?x.includes({...i,...a}[_]):{...i,...a}[_]===x})?[...u,f,m]:u},[]);return j0(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>C.createElement("svg",{ref:c,...KR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zx("lucide",s),...a},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(QR,{ref:i,iconNode:e,className:zx(`lucide-${GR(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=it("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=it("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=it("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=it("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=it("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=it("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=it("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=it("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=it("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=it("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=it("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=it("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=it("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Rg="-",ok=t=>{const e=lk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Rg);return a[0]===""&&a.length!==1&&a.shift(),qx(a,e)||ak(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},qx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?qx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Rg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},F0=/^\[(.+)\]$/,ak=t=>{if(F0.test(t)){const e=F0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Hp(o,r,i,e)}),r},Hp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:U0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(ck(s)){Hp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Hp(o,U0(e,i),n,r)})})},U0=(t,e)=>{let n=t;return e.split(Rg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ck=t=>t.isThemeGetter,uk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,dk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Gx="!",hk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let x=0;x<a.length;x++){let v=a[x];if(u===0){if(v===s&&(r||a.slice(x,x+i)===e)){c.push(a.slice(d,x)),d=x+i;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?a:a.substring(d),p=m.startsWith(Gx),I=p?m.substring(1):m,_=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:I,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},fk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pk=t=>({cache:dk(t.cacheSize),parseClassName:hk(t),...ok(t)}),mk=/\s+/,gk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(mk);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let I=!!p,_=r(I?m.substring(0,p):m);if(!_){if(!I){a=u+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=u+(a.length>0?" "+a:a);continue}I=!1}const x=fk(d).join(":"),v=f?x+Gx:x,w=v+_;if(i.includes(w))continue;i.push(w);const T=s(_,I);for(let N=0;N<T.length;++N){const O=T[N];i.push(v+O)}a=u+(a.length>0?" "+a:a)}return a};function yk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Kx(e))&&(r&&(r+=" "),r+=n);return r}const Kx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Kx(t[r]))&&(n&&(n+=" "),n+=e);return n};function vk(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=pk(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=gk(c,n);return s(c,d),d}return function(){return i(yk.apply(null,arguments))}}const Ne=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Qx=/^\[(?:([a-z-]+):)?(.+)\]$/i,wk=/^\d+\/\d+$/,_k=new Set(["px","full","screen"]),Ek=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ik=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=t=>Ao(t)||_k.has(t)||wk.test(t),Zr=t=>la(t,"length",Dk),Ao=t=>!!t&&!Number.isNaN(Number(t)),bf=t=>la(t,"number",Ao),za=t=>!!t&&Number.isInteger(Number(t)),Ck=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),ue=t=>Qx.test(t),es=t=>Ek.test(t),Ak=new Set(["length","size","percentage"]),bk=t=>la(t,Ak,Yx),Pk=t=>la(t,"position",Yx),Rk=new Set(["image","url"]),kk=t=>la(t,Rk,Mk),Nk=t=>la(t,"",Ok),Ba=()=>!0,la=(t,e,n)=>{const r=Qx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Dk=t=>xk.test(t)&&!Tk.test(t),Yx=()=>!1,Ok=t=>Ik.test(t),Mk=t=>Sk.test(t),Lk=()=>{const t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),i=Ne("borderRadius"),o=Ne("borderSpacing"),a=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),f=Ne("invert"),m=Ne("gap"),p=Ne("gradientColorStops"),I=Ne("gradientColorStopPositions"),_=Ne("inset"),x=Ne("margin"),v=Ne("opacity"),w=Ne("padding"),T=Ne("saturate"),N=Ne("scale"),O=Ne("sepia"),L=Ne("skew"),A=Ne("space"),E=Ne("translate"),P=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ue,e],D=()=>[ue,e],R=()=>["",vr,Zr],W=()=>["auto",Ao,ue],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ue],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Ao,ue];return{cacheSize:500,separator:":",theme:{colors:[Ba],spacing:[vr,Zr],blur:["none","",es,ue],brightness:Z(),borderColor:[t],borderRadius:["none","","full",es,ue],borderSpacing:D(),borderWidth:R(),contrast:Z(),grayscale:V(),hueRotate:Z(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[Ck,Zr],inset:k(),margin:k(),opacity:Z(),padding:D(),saturate:Z(),scale:Z(),sepia:V(),skew:Z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ue]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",za,ue]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",za,ue]}],"grid-cols":[{"grid-cols":[Ba]}],"col-start-end":[{col:["auto",{span:["full",za,ue]},ue]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Ba]}],"row-start-end":[{row:["auto",{span:[za,ue]},ue]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bf]}],"font-family":[{font:[Ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Ao,bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,Zr]}],"underline-offset":[{"underline-offset":["auto",vr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),Pk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[vr,ue]}],"outline-w":[{outline:[vr,Zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[vr,Zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,Nk]}],"shadow-color":[{shadow:[Ba]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",es,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[za,ue]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vr,Zr,bf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vk=vk(Lk);function je(...t){return Vk($x(t))}const jk=qR,Xx=C.forwardRef(({className:t,...e},n)=>g.jsx(Ox,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Xx.displayName=Ox.displayName;const Fk=rc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Jx=C.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(Mx,{ref:r,className:je(Fk({variant:e}),t),...n}));Jx.displayName=Mx.displayName;const Uk=C.forwardRef(({className:t,...e},n)=>g.jsx(jx,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Uk.displayName=jx.displayName;const Zx=C.forwardRef(({className:t,...e},n)=>g.jsx(Fx,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(sk,{className:"h-4 w-4"})}));Zx.displayName=Fx.displayName;const eT=C.forwardRef(({className:t,...e},n)=>g.jsx(Lx,{ref:n,className:je("text-sm font-semibold",t),...e}));eT.displayName=Lx.displayName;const tT=C.forwardRef(({className:t,...e},n)=>g.jsx(Vx,{ref:n,className:je("text-sm opacity-90",t),...e}));tT.displayName=Vx.displayName;function $k(){const{toasts:t}=tR();return g.jsxs(jk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(Jx,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(eT,{children:n}),r&&g.jsx(tT,{children:r})]}),s,g.jsx(Zx,{})]},e)}),g.jsx(Xx,{})]})}var $0=["light","dark"],zk="(prefers-color-scheme: dark)",Bk=C.createContext(void 0),Hk={setTheme:t=>{},themes:[]},Wk=()=>{var t;return(t=C.useContext(Bk))!=null?t:Hk};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(I=>`'${I}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?$0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(I,_=!1,x=!0)=>{let v=o?o[I]:I,w=_?I+"|| ''":`'${v}'`,T="";return s&&x&&!_&&$0.includes(I)&&(T+=`d.style.colorScheme = '${I}';`),n==="class"?_||v?T+=`c.add(${w})`:T+="null":v&&(T+=`d[s](n,${w})`),T},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${zk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var qk=t=>{switch(t){case"success":return Qk;case"info":return Xk;case"warning":return Yk;case"error":return Jk;default:return null}},Gk=Array(12).fill(0),Kk=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},Gk.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Qk=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Yk=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xk=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jk=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Zk=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eN=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Wp=1,tN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Wp++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(rN(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Wp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new tN,nN=(t,e)=>{let n=(e==null?void 0:e.id)||Wp++;return Wt.addToast({title:t,...e,id:n}),n},rN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",sN=nN,iN=()=>Wt.toasts,oN=()=>Wt.getActiveToasts();Object.assign(sN,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:iN,getToasts:oN});function aN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}aN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function su(t){return t.label!==void 0}var lN=3,cN="32px",uN="16px",z0=4e3,dN=356,hN=14,fN=20,pN=200;function bn(...t){return t.filter(Boolean).join(" ")}function mN(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var gN=t=>{var e,n,r,s,i,o,a,c,u,d,f;let{invert:m,toast:p,unstyled:I,interacting:_,setHeights:x,visibleToasts:v,heights:w,index:T,toasts:N,expanded:O,removeToast:L,defaultRichColors:A,closeButton:E,style:P,cancelButtonStyle:b,actionButtonStyle:k,className:D="",descriptionClassName:R="",duration:W,position:ie,gap:J,loadingIcon:ne,expandByDefault:F,classNames:V,icons:H,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:Y}=t,[ee,de]=q.useState(null),[Pe,ot]=q.useState(null),[ge,Hr]=q.useState(!1),[zn,dn]=q.useState(!1),[Zt,Bn]=q.useState(!1),[hn,Wr]=q.useState(!1),[Xs,Js]=q.useState(!1),[Ea,Zs]=q.useState(0),[fr,Hi]=q.useState(0),qr=q.useRef(p.duration||W||z0),_c=q.useRef(null),Sn=q.useRef(null),xa=T===0,Ec=T+1<=v,Ie=p.type,He=p.dismissible!==!1,Wi=p.className||"",xc=p.descriptionClassName||"",ei=q.useMemo(()=>w.findIndex(oe=>oe.toastId===p.id)||0,[w,p.id]),Vh=q.useMemo(()=>{var oe;return(oe=p.closeButton)!=null?oe:E},[p.closeButton,E]),Gr=q.useMemo(()=>p.duration||W||z0,[p.duration,W]),qi=q.useRef(0),pr=q.useRef(0),Gi=q.useRef(0),Kr=q.useRef(null),[jh,Ta]=ie.split("-"),Ia=q.useMemo(()=>w.reduce((oe,ve,Ae)=>Ae>=ei?oe:oe+ve.height,0),[w,ei]),Sa=eN(),ti=p.invert||m,ni=Ie==="loading";pr.current=q.useMemo(()=>ei*J+Ia,[ei,Ia]),q.useEffect(()=>{qr.current=Gr},[Gr]),q.useEffect(()=>{Hr(!0)},[]),q.useEffect(()=>{let oe=Sn.current;if(oe){let ve=oe.getBoundingClientRect().height;return Hi(ve),x(Ae=>[{toastId:p.id,height:ve,position:p.position},...Ae]),()=>x(Ae=>Ae.filter(dt=>dt.toastId!==p.id))}},[x,p.id]),q.useLayoutEffect(()=>{if(!ge)return;let oe=Sn.current,ve=oe.style.height;oe.style.height="auto";let Ae=oe.getBoundingClientRect().height;oe.style.height=ve,Hi(Ae),x(dt=>dt.find(Bt=>Bt.toastId===p.id)?dt.map(Bt=>Bt.toastId===p.id?{...Bt,height:Ae}:Bt):[{toastId:p.id,height:Ae,position:p.position},...dt])},[ge,p.title,p.description,x,p.id]);let fn=q.useCallback(()=>{dn(!0),Zs(pr.current),x(oe=>oe.filter(ve=>ve.toastId!==p.id)),setTimeout(()=>{L(p)},pN)},[p,L,x,pr]);q.useEffect(()=>{if(p.promise&&Ie==="loading"||p.duration===1/0||p.type==="loading")return;let oe;return O||_||Y&&Sa?(()=>{if(Gi.current<qi.current){let ve=new Date().getTime()-qi.current;qr.current=qr.current-ve}Gi.current=new Date().getTime()})():qr.current!==1/0&&(qi.current=new Date().getTime(),oe=setTimeout(()=>{var ve;(ve=p.onAutoClose)==null||ve.call(p,p),fn()},qr.current)),()=>clearTimeout(oe)},[O,_,p,Ie,Y,Sa,fn]),q.useEffect(()=>{p.delete&&fn()},[fn,p.delete]);function mr(){var oe,ve,Ae;return H!=null&&H.loading?q.createElement("div",{className:bn(V==null?void 0:V.loader,(oe=p==null?void 0:p.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Ie==="loading"},H.loading):ne?q.createElement("div",{className:bn(V==null?void 0:V.loader,(ve=p==null?void 0:p.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":Ie==="loading"},ne):q.createElement(Kk,{className:bn(V==null?void 0:V.loader,(Ae=p==null?void 0:p.classNames)==null?void 0:Ae.loader),visible:Ie==="loading"})}return q.createElement("li",{tabIndex:0,ref:Sn,className:bn(D,Wi,V==null?void 0:V.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Ie],(n=p==null?void 0:p.classNames)==null?void 0:n[Ie]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:A,"data-styled":!(p.jsx||p.unstyled||I),"data-mounted":ge,"data-promise":!!p.promise,"data-swiped":Xs,"data-removed":zn,"data-visible":Ec,"data-y-position":jh,"data-x-position":Ta,"data-index":T,"data-front":xa,"data-swiping":Zt,"data-dismissible":He,"data-type":Ie,"data-invert":ti,"data-swipe-out":hn,"data-swipe-direction":Pe,"data-expanded":!!(O||F&&ge),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${zn?Ea:pr.current}px`,"--initial-height":F?"auto":`${fr}px`,...P,...p.style},onDragEnd:()=>{Bn(!1),de(null),Kr.current=null},onPointerDown:oe=>{ni||!He||(_c.current=new Date,Zs(pr.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Bn(!0),Kr.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,ve,Ae,dt;if(hn||!He)return;Kr.current=null;let Bt=Number(((oe=Sn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Le=Number(((ve=Sn.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Hn=new Date().getTime()-((Ae=_c.current)==null?void 0:Ae.getTime()),ht=ee==="x"?Bt:Le,Ht=Math.abs(ht)/Hn;if(Math.abs(ht)>=fN||Ht>.11){Zs(pr.current),(dt=p.onDismiss)==null||dt.call(p,p),ot(ee==="x"?Bt>0?"right":"left":Le>0?"down":"up"),fn(),Wr(!0),Js(!1);return}Bn(!1),de(null)},onPointerMove:oe=>{var ve,Ae,dt,Bt;if(!Kr.current||!He||((ve=window.getSelection())==null?void 0:ve.toString().length)>0)return;let Le=oe.clientY-Kr.current.y,Hn=oe.clientX-Kr.current.x,ht=(Ae=t.swipeDirections)!=null?Ae:mN(ie);!ee&&(Math.abs(Hn)>1||Math.abs(Le)>1)&&de(Math.abs(Hn)>Math.abs(Le)?"x":"y");let Ht={x:0,y:0};ee==="y"?(ht.includes("top")||ht.includes("bottom"))&&(ht.includes("top")&&Le<0||ht.includes("bottom")&&Le>0)&&(Ht.y=Le):ee==="x"&&(ht.includes("left")||ht.includes("right"))&&(ht.includes("left")&&Hn<0||ht.includes("right")&&Hn>0)&&(Ht.x=Hn),(Math.abs(Ht.x)>0||Math.abs(Ht.y)>0)&&Js(!0),(dt=Sn.current)==null||dt.style.setProperty("--swipe-amount-x",`${Ht.x}px`),(Bt=Sn.current)==null||Bt.style.setProperty("--swipe-amount-y",`${Ht.y}px`)}},Vh&&!p.jsx?q.createElement("button",{"aria-label":Z,"data-disabled":ni,"data-close-button":!0,onClick:ni||!He?()=>{}:()=>{var oe;fn(),(oe=p.onDismiss)==null||oe.call(p,p)},className:bn(V==null?void 0:V.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:Zk):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:q.createElement(q.Fragment,null,Ie||p.icon||p.promise?q.createElement("div",{"data-icon":"",className:bn(V==null?void 0:V.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||mr():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Ie])||qk(Ie):null):null,q.createElement("div",{"data-content":"",className:bn(V==null?void 0:V.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:bn(V==null?void 0:V.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?q.createElement("div",{"data-description":"",className:bn(R,xc,V==null?void 0:V.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&su(p.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||b,onClick:oe=>{var ve,Ae;su(p.cancel)&&He&&((Ae=(ve=p.cancel).onClick)==null||Ae.call(ve,oe),fn())},className:bn(V==null?void 0:V.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&su(p.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:oe=>{var ve,Ae;su(p.action)&&((Ae=(ve=p.action).onClick)==null||Ae.call(ve,oe),!oe.defaultPrevented&&fn())},className:bn(V==null?void 0:V.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function B0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function yN(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?uN:cN;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var vN=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:I=lN,toastOptions:_,dir:x=B0(),gap:v=hN,loadingIcon:w,icons:T,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:O}=t,[L,A]=q.useState([]),E=q.useMemo(()=>Array.from(new Set([r].concat(L.filter(Y=>Y.position).map(Y=>Y.position)))),[L,r]),[P,b]=q.useState([]),[k,D]=q.useState(!1),[R,W]=q.useState(!1),[ie,J]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=q.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=q.useRef(null),H=q.useRef(!1),Z=q.useCallback(Y=>{A(ee=>{var de;return(de=ee.find(Pe=>Pe.id===Y.id))!=null&&de.delete||Wt.dismiss(Y.id),ee.filter(({id:Pe})=>Pe!==Y.id)})},[]);return q.useEffect(()=>Wt.subscribe(Y=>{if(Y.dismiss){A(ee=>ee.map(de=>de.id===Y.id?{...de,delete:!0}:de));return}setTimeout(()=>{dx.flushSync(()=>{A(ee=>{let de=ee.findIndex(Pe=>Pe.id===Y.id);return de!==-1?[...ee.slice(0,de),{...ee[de],...Y},...ee.slice(de+1)]:[Y,...ee]})})})}),[]),q.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ee})=>{J(ee?"dark":"light")})}catch{Y.addListener(({matches:de})=>{try{J(de?"dark":"light")}catch(Pe){console.error(Pe)}})}},[d]),q.useEffect(()=>{L.length<=1&&D(!1)},[L]),q.useEffect(()=>{let Y=ee=>{var de,Pe;s.every(ot=>ee[ot]||ee.code===ot)&&(D(!0),(de=ne.current)==null||de.focus()),ee.code==="Escape"&&(document.activeElement===ne.current||(Pe=ne.current)!=null&&Pe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),q.useEffect(()=>{if(ne.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,H.current=!1)}},[ne.current]),q.createElement("section",{ref:e,"aria-label":`${N} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((Y,ee)=>{var de;let[Pe,ot]=Y.split("-");return L.length?q.createElement("ol",{key:Y,dir:x==="auto"?B0():x,tabIndex:-1,ref:ne,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Pe,"data-lifted":k&&L.length>1&&!i,"data-x-position":ot,style:{"--front-toast-height":`${((de=P[0])==null?void 0:de.height)||0}px`,"--width":`${dN}px`,"--gap":`${v}px`,...p,...yN(c,u)},onBlur:ge=>{H.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(H.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||H.current||(H.current=!0,V.current=ge.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{R||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},L.filter(ge=>!ge.position&&ee===0||ge.position===Y).map((ge,Hr)=>{var zn,dn;return q.createElement(gN,{key:ge.id,icons:T,index:Hr,toast:ge,defaultRichColors:f,duration:(zn=_==null?void 0:_.duration)!=null?zn:m,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:I,closeButton:(dn=_==null?void 0:_.closeButton)!=null?dn:o,interacting:R,position:Y,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:Z,toasts:L.filter(Zt=>Zt.position==ge.position),heights:P.filter(Zt=>Zt.position==ge.position),setHeights:b,expandByDefault:i,gap:v,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const wN=({...t})=>{const{theme:e="system"}=Wk();return g.jsx(vN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var _N=Dm[" useId ".trim().toString()]||(()=>{}),EN=0;function nT(t){const[e,n]=C.useState(_N());return Or(()=>{t||n(r=>r??String(EN++))},[t]),t||(e?`radix-${e}`:"")}const xN=["top","right","bottom","left"],Vs=Math.min,nn=Math.max,ud=Math.round,iu=Math.floor,tr=t=>({x:t,y:t}),TN={left:"right",right:"left",bottom:"top",top:"bottom"},IN={start:"end",end:"start"};function qp(t,e,n){return nn(t,Vs(e,n))}function Mr(t,e){return typeof t=="function"?t(e):t}function Lr(t){return t.split("-")[0]}function ca(t){return t.split("-")[1]}function kg(t){return t==="x"?"y":"x"}function Ng(t){return t==="y"?"height":"width"}const SN=new Set(["top","bottom"]);function Jn(t){return SN.has(Lr(t))?"y":"x"}function Dg(t){return kg(Jn(t))}function CN(t,e,n){n===void 0&&(n=!1);const r=ca(t),s=Dg(t),i=Ng(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=dd(o)),[o,dd(o)]}function AN(t){const e=dd(t);return[Gp(t),e,Gp(e)]}function Gp(t){return t.replace(/start|end/g,e=>IN[e])}const H0=["left","right"],W0=["right","left"],bN=["top","bottom"],PN=["bottom","top"];function RN(t,e,n){switch(t){case"top":case"bottom":return n?e?W0:H0:e?H0:W0;case"left":case"right":return e?bN:PN;default:return[]}}function kN(t,e,n,r){const s=ca(t);let i=RN(Lr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Gp)))),i}function dd(t){return t.replace(/left|right|bottom|top/g,e=>TN[e])}function NN(t){return{top:0,right:0,bottom:0,left:0,...t}}function rT(t){return typeof t!="number"?NN(t):{top:t,right:t,bottom:t,left:t}}function hd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function q0(t,e,n){let{reference:r,floating:s}=t;const i=Jn(e),o=Dg(e),a=Ng(o),c=Lr(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(ca(e)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const DN=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=q0(u,r,c),m=r,p={},I=0;for(let _=0;_<a.length;_++){const{name:x,fn:v}=a[_],{x:w,y:T,data:N,reset:O}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=T??f,p={...p,[x]:{...p[x],...N}},O&&I<=50&&(I++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=q0(u,m,c)),_=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Ol(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Mr(e,t),I=rT(p),x=a[m?f==="floating"?"reference":"floating":f],v=hd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=hd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:c}):w);return{top:(v.top-O.top+I.top)/N.y,bottom:(O.bottom-v.bottom+I.bottom)/N.y,left:(v.left-O.left+I.left)/N.x,right:(O.right-v.right+I.right)/N.x}}const ON=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Mr(t,e)||{};if(u==null)return{};const f=rT(d),m={x:n,y:r},p=Dg(s),I=Ng(p),_=await o.getDimensions(u),x=p==="y",v=x?"top":"left",w=x?"bottom":"right",T=x?"clientHeight":"clientWidth",N=i.reference[I]+i.reference[p]-m[p]-i.floating[I],O=m[p]-i.reference[p],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=L?L[T]:0;(!A||!await(o.isElement==null?void 0:o.isElement(L)))&&(A=a.floating[T]||i.floating[I]);const E=N/2-O/2,P=A/2-_[I]/2-1,b=Vs(f[v],P),k=Vs(f[w],P),D=b,R=A-_[I]-k,W=A/2-_[I]/2+E,ie=qp(D,W,R),J=!c.arrow&&ca(s)!=null&&W!==ie&&i.reference[I]/2-(W<D?b:k)-_[I]/2<0,ne=J?W<D?W-D:W-R:0;return{[p]:m[p]+ne,data:{[p]:ie,centerOffset:W-ie-ne,...J&&{alignmentOffset:ne}},reset:J}}}),MN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:_=!0,...x}=Mr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Lr(s),w=Jn(a),T=Lr(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=m||(T||!_?[dd(a)]:AN(a)),L=I!=="none";!m&&L&&O.push(...kN(a,_,I,N));const A=[a,...O],E=await Ol(e,x),P=[];let b=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(E[v]),f){const W=CN(s,o,N);P.push(E[W[0]],E[W[1]])}if(b=[...b,{placement:s,overflows:P}],!P.every(W=>W<=0)){var k,D;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,ie=A[W];if(ie&&(!(f==="alignment"?w!==Jn(ie):!1)||b.every(F=>F.overflows[0]>0&&Jn(F.placement)===w)))return{data:{index:W,overflows:b},reset:{placement:ie}};let J=(D=b.filter(ne=>ne.overflows[0]<=0).sort((ne,F)=>ne.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(p){case"bestFit":{var R;const ne=(R=b.filter(F=>{if(L){const V=Jn(F.placement);return V===w||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,H)=>V+H,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:R[0];ne&&(J=ne);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function G0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function K0(t){return xN.some(e=>t[e]>=0)}const LN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Mr(t,e);switch(r){case"referenceHidden":{const i=await Ol(e,{...s,elementContext:"reference"}),o=G0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:K0(o)}}}case"escaped":{const i=await Ol(e,{...s,altBoundary:!0}),o=G0(i,n.floating);return{data:{escapedOffsets:o,escaped:K0(o)}}}default:return{}}}}},sT=new Set(["left","top"]);async function VN(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Lr(n),a=ca(n),c=Jn(n)==="y",u=sT.has(o)?-1:1,d=i&&c?-1:1,f=Mr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(p=a==="end"?I*-1:I),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const jN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await VN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},FN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...c}=Mr(t,e),u={x:n,y:r},d=await Ol(e,c),f=Jn(Lr(s)),m=kg(f);let p=u[m],I=u[f];if(i){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=p+d[x],T=p-d[v];p=qp(w,p,T)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=I+d[x],T=I-d[v];I=qp(w,I,T)}const _=a.fn({...e,[m]:p,[f]:I});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:i,[f]:o}}}}}},UN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Mr(t,e),d={x:n,y:r},f=Jn(s),m=kg(f);let p=d[m],I=d[f];const _=Mr(a,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const T=m==="y"?"height":"width",N=i.reference[m]-i.floating[T]+x.mainAxis,O=i.reference[m]+i.reference[T]-x.mainAxis;p<N?p=N:p>O&&(p=O)}if(u){var v,w;const T=m==="y"?"width":"height",N=sT.has(Lr(s)),O=i.reference[f]-i.floating[T]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:x.crossAxis),L=i.reference[f]+i.reference[T]+(N?0:((w=o.offset)==null?void 0:w[f])||0)-(N?x.crossAxis:0);I<O?I=O:I>L&&(I=L)}return{[m]:p,[f]:I}}}},$N=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Mr(t,e),d=await Ol(e,u),f=Lr(s),m=ca(s),p=Jn(s)==="y",{width:I,height:_}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,x=m==="end"?"top":"bottom");const w=_-d.top-d.bottom,T=I-d.left-d.right,N=Vs(_-d[x],w),O=Vs(I-d[v],T),L=!e.middlewareData.shift;let A=N,E=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=w),L&&!m){const b=nn(d.left,0),k=nn(d.right,0),D=nn(d.top,0),R=nn(d.bottom,0);p?E=I-2*(b!==0||k!==0?b+k:nn(d.left,d.right)):A=_-2*(D!==0||R!==0?D+R:nn(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:A});const P=await o.getDimensions(a.floating);return I!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function ih(){return typeof window<"u"}function ua(t){return iT(t)?(t.nodeName||"").toLowerCase():"#document"}function an(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hr(t){var e;return(e=(iT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iT(t){return ih()?t instanceof Node||t instanceof an(t).Node:!1}function Fn(t){return ih()?t instanceof Element||t instanceof an(t).Element:!1}function cr(t){return ih()?t instanceof HTMLElement||t instanceof an(t).HTMLElement:!1}function Q0(t){return!ih()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof an(t).ShadowRoot}const zN=new Set(["inline","contents"]);function sc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Un(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zN.has(s)}const BN=new Set(["table","td","th"]);function HN(t){return BN.has(ua(t))}const WN=[":popover-open",":modal"];function oh(t){return WN.some(e=>{try{return t.matches(e)}catch{return!1}})}const qN=["transform","translate","scale","rotate","perspective"],GN=["transform","translate","scale","rotate","perspective","filter"],KN=["paint","layout","strict","content"];function Og(t){const e=Mg(),n=Fn(t)?Un(t):t;return qN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||GN.some(r=>(n.willChange||"").includes(r))||KN.some(r=>(n.contain||"").includes(r))}function QN(t){let e=js(t);for(;cr(e)&&!Ko(e);){if(Og(e))return e;if(oh(e))return null;e=js(e)}return null}function Mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YN=new Set(["html","body","#document"]);function Ko(t){return YN.has(ua(t))}function Un(t){return an(t).getComputedStyle(t)}function ah(t){return Fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function js(t){if(ua(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q0(t)&&t.host||hr(t);return Q0(e)?e.host:e}function oT(t){const e=js(t);return Ko(e)?t.ownerDocument?t.ownerDocument.body:t.body:cr(e)&&sc(e)?e:oT(e)}function Ml(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=an(s);if(i){const a=Kp(o);return e.concat(o,o.visualViewport||[],sc(s)?s:[],a&&n?Ml(a):[])}return e.concat(s,Ml(s,[],n))}function Kp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aT(t){const e=Un(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ud(n)!==i||ud(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Lg(t){return Fn(t)?t:t.contextElement}function bo(t){const e=Lg(t);if(!cr(e))return tr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aT(e);let o=(i?ud(n.width):n.width)/r,a=(i?ud(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const XN=tr(0);function lT(t){const e=an(t);return!Mg()||!e.visualViewport?XN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==an(t)?!1:e}function Pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Lg(t);let o=tr(1);e&&(r?Fn(r)&&(o=bo(r)):o=bo(t));const a=JN(i,n,r)?lT(i):tr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=an(i),p=r&&Fn(r)?an(r):r;let I=m,_=Kp(I);for(;_&&r&&p!==I;){const x=bo(_),v=_.getBoundingClientRect(),w=Un(_),T=v.left+(_.clientLeft+parseFloat(w.paddingLeft))*x.x,N=v.top+(_.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=T,u+=N,I=an(_),_=Kp(I)}}return hd({width:d,height:f,x:c,y:u})}function Vg(t,e){const n=ah(t).scrollLeft;return e?e.left+n:Pi(hr(t)).left+n}function cT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Vg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function ZN(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=hr(r),a=e?oh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=tr(1);const d=tr(0),f=cr(r);if((f||!f&&!i)&&((ua(r)!=="body"||sc(o))&&(c=ah(r)),cr(r))){const p=Pi(r);u=bo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?cT(o,c,!0):tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function e2(t){return Array.from(t.getClientRects())}function t2(t){const e=hr(t),n=ah(t),r=t.ownerDocument.body,s=nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Vg(t);const a=-n.scrollTop;return Un(r).direction==="rtl"&&(o+=nn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function n2(t,e){const n=an(t),r=hr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Mg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const r2=new Set(["absolute","fixed"]);function s2(t,e){const n=Pi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=cr(t)?bo(t):tr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function Y0(t,e,n){let r;if(e==="viewport")r=n2(t,n);else if(e==="document")r=t2(hr(t));else if(Fn(e))r=s2(e,n);else{const s=lT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hd(r)}function uT(t,e){const n=js(t);return n===e||!Fn(n)||Ko(n)?!1:Un(n).position==="fixed"||uT(n,e)}function i2(t,e){const n=e.get(t);if(n)return n;let r=Ml(t,[],!1).filter(a=>Fn(a)&&ua(a)!=="body"),s=null;const i=Un(t).position==="fixed";let o=i?js(t):t;for(;Fn(o)&&!Ko(o);){const a=Un(o),c=Og(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&r2.has(s.position)||sc(o)&&!c&&uT(t,o))?r=r.filter(d=>d!==o):s=a,o=js(o)}return e.set(t,r),r}function o2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?oh(e)?[]:i2(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=Y0(e,d,s);return u.top=nn(f.top,u.top),u.right=Vs(f.right,u.right),u.bottom=Vs(f.bottom,u.bottom),u.left=nn(f.left,u.left),u},Y0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function a2(t){const{width:e,height:n}=aT(t);return{width:e,height:n}}function l2(t,e,n){const r=cr(e),s=hr(e),i=n==="fixed",o=Pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=tr(0);function u(){c.x=Vg(s)}if(r||!r&&!i)if((ua(e)!=="body"||sc(s))&&(a=ah(e)),r){const p=Pi(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?cT(s,a):tr(0),f=o.left+a.scrollLeft-c.x-d.x,m=o.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Pf(t){return Un(t).position==="static"}function X0(t,e){if(!cr(t)||Un(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hr(t)===n&&(n=n.ownerDocument.body),n}function dT(t,e){const n=an(t);if(oh(t))return n;if(!cr(t)){let s=js(t);for(;s&&!Ko(s);){if(Fn(s)&&!Pf(s))return s;s=js(s)}return n}let r=X0(t,e);for(;r&&HN(r)&&Pf(r);)r=X0(r,e);return r&&Ko(r)&&Pf(r)&&!Og(r)?n:r||QN(t)||n}const c2=async function(t){const e=this.getOffsetParent||dT,n=this.getDimensions,r=await n(t.floating);return{reference:l2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function u2(t){return Un(t).direction==="rtl"}const d2={convertOffsetParentRelativeRectToViewportRelativeRect:ZN,getDocumentElement:hr,getClippingRect:o2,getOffsetParent:dT,getElementRects:c2,getClientRects:e2,getDimensions:a2,getScale:bo,isElement:Fn,isRTL:u2};function hT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function h2(t,e){let n=null,r;const s=hr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(a||e(),!m||!p)return;const I=iu(f),_=iu(s.clientWidth-(d+m)),x=iu(s.clientHeight-(f+p)),v=iu(d),T={rootMargin:-I+"px "+-_+"px "+-x+"px "+-v+"px",threshold:nn(0,Vs(1,c))||1};let N=!0;function O(L){const A=L[0].intersectionRatio;if(A!==c){if(!N)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!hT(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function f2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Lg(t),d=s||i?[...u?Ml(u):[],...Ml(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=u&&a?h2(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let I,_=c?Pi(t):null;c&&x();function x(){const v=Pi(t);_&&!hT(_,v)&&n(),_=v,I=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(I)}}const p2=jN,m2=FN,g2=MN,y2=$N,v2=LN,J0=ON,w2=UN,_2=(t,e,n)=>{const r=new Map,s={platform:d2,...n},i={...s.platform,_c:r};return DN(t,e,{...s,platform:i})};var E2=typeof document<"u",x2=function(){},bu=E2?C.useLayoutEffect:x2;function fd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!fd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z0(t,e){const n=fT(t);return Math.round(e*n)/n}function Rf(t){const e=C.useRef(t);return bu(()=>{e.current=t}),e}function T2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=C.useState(r);fd(m,r)||p(r);const[I,_]=C.useState(null),[x,v]=C.useState(null),w=C.useCallback(F=>{F!==L.current&&(L.current=F,_(F))},[]),T=C.useCallback(F=>{F!==A.current&&(A.current=F,v(F))},[]),N=i||I,O=o||x,L=C.useRef(null),A=C.useRef(null),E=C.useRef(d),P=c!=null,b=Rf(c),k=Rf(s),D=Rf(u),R=C.useCallback(()=>{if(!L.current||!A.current)return;const F={placement:e,strategy:n,middleware:m};k.current&&(F.platform=k.current),_2(L.current,A.current,F).then(V=>{const H={...V,isPositioned:D.current!==!1};W.current&&!fd(E.current,H)&&(E.current=H,tc.flushSync(()=>{f(H)}))})},[m,e,n,k,D]);bu(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const W=C.useRef(!1);bu(()=>(W.current=!0,()=>{W.current=!1}),[]),bu(()=>{if(N&&(L.current=N),O&&(A.current=O),N&&O){if(b.current)return b.current(N,O,R);R()}},[N,O,R,b,P]);const ie=C.useMemo(()=>({reference:L,floating:A,setReference:w,setFloating:T}),[w,T]),J=C.useMemo(()=>({reference:N,floating:O}),[N,O]),ne=C.useMemo(()=>{const F={position:n,left:0,top:0};if(!J.floating)return F;const V=Z0(J.floating,d.x),H=Z0(J.floating,d.y);return a?{...F,transform:"translate("+V+"px, "+H+"px)",...fT(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:H}},[n,a,J.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:R,refs:ie,elements:J,floatingStyles:ne}),[d,R,ie,J,ne])}const I2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?J0({element:r.current,padding:s}).fn(n):{}:r?J0({element:r,padding:s}).fn(n):{}}}},S2=(t,e)=>({...p2(t),options:[t,e]}),C2=(t,e)=>({...m2(t),options:[t,e]}),A2=(t,e)=>({...w2(t),options:[t,e]}),b2=(t,e)=>({...g2(t),options:[t,e]}),P2=(t,e)=>({...y2(t),options:[t,e]}),R2=(t,e)=>({...v2(t),options:[t,e]}),k2=(t,e)=>({...I2(t),options:[t,e]});var N2="Arrow",pT=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(Be.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});pT.displayName=N2;var D2=pT;function O2(t){const[e,n]=C.useState(void 0);return Or(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mT="Popper",[gT,yT]=Fi(mT),[Y5,vT]=gT(mT),wT="PopperAnchor",_T=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=vT(wT,n),o=C.useRef(null),a=In(e,o);return C.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Be.div,{...s,ref:a})});_T.displayName=wT;var jg="PopperContent",[M2,L2]=gT(jg),ET=C.forwardRef((t,e)=>{var ge,Hr,zn,dn,Zt,Bn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:I,..._}=t,x=vT(jg,n),[v,w]=C.useState(null),T=In(e,hn=>w(hn)),[N,O]=C.useState(null),L=O2(N),A=(L==null?void 0:L.width)??0,E=(L==null?void 0:L.height)??0,P=r+(i!=="center"?"-"+i:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],D=k.length>0,R={padding:b,boundary:k.filter(j2),altBoundary:D},{refs:W,floatingStyles:ie,placement:J,isPositioned:ne,middlewareData:F}=T2({strategy:"fixed",placement:P,whileElementsMounted:(...hn)=>f2(...hn,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[S2({mainAxis:s+E,alignmentAxis:o}),c&&C2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?A2():void 0,...R}),c&&b2({...R}),P2({...R,apply:({elements:hn,rects:Wr,availableWidth:Xs,availableHeight:Js})=>{const{width:Ea,height:Zs}=Wr.reference,fr=hn.floating.style;fr.setProperty("--radix-popper-available-width",`${Xs}px`),fr.setProperty("--radix-popper-available-height",`${Js}px`),fr.setProperty("--radix-popper-anchor-width",`${Ea}px`),fr.setProperty("--radix-popper-anchor-height",`${Zs}px`)}}),N&&k2({element:N,padding:a}),F2({arrowWidth:A,arrowHeight:E}),m&&R2({strategy:"referenceHidden",...R})]}),[V,H]=IT(J),Z=Dr(I);Or(()=>{ne&&(Z==null||Z())},[ne,Z]);const Y=(ge=F.arrow)==null?void 0:ge.x,ee=(Hr=F.arrow)==null?void 0:Hr.y,de=((zn=F.arrow)==null?void 0:zn.centerOffset)!==0,[Pe,ot]=C.useState();return Or(()=>{v&&ot(window.getComputedStyle(v).zIndex)},[v]),g.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:ne?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(dn=F.transformOrigin)==null?void 0:dn.x,(Zt=F.transformOrigin)==null?void 0:Zt.y].join(" "),...((Bn=F.hide)==null?void 0:Bn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(M2,{scope:n,placedSide:V,onArrowChange:O,arrowX:Y,arrowY:ee,shouldHideArrow:de,children:g.jsx(Be.div,{"data-side":V,"data-align":H,..._,ref:T,style:{..._.style,animation:ne?void 0:"none"}})})})});ET.displayName=jg;var xT="PopperArrow",V2={top:"bottom",right:"left",bottom:"top",left:"right"},TT=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=L2(xT,r),o=V2[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(D2,{...s,ref:n,style:{...s.style,display:"block"}})})});TT.displayName=xT;function j2(t){return t!==null}var F2=t=>({name:"transformOrigin",options:t,fn(e){var x,v,w;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=IT(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let I="",_="";return u==="bottom"?(I=o?f:`${m}px`,_=`${-c}px`):u==="top"?(I=o?f:`${m}px`,_=`${r.floating.height+c}px`):u==="right"?(I=`${-c}px`,_=o?f:`${p}px`):u==="left"&&(I=`${r.floating.width+c}px`,_=o?f:`${p}px`),{data:{x:I,y:_}}}});function IT(t){const[e,n="center"]=t.split("-");return[e,n]}var U2=_T,$2=ET,z2=TT,[lh,X5]=Fi("Tooltip",[yT]),Fg=yT(),ST="TooltipProvider",B2=700,ew="tooltip.open",[H2,CT]=lh(ST),AT=t=>{const{__scopeTooltip:e,delayDuration:n=B2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=C.useRef(!0),a=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(H2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};AT.displayName=ST;var bT="Tooltip",[J5,ch]=lh(bT),Qp="TooltipTrigger",W2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ch(Qp,n),i=CT(Qp,n),o=Fg(n),a=C.useRef(null),c=In(e,a,s.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(U2,{asChild:!0,...o,children:g.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ce(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ce(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ce(t.onBlur,s.onClose),onClick:Ce(t.onClick,s.onClose)})})});W2.displayName=Qp;var q2="TooltipPortal",[Z5,G2]=lh(q2,{forceMount:void 0}),Qo="TooltipContent",PT=C.forwardRef((t,e)=>{const n=G2(Qo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ch(Qo,t.__scopeTooltip);return g.jsx(th,{present:r||o.open,children:o.disableHoverableContent?g.jsx(RT,{side:s,...i,ref:e}):g.jsx(K2,{side:s,...i,ref:e})})}),K2=C.forwardRef((t,e)=>{const n=ch(Qo,t.__scopeTooltip),r=CT(Qo,t.__scopeTooltip),s=C.useRef(null),i=In(e,s),[o,a]=C.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=C.useCallback(()=>{a(null),f(!1)},[f]),p=C.useCallback((I,_)=>{const x=I.currentTarget,v={x:I.clientX,y:I.clientY},w=Z2(v,x.getBoundingClientRect()),T=eD(v,w),N=tD(_.getBoundingClientRect()),O=rD([...T,...N]);a(O),f(!0)},[f]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(c&&d){const I=x=>p(x,d),_=x=>p(x,c);return c.addEventListener("pointerleave",I),d.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",I),d.removeEventListener("pointerleave",_)}}},[c,d,p,m]),C.useEffect(()=>{if(o){const I=_=>{const x=_.target,v={x:_.clientX,y:_.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),T=!nD(v,o);w?m():T&&(m(),u())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[c,d,o,u,m]),g.jsx(RT,{...t,ref:i})}),[Q2,Y2]=lh(bT,{isInside:!1}),X2=iR("TooltipContent"),RT=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=ch(Qo,n),u=Fg(n),{onClose:d}=c;return C.useEffect(()=>(document.addEventListener(ew,d),()=>document.removeEventListener(ew,d)),[d]),C.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),g.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:g.jsxs($2,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(X2,{children:r}),g.jsx(Q2,{scope:n,isInside:!0,children:g.jsx(bR,{id:c.contentId,role:"tooltip",children:s||r})})]})})});PT.displayName=Qo;var kT="TooltipArrow",J2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fg(n);return Y2(kT,n).isInside?null:g.jsx(z2,{...s,...r,ref:e})});J2.displayName=kT;function Z2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function tD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function nD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function rD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sD(e)}function sD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var iD=AT,NT=PT;const oD=iD,aD=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(NT,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));aD.displayName=NT.displayName;var uh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dh=typeof window>"u"||"Deno"in globalThis;function Rn(){}function lD(t,e){return typeof t=="function"?t(e):t}function cD(t){return typeof t=="number"&&t>=0&&t!==1/0}function uD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yp(t,e){return typeof t=="function"?t(e):t}function dD(t,e){return typeof t=="function"?t(e):t}function tw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ug(o,e.options))return!1}else if(!Vl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ll(e.options.mutationKey)!==Ll(i))return!1}else if(!Vl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ug(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ll)(t)}function Ll(t){return JSON.stringify(t,(e,n)=>Xp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Vl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vl(t[n],e[n])):!1}function DT(t,e){if(t===e)return t;const n=rw(t)&&rw(e);if(n||Xp(t)&&Xp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=DT(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function rw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xp(t){if(!sw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sw(t){return Object.prototype.toString.call(t)==="[object Object]"}function hD(t){return new Promise(e=>{setTimeout(e,t)})}function fD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DT(t,e):e}function pD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var $g=Symbol();function OT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$g?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var pi,ds,Do,H_,gD=(H_=class extends uh{constructor(){super();Ee(this,pi);Ee(this,ds);Ee(this,Do);ce(this,Do,e=>{if(!dh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,ds)||this.setEventListener(U(this,Do))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ds))==null||e.call(this),ce(this,ds,void 0))}setEventListener(e){var n;ce(this,Do,e),(n=U(this,ds))==null||n.call(this),ce(this,ds,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,pi)!==e&&(ce(this,pi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,pi)=="boolean"?U(this,pi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pi=new WeakMap,ds=new WeakMap,Do=new WeakMap,H_),MT=new gD,Oo,hs,Mo,W_,yD=(W_=class extends uh{constructor(){super();Ee(this,Oo,!0);Ee(this,hs);Ee(this,Mo);ce(this,Mo,e=>{if(!dh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,hs)||this.setEventListener(U(this,Mo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,hs))==null||e.call(this),ce(this,hs,void 0))}setEventListener(e){var n;ce(this,Mo,e),(n=U(this,hs))==null||n.call(this),ce(this,hs,e(this.setOnline.bind(this)))}setOnline(e){U(this,Oo)!==e&&(ce(this,Oo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Oo)}},Oo=new WeakMap,hs=new WeakMap,Mo=new WeakMap,W_),pd=new yD;function vD(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function wD(t){return Math.min(1e3*2**t,3e4)}function LT(t){return(t??"online")==="online"?pd.isOnline():!0}var VT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kf(t){return t instanceof VT}function jT(t){let e=!1,n=0,r=!1,s;const i=vD(),o=_=>{var x;r||(m(new VT(_)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>MT.isFocused()&&(t.networkMode==="always"||pd.isOnline())&&t.canRun(),d=()=>LT(t.networkMode)&&t.canRun(),f=_=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,_),s==null||s(),i.resolve(_))},m=_=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,_),s==null||s(),i.reject(_))},p=()=>new Promise(_=>{var x;s=v=>{(r||u())&&_(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),I=()=>{if(r)return;let _;const x=n===0?t.initialPromise:void 0;try{_=x??t.fn()}catch(v){_=Promise.reject(v)}Promise.resolve(_).then(f).catch(v=>{var L;if(r)return;const w=t.retry??(dh?0:3),T=t.retryDelay??wD,N=typeof T=="function"?T(n,v):T,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!O){m(v);return}n++,(L=t.onFail)==null||L.call(t,n,v),hD(N).then(()=>u()?void 0:p()).then(()=>{e?m(v):I()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?I():p().then(I),i)}}var _D=t=>setTimeout(t,0);function ED(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=_D;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ft=ED(),mi,q_,FT=(q_=class{constructor(){Ee(this,mi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cD(this.gcTime)&&ce(this,mi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dh?1/0:5*60*1e3))}clearGcTimeout(){U(this,mi)&&(clearTimeout(U(this,mi)),ce(this,mi,void 0))}},mi=new WeakMap,q_),Lo,gi,pn,yi,Pt,Kl,vi,kn,wr,G_,xD=(G_=class extends FT{constructor(n){super();Ee(this,kn);Ee(this,Lo);Ee(this,gi);Ee(this,pn);Ee(this,yi);Ee(this,Pt);Ee(this,Kl);Ee(this,vi);ce(this,vi,!1),ce(this,Kl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,yi,n.client),ce(this,pn,U(this,yi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,Lo,ID(this.options)),this.state=n.state??U(this,Lo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Pt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Kl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,pn).remove(this)}setData(n,r){const s=fD(this.state.data,n,this.options);return St(this,kn,wr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){St(this,kn,wr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Pt))==null?void 0:s.promise;return(i=U(this,Pt))==null||i.cancel(n),r?r.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Lo))}isActive(){return this.observers.some(n=>dD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$g||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Yp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!uD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Pt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Pt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Pt)&&(U(this,vi)?U(this,Pt).cancel({revert:!0}):U(this,Pt).cancelRetry()),this.scheduleGc()),U(this,pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,kn,wr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Pt))return U(this,Pt).continueRetry(),U(this,Pt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(I=>I.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ce(this,vi,!0),s.signal)})},o=()=>{const p=OT(this.options,r),_=(()=>{const x={client:U(this,yi),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return ce(this,vi,!1),this.options.persister?this.options.persister(p,_,this):p(_)},c=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,yi),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(c,this),ce(this,gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&St(this,kn,wr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=p=>{var I,_,x,v;kf(p)&&p.silent||St(this,kn,wr).call(this,{type:"error",error:p}),kf(p)||((_=(I=U(this,pn).config).onError)==null||_.call(I,p,this),(v=(x=U(this,pn).config).onSettled)==null||v.call(x,this.state.data,p,this)),this.scheduleGc()};return ce(this,Pt,jT({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var I,_,x,v;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){u(w);return}(_=(I=U(this,pn).config).onSuccess)==null||_.call(I,p,this),(v=(x=U(this,pn).config).onSettled)==null||v.call(x,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,I)=>{St(this,kn,wr).call(this,{type:"failed",failureCount:p,error:I})},onPause:()=>{St(this,kn,wr).call(this,{type:"pause"})},onContinue:()=>{St(this,kn,wr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),U(this,Pt).start()}},Lo=new WeakMap,gi=new WeakMap,pn=new WeakMap,yi=new WeakMap,Pt=new WeakMap,Kl=new WeakMap,vi=new WeakMap,kn=new WeakSet,wr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...TD(s.data,this.options),fetchMeta:n.meta??null};case"success":return ce(this,gi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return kf(i)&&i.revert&&U(this,gi)?{...U(this,gi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,pn).notify({query:this,type:"updated",action:n})})},G_);function TD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ID(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kn,K_,SD=(K_=class extends uh{constructor(e={}){super();Ee(this,Kn);this.config=e,ce(this,Kn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ug(s,n);let o=this.get(i);return o||(o=new xD({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Kn).has(e.queryHash)||(U(this,Kn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Kn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Kn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Kn).get(e)}getAll(){return[...U(this,Kn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tw(e,r)):n}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kn=new WeakMap,K_),Qn,Vt,wi,Yn,ns,Q_,CD=(Q_=class extends FT{constructor(n){super();Ee(this,Yn);Ee(this,Qn);Ee(this,Vt);Ee(this,wi);this.mutationId=n.mutationId,ce(this,Vt,n.mutationCache),ce(this,Qn,[]),this.state=n.state||AD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Qn).includes(n)||(U(this,Qn).push(n),this.clearGcTimeout(),U(this,Vt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,Qn,U(this,Qn).filter(r=>r!==n)),this.scheduleGc(),U(this,Vt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Qn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Vt).remove(this))}continue(){var n;return((n=U(this,wi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,d,f,m,p,I,_,x,v,w,T,N,O,L,A,E,P;const r=()=>{St(this,Yn,ns).call(this,{type:"continue"})};ce(this,wi,jT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(b,k)=>{St(this,Yn,ns).call(this,{type:"failed",failureCount:b,error:k})},onPause:()=>{St(this,Yn,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Vt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,wi).canStart();try{if(s)r();else{St(this,Yn,ns).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Vt).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));k!==this.state.context&&St(this,Yn,ns).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const b=await U(this,wi).start();return await((f=(d=U(this,Vt).config).onSuccess)==null?void 0:f.call(d,b,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,b,n,this.state.context)),await((_=(I=U(this,Vt).config).onSettled)==null?void 0:_.call(I,b,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,b,null,n,this.state.context)),St(this,Yn,ns).call(this,{type:"success",data:b}),b}catch(b){try{throw await((T=(w=U(this,Vt).config).onError)==null?void 0:T.call(w,b,n,this.state.context,this)),await((O=(N=this.options).onError)==null?void 0:O.call(N,b,n,this.state.context)),await((A=(L=U(this,Vt).config).onSettled)==null?void 0:A.call(L,void 0,b,this.state.variables,this.state.context,this)),await((P=(E=this.options).onSettled)==null?void 0:P.call(E,void 0,b,n,this.state.context)),b}finally{St(this,Yn,ns).call(this,{type:"error",error:b})}}finally{U(this,Vt).runNext(this)}}},Qn=new WeakMap,Vt=new WeakMap,wi=new WeakMap,Yn=new WeakSet,ns=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{U(this,Qn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Vt).notify({mutation:this,type:"updated",action:n})})},Q_);function AD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xr,Nn,Ql,Y_,bD=(Y_=class extends uh{constructor(e={}){super();Ee(this,xr);Ee(this,Nn);Ee(this,Ql);this.config=e,ce(this,xr,new Set),ce(this,Nn,new Map),ce(this,Ql,0)}build(e,n,r){const s=new CD({mutationCache:this,mutationId:++Vc(this,Ql)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,xr).add(e);const n=ou(e);if(typeof n=="string"){const r=U(this,Nn).get(n);r?r.push(e):U(this,Nn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,xr).delete(e)){const n=ou(e);if(typeof n=="string"){const r=U(this,Nn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Nn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ou(e);if(typeof n=="string"){const r=U(this,Nn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ou(e);if(typeof n=="string"){const s=(r=U(this,Nn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ft.batch(()=>{U(this,xr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,xr).clear(),U(this,Nn).clear()})}getAll(){return Array.from(U(this,xr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nw(n,r))}findAll(e={}){return this.getAll().filter(n=>nw(e,n))}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ft.batch(()=>Promise.all(e.map(n=>n.continue().catch(Rn))))}},xr=new WeakMap,Nn=new WeakMap,Ql=new WeakMap,Y_);function ou(t){var e;return(e=t.options.scope)==null?void 0:e.id}function iw(t){return{onFetch:(e,n)=>{var d,f,m,p,I;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let _=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},v=OT(e.options,e.fetchOptions),w=async(T,N,O)=>{if(_)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const A=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};return x(k),k})(),E=await v(A),{maxPages:P}=e.options,b=O?mD:pD;return{pages:b(T.pages,E,P),pageParams:b(T.pageParams,N,P)}};if(s&&i.length){const T=s==="backward",N=T?PD:ow,O={pages:i,pageParams:o},L=N(r,O);a=await w(O,L,T)}else{const T=t??i.length;do{const N=c===0?o[0]??r.initialPageParam:ow(r,a);if(c>0&&N==null)break;a=await w(a,N),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function ow(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qe,fs,ps,Vo,jo,ms,Fo,Uo,X_,RD=(X_=class{constructor(t={}){Ee(this,qe);Ee(this,fs);Ee(this,ps);Ee(this,Vo);Ee(this,jo);Ee(this,ms);Ee(this,Fo);Ee(this,Uo);ce(this,qe,t.queryCache||new SD),ce(this,fs,t.mutationCache||new bD),ce(this,ps,t.defaultOptions||{}),ce(this,Vo,new Map),ce(this,jo,new Map),ce(this,ms,0)}mount(){Vc(this,ms)._++,U(this,ms)===1&&(ce(this,Fo,MT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,qe).onFocus())})),ce(this,Uo,pd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,qe).onOnline())})))}unmount(){var t,e;Vc(this,ms)._--,U(this,ms)===0&&((t=U(this,Fo))==null||t.call(this),ce(this,Fo,void 0),(e=U(this,Uo))==null||e.call(this),ce(this,Uo,void 0))}isFetching(t){return U(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,fs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,qe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Yp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,qe).get(r.queryHash),i=s==null?void 0:s.state.data,o=lD(e,i);if(o!==void 0)return U(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ft.batch(()=>U(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,qe);Ft.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,qe);return Ft.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ft.batch(()=>U(this,qe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(t,e={}){return Ft.batch(()=>(U(this,qe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ft.batch(()=>U(this,qe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Rn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,qe).build(this,e);return n.isStaleByTime(Yp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rn).catch(Rn)}fetchInfiniteQuery(t){return t.behavior=iw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rn).catch(Rn)}ensureInfiniteQueryData(t){return t.behavior=iw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pd.isOnline()?U(this,fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,qe)}getMutationCache(){return U(this,fs)}getDefaultOptions(){return U(this,ps)}setDefaultOptions(t){ce(this,ps,t)}setQueryDefaults(t,e){U(this,Vo).set(Ll(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Vo).values()],n={};return e.forEach(r=>{Vl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,jo).set(Ll(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,jo).values()],n={};return e.forEach(r=>{Vl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ug(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$g&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,qe).clear(),U(this,fs).clear()}},qe=new WeakMap,fs=new WeakMap,ps=new WeakMap,Vo=new WeakMap,jo=new WeakMap,ms=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,X_),kD=C.createContext(void 0),ND=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(kD.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}var ws;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ws||(ws={}));const aw="popstate";function DD(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Jp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$T(s)}return MD(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function UT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OD(){return Math.random().toString(36).substr(2,8)}function lw(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,n,r){return n===void 0&&(n=null),jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?da(e):e,{state:n,key:e&&e.key||r||OD()})}function $T(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ws.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(jl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ws.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:a,location:_.location,delta:v})}function m(x,v){a=ws.Push;let w=Jp(_.location,x,v);u=d()+1;let T=lw(w,u),N=_.createHref(w);try{o.pushState(T,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}i&&c&&c({action:a,location:_.location,delta:1})}function p(x,v){a=ws.Replace;let w=Jp(_.location,x,v);u=d();let T=lw(w,u),N=_.createHref(w);o.replaceState(T,"",N),i&&c&&c({action:a,location:_.location,delta:0})}function I(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:$T(x);return w=w.replace(/ $/,"%20"),Ze(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let _={get action(){return a},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(aw,f),c=x,()=>{s.removeEventListener(aw,f),c=null}},createHref(x){return e(s,x)},createURL:I,encodeLocation(x){let v=I(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(x){return o.go(x)}};return _}var cw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cw||(cw={}));function LD(t,e,n){return n===void 0&&(n="/"),VD(t,e,n,!1)}function VD(t,e,n,r){let s=typeof e=="string"?da(e):e,i=HT(s.pathname||"/",n);if(i==null)return null;let o=zT(t);jD(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=QD(i);a=GD(o[c],u,r)}return a}function zT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xi([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:WD(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of BT(i.path))s(i,o,c)}),e}function BT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=BT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function jD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FD=/^:[\w-]+$/,UD=3,$D=2,zD=1,BD=10,HD=-2,uw=t=>t==="*";function WD(t,e){let n=t.split("/"),r=n.length;return n.some(uw)&&(r+=HD),e&&(r+=$D),n.filter(s=>!uw(s)).reduce((s,i)=>s+(FD.test(i)?UD:i===""?zD:BD),r)}function qD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GD(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=dw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=dw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:xi([i,f.pathname]),pathnameBase:ZD(xi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=xi([i,f.pathnameBase]))}return o}function dw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const I=a[f];return p&&!I?u[m]=void 0:u[m]=(I||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function KD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),UT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return UT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function HT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?da(t):t;return{pathname:n?n.startsWith("/")?n:XD(n,e):e,search:eO(r),hash:tO(s)}}function XD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WT(t,e){let n=JD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=da(t):(s=jl({},t),Ze(!s.pathname||!s.pathname.includes("?"),Nf("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Nf("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Nf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=YD(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xi=t=>t.join("/").replace(/\/\/+/g,"/"),ZD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GT=["post","put","patch","delete"];new Set(GT);const rO=["get",...GT];new Set(rO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}const zg=C.createContext(null),sO=C.createContext(null),ic=C.createContext(null),hh=C.createContext(null),Ui=C.createContext({outlet:null,matches:[],isDataRoute:!1}),KT=C.createContext(null);function oc(){return C.useContext(hh)!=null}function ac(){return oc()||Ze(!1),C.useContext(hh).location}function QT(t){C.useContext(ic).static||C.useLayoutEffect(t)}function Bg(){let{isDataRoute:t}=C.useContext(Ui);return t?yO():iO()}function iO(){oc()||Ze(!1);let t=C.useContext(zg),{basename:e,future:n,navigator:r}=C.useContext(ic),{matches:s}=C.useContext(Ui),{pathname:i}=ac(),o=JSON.stringify(WT(s,n.v7_relativeSplatPath)),a=C.useRef(!1);return QT(()=>{a.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=qT(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function oO(t,e){return aO(t,e)}function aO(t,e,n,r){oc()||Ze(!1);let{navigator:s}=C.useContext(ic),{matches:i}=C.useContext(Ui),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ac(),d;if(e){var f;let x=typeof e=="string"?da(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ze(!1),d=x}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let I=LD(t,{pathname:p}),_=hO(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:xi([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:xi([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&_?C.createElement(hh.Provider,{value:{location:Fl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ws.Pop}},_):_}function lO(){let t=gO(),e=nO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const cO=C.createElement(lO,null);class uO extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Ui.Provider,{value:this.props.routeContext},C.createElement(KT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dO(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(zg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Ui.Provider,{value:e},r)}function hO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,I=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||I){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,I=!1,_=null,x=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||cO,c&&(u<0&&m===0?(I=!0,x=null):u===m&&(I=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),w=()=>{let T;return p?T=_:I?T=x:f.route.Component?T=C.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,C.createElement(dO,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?C.createElement(uO,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var YT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(YT||{}),md=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(md||{});function fO(t){let e=C.useContext(zg);return e||Ze(!1),e}function pO(t){let e=C.useContext(sO);return e||Ze(!1),e}function mO(t){let e=C.useContext(Ui);return e||Ze(!1),e}function XT(t){let e=mO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function gO(){var t;let e=C.useContext(KT),n=pO(md.UseRouteError),r=XT(md.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yO(){let{router:t}=fO(YT.UseNavigateStable),e=XT(md.UseNavigateStable),n=C.useRef(!1);return QT(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fl({fromRouteId:e},i)))},[t,e])}function vO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wO(t){let{to:e,replace:n,state:r,relative:s}=t;oc()||Ze(!1);let{future:i,static:o}=C.useContext(ic),{matches:a}=C.useContext(Ui),{pathname:c}=ac(),u=Bg(),d=qT(e,WT(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function eo(t){Ze(!1)}function _O(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ws.Pop,navigator:i,static:o=!1,future:a}=t;oc()&&Ze(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:o,future:Fl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=da(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:I="default"}=r,_=C.useMemo(()=>{let x=HT(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:I},navigationType:s}},[c,d,f,m,p,I,s]);return _==null?null:C.createElement(ic.Provider,{value:u},C.createElement(hh.Provider,{children:n,value:_}))}function EO(t){let{children:e,location:n}=t;return oO(Zp(e),n)}new Promise(()=>{});function Zp(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Zp(r.props.children,i));return}r.type!==eo&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xO="6";try{window.__reactRouterVersion=xO}catch{}const TO="startTransition",hw=Dm[TO];function IO(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=DD({window:s,v5Compat:!0}));let o=i.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=C.useCallback(f=>{u&&hw?hw(()=>c(f)):c(f)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>vO(r),[r]),C.createElement(_O,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var fw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var pw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pw||(pw={}));const SO=()=>{};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ZT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new AO;const m=i<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const I=u<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bO=function(t){const e=JT(t);return ZT.encodeByteArray(e,!0)},gd=function(t){return bO(t).replace(/\./g,"")},eI=function(t){try{return ZT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=()=>PO().__FIREBASE_DEFAULTS__,kO=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eI(t[1]);return e&&JSON.parse(e)},fh=()=>{try{return SO()||RO()||kO()||NO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tI=t=>{var e,n;return(n=(e=fh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},DO=t=>{const e=tI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nI=()=>{var t;return(t=fh())==null?void 0:t.config},rI=t=>{var e;return(e=fh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gd(JSON.stringify(n)),gd(JSON.stringify(o)),""].join(".")}const ul={};function LO(){const t={prod:[],emulator:[]};for(const e of Object.keys(ul))ul[e]?t.emulator.push(e):t.prod.push(e);return t}function VO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gw=!1;function iI(t,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||ul[t]===e||ul[t]||gw)return;ul[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=LO().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{gw=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=VO(r),p=n("text"),I=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),x=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),d(x,_);const N=u();c(w,v),T.append(w,I,x,N),document.body.appendChild(T)}i?(I.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function FO(){var e;const t=(e=fh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $O(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BO(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HO(){return!FO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WO(){try{return typeof indexedDB=="object"}catch{return!1}}function qO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GO,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?KO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new zr(s,a,r)}}function KO(t,e){return t.replace(QO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QO=/\{\$([^}]+)}/g;function YO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yw(i)&&yw(o)){if(!Ri(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XO(t,e){const n=new JO(t,e);return n.subscribe.bind(n)}class JO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Df),s.error===void 0&&(s.error=Df),s.complete===void 0&&(s.complete=Df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nM(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tM(t){return t===li?void 0:t}function nM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const sM={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},iM=fe.INFO,oM={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},aM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hg{constructor(e){this.name=e,this._logLevel=iM,this._logHandler=aM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const lM=(t,e)=>e.some(n=>t instanceof n);let vw,ww;function cM(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uM(){return ww||(ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oI=new WeakMap,em=new WeakMap,aI=new WeakMap,Of=new WeakMap,Wg=new WeakMap;function dM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ps(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oI.set(n,t)}).catch(()=>{}),Wg.set(e,t),e}function hM(t){if(em.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});em.set(t,e)}let tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fM(t){tm=t(tm)}function pM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return aI.set(r,e.sort?e.sort():[e]),Ps(r)}:uM().includes(t)?function(...e){return t.apply(Mf(this),e),Ps(oI.get(this))}:function(...e){return Ps(t.apply(Mf(this),e))}}function mM(t){return typeof t=="function"?pM(t):(t instanceof IDBTransaction&&hM(t),lM(t,cM())?new Proxy(t,tm):t)}function Ps(t){if(t instanceof IDBRequest)return dM(t);if(Of.has(t))return Of.get(t);const e=mM(t);return e!==t&&(Of.set(t,e),Wg.set(e,t)),e}const Mf=t=>Wg.get(t);function gM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ps(o.result),c.oldVersion,c.newVersion,Ps(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yM=["get","getKey","getAll","getAllKeys","count"],vM=["put","add","delete","clear"],Lf=new Map;function _w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yM.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Lf.set(e,i),i}fM(t=>({...t,get:(e,n,r)=>_w(e,n)||t.get(e,n,r),has:(e,n)=>!!_w(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_M(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _M(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",Ew="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Hg("@firebase/app"),EM="@firebase/app-compat",xM="@firebase/analytics-compat",TM="@firebase/analytics",IM="@firebase/app-check-compat",SM="@firebase/app-check",CM="@firebase/auth",AM="@firebase/auth-compat",bM="@firebase/database",PM="@firebase/data-connect",RM="@firebase/database-compat",kM="@firebase/functions",NM="@firebase/functions-compat",DM="@firebase/installations",OM="@firebase/installations-compat",MM="@firebase/messaging",LM="@firebase/messaging-compat",VM="@firebase/performance",jM="@firebase/performance-compat",FM="@firebase/remote-config",UM="@firebase/remote-config-compat",$M="@firebase/storage",zM="@firebase/storage-compat",BM="@firebase/firestore",HM="@firebase/ai",WM="@firebase/firestore-compat",qM="firebase",GM="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",KM={[nm]:"fire-core",[EM]:"fire-core-compat",[TM]:"fire-analytics",[xM]:"fire-analytics-compat",[SM]:"fire-app-check",[IM]:"fire-app-check-compat",[CM]:"fire-auth",[AM]:"fire-auth-compat",[bM]:"fire-rtdb",[PM]:"fire-data-connect",[RM]:"fire-rtdb-compat",[kM]:"fire-fn",[NM]:"fire-fn-compat",[DM]:"fire-iid",[OM]:"fire-iid-compat",[MM]:"fire-fcm",[LM]:"fire-fcm-compat",[VM]:"fire-perf",[jM]:"fire-perf-compat",[FM]:"fire-rc",[UM]:"fire-rc-compat",[$M]:"fire-gcs",[zM]:"fire-gcs-compat",[BM]:"fire-fst",[WM]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[qM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,QM=new Map,sm=new Map;function xw(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(sm.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,t);for(const n of yd.values())xw(n,t);for(const n of QM.values())xw(n,t);return!0}function qg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new lc("app","Firebase",YM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=GM;function lI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Rs.create("bad-app-name",{appName:String(s)});if(n||(n=nI()),!n)throw Rs.create("no-options");const i=yd.get(s);if(i){if(Ri(n,i.options)&&Ri(r,i.config))return i;throw Rs.create("duplicate-app",{appName:s})}const o=new rM(s);for(const c of sm.values())o.addComponent(c);const a=new XM(n,r,o);return yd.set(s,a),a}function cI(t=rm){const e=yd.get(t);if(!e&&t===rm&&nI())return lI();if(!e)throw Rs.create("no-app",{appName:t});return e}function ks(t,e,n){let r=KM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(o.join(" "));return}Yo(new ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="firebase-heartbeat-database",ZM=1,Ul="firebase-heartbeat-store";let Vf=null;function uI(){return Vf||(Vf=gM(JM,ZM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function eL(t){try{const n=(await uI()).transaction(Ul),r=await n.objectStore(Ul).get(dI(t));return await n.done,r}catch(e){if(e instanceof zr)Vr.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(n.message)}}}async function Tw(t,e){try{const r=(await uI()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,dI(t)),await r.done}catch(n){if(n instanceof zr)Vr.warn(n.message);else{const r=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function dI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1024,nL=30;class rL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Iw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>nL){const o=oL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iw(),{heartbeatsToSend:r,unsentEntries:s}=sL(this._heartbeatsCache.heartbeats),i=gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vr.warn(n),""}}}function Iw(){return new Date().toISOString().substring(0,10)}function sL(t,e=tL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WO()?qO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return gd(JSON.stringify({version:2,heartbeats:t})).length}function oL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){Yo(new ki("platform-logger",e=>new wM(e),"PRIVATE")),Yo(new ki("heartbeat",e=>new rL(e),"PRIVATE")),ks(nm,Ew,t),ks(nm,Ew,"esm2020"),ks("fire-js","")}aL("");function hI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lL=hI,fI=new lc("auth","Firebase",hI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Hg("@firebase/auth");function cL(t,...e){vd.logLevel<=fe.WARN&&vd.warn(`Auth (${fa}): ${t}`,...e)}function Pu(t,...e){vd.logLevel<=fe.ERROR&&vd.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,...e){throw Gg(t,...e)}function nr(t,...e){return Gg(t,...e)}function pI(t,e,n){const r={...lL(),[e]:n};return new lc("auth","Firebase",r).create(e,{appName:t.name})}function br(t){return pI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fI.create(t,...e)}function re(t,e,...n){if(!t)throw Gg(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function jr(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uL(){return Cw()==="http:"||Cw()==="https:"}function Cw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uL()||$O()||"connection"in navigator)?navigator.onLine:!0}function hL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=jO()||zO()}get(){return dL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mL=new uc(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Br(t,e,n,r,s={}){return gI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=cc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return UO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ha(t.emulatorConfig.host)&&(u.credentials="include"),mI.fetch()(await yI(t,t.config.apiHost,n,a),u)})}async function gI(t,e,n){t._canInitEmulator=!1;const r={...fL,...e};try{const s=new yL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw au(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw au(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw au(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pI(t,d,u);$n(t,d)}}catch(s){if(s instanceof zr)throw s;$n(t,"network-request-failed",{message:String(s)})}}async function dc(t,e,n,r,s={}){const i=await Br(t,e,n,r,s);return"mfaPendingCredential"in i&&$n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function yI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Kg(t.config,s):`${t.config.apiScheme}://${s}`;return pL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function gL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),mL.get())})}}function au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=nr(t,e,r);return s.customData._tokenResponse=n,s}function Aw(t){return t!==void 0&&t.enterprise!==void 0}class vL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wL(t,e){return Br(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e){return Br(t,"POST","/v1/accounts:delete",e)}async function wd(t,e){return Br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EL(t,e=!1){const n=ut(t),r=await n.getIdToken(e),s=Qg(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:dl(jf(s.auth_time)),issuedAtTime:dl(jf(s.iat)),expirationTime:dl(jf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jf(t){return Number(t)*1e3}function Qg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const s=eI(n);return s?JSON.parse(s):(Pu("Failed to decode base64 JWT payload"),null)}catch(s){return Pu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bw(t){const e=Qg(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&xL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Xo(t,wd(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?vI(s.providerUserInfo):[],o=SL(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function IL(t){const e=ut(t);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){const n=await gI(t,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await yI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&ha(t.emulatorConfig.host)&&(c.credentials="include"),mI.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AL(t,e){return Br(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=bw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await CL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Po;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new TL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new om(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EL(this,e)}reload(){return IL(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _d(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Xo(this,_L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:I,stsTokenManager:_}=n;re(f&&_,e,"internal-error");const x=Po.fromJSON(this.name,_);re(typeof f=="string",e,"internal-error"),ts(r,e.name),ts(s,e.name),re(typeof m=="boolean",e,"internal-error"),re(typeof p=="boolean",e,"internal-error"),ts(i,e.name),ts(o,e.name),ts(a,e.name),ts(c,e.name),ts(u,e.name),ts(d,e.name);const v=new Mn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:d});return I&&Array.isArray(I)&&(v.providerData=I.map(w=>({...w}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new Po;s.updateFromServerResponse(n);const i=new Mn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _d(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Po;a.updateFromIdToken(r);const c=new Mn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function Cr(t){jr(t instanceof Function,"Expected a class definition");let e=Pw.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wI.type="NONE";const Rw=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ru(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ru("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wd(this.auth,{idToken:e}).catch(()=>{});return n?Mn._fromGetAccountInfoResponse(this.auth,n,e):null}return Mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro(Cr(Rw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Cr(Rw);const o=Ru(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const m=await wd(e,{idToken:d}).catch(()=>{});if(!m)break;f=await Mn._fromGetAccountInfoResponse(e,m,d)}else f=Mn._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ro(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ro(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SI(e))return"Blackberry";if(CI(e))return"Webos";if(EI(e))return"Safari";if((e.includes("chrome/")||xI(e))&&!e.includes("edge/"))return"Chrome";if(II(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _I(t=Lt()){return/firefox\//i.test(t)}function EI(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xI(t=Lt()){return/crios\//i.test(t)}function TI(t=Lt()){return/iemobile/i.test(t)}function II(t=Lt()){return/android/i.test(t)}function SI(t=Lt()){return/blackberry/i.test(t)}function CI(t=Lt()){return/webos/i.test(t)}function Yg(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bL(t=Lt()){var e;return Yg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function PL(){return BO()&&document.documentMode===10}function AI(t=Lt()){return Yg(t)||II(t)||CI(t)||SI(t)||/windows phone/i.test(t)||TI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e=[]){let n;switch(t){case"Browser":n=kw(Lt());break;case"Worker":n=`${kw(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e={}){return Br(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=6;class DL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nw(this),this.idTokenSubscription=new Nw(this),this.beforeStateQueue=new RL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wd(this,{idToken:e}),r=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(br(this));const n=e?ut(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kL(this),n=new DL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&cL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $i(t){return ut(t)}class Nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=XO(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ML(t){ph=t}function PI(t){return ph.loadJS(t)}function LL(){return ph.recaptchaEnterpriseScript}function VL(){return ph.gapiScript}function jL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class FL{constructor(){this.enterprise=new UL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $L="recaptcha-enterprise",RI="NO_RECAPTCHA";class zL{constructor(e){this.type=$L,this.auth=$i(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{wL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new vL(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;Aw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(RI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Aw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=LL();c.length!==0&&(c+=a),PI(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Dw(t,e,n,r=!1,s=!1){const i=new zL(t);let o;if(s)o=RI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function am(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Dw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Dw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e){const n=qg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ri(i,e??{}))return s;$n(s,"already-initialized")}return n.initialize({options:e})}function HL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WL(t,e,n){const r=$i(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=kI(e),{host:o,port:a}=qL(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ri(u,r.config.emulator)&&Ri(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ha(o)?(sI(`${i}//${o}${c}`),iI("Auth",!0)):GL()}function kI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qL(t){const e=kI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ow(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ow(o)}}}function Ow(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function KL(t,e){return Br(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return dc(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function XL(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Xg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,n,"signInWithPassword",QL);case"emailLink":return YL(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,r,"signUpPassword",KL);case"emailLink":return XL(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e){return dc(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="http://localhost";class Ni extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ni(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:JL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eV(t){const e=Ka(Qa(t)).link,n=e?Ka(Qa(e)).deep_link_id:null,r=Ka(Qa(t)).deep_link_id;return(r?Ka(Qa(r)).link:null)||r||n||e||t}class Jg{constructor(e){const n=Ka(Qa(e)),r=n.apiKey??null,s=n.oobCode??null,i=ZL(n.mode??null);re(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eV(e);try{return new Jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jg.parseLink(n);return re(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends NI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends hc{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends hc{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends hc{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e){return dc(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Mn._fromIdTokenResponse(e,r,s),o=Mw(r);return new Di({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Mw(r);return new Di({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends zr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ed(e,n,r,s)}}function DI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,i,e,r):i})}async function nV(t,e,n=!1){const r=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e,n=!1){const{auth:r}=t;if(yn(r.app))return Promise.reject(br(r));const s="reauthenticate";try{const i=await Xo(t,DI(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Qg(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Di._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e,n=!1){if(yn(t.app))return Promise.reject(br(t));const r="signIn",s=await DI(t,r,e),i=await Di._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function sV(t,e){return OI($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iV(t,e,n){if(yn(t.app))return Promise.reject(br(t));const r=$i(t),o=await am(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&MI(t),c}),a=await Di._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function oV(t,e,n){return yn(t.app)?Promise.reject(br(t)):sV(ut(t),pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e){return Br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ut(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xo(r,aV(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function cV(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function uV(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function dV(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function hV(t){return ut(t).signOut()}const xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=1e3,pV=10;class VI extends LI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);PL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VI.type="LOCAL";const mV=VI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends LI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jI.type="SESSION";const FI=jI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await gV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Zg("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function vV(t){rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function wV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _V(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function EV(){return UI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="firebaseLocalStorageDb",xV=1,Td="firebaseLocalStorage",zI="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function TV(){const t=indexedDB.deleteDatabase($I);return new fc(t).toPromise()}function lm(){const t=indexedDB.open($I,xV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Td,{keyPath:zI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),await TV(),e(await lm()))})})}async function Lw(t,e,n){const r=gh(t,!0).put({[zI]:e,value:n});return new fc(r).toPromise()}async function IV(t,e){const n=gh(t,!1).get(e),r=await new fc(n).toPromise();return r===void 0?null:r.value}function Vw(t,e){const n=gh(t,!0).delete(e);return new fc(n).toPromise()}const SV=800,CV=3;class BI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(EV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await wV(),!this.activeServiceWorker)return;this.sender=new yV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await Lw(e,xd,"1"),await Vw(e,xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gh(s,!1).getAll();return new fc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BI.type="LOCAL";const AV=BI;new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e){return e?Cr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PV(t){return OI(t.auth,new ey(t),t.bypassAuthState)}function RV(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),rV(n,new ey(t),t.bypassAuthState)}async function kV(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),nV(n,new ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return RV;default:$n(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new uc(2e3,1e4);class _o extends HI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NV.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="pendingRedirect",ku=new Map;class OV extends HI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const r=await MV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MV(t,e){const n=jV(e),r=VV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LV(t,e){ku.set(t._key(),e)}function VV(t){return Cr(t._redirectPersistence)}function jV(t){return Ru(DV,t.config.apiKey,t.name)}async function FV(t,e,n=!1){if(yn(t.app))return Promise.reject(br(t));const r=$i(t),s=bV(r,e),o=await new OV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=10*60*1e3;class $V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UV&&this.cachedEventUids.clear(),this.cachedEventUids.has(jw(e))}saveEventToCache(e){this.cachedEventUids.add(jw(e)),this.lastProcessedEventTime=Date.now()}}function jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e={}){return Br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;async function qV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BV(t);for(const n of e)try{if(GV(n))return}catch{}$n(t,"unauthorized-domain")}function GV(t){const e=im(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WV.test(n))return!1;if(HV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new uc(3e4,6e4);function Fw(){const t=rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QV(t){return new Promise((e,n)=>{var s,i,o;function r(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),n(nr(t,"network-request-failed"))},timeout:KV.get()})}if((i=(s=rr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=rr().gapi)!=null&&o.load)r();else{const a=jL("iframefcb");return rr()[a]=()=>{gapi.load?r():n(nr(t,"network-request-failed"))},PI(`${VL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Nu=null,e})}let Nu=null;function YV(t){return Nu=Nu||QV(t),Nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new uc(5e3,15e3),JV="__/auth/iframe",ZV="emulator/auth/iframe",e4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n4(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kg(e,ZV):`https://${t.config.authDomain}/${JV}`,r={apiKey:e.apiKey,appName:t.name,v:fa},s=t4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${cc(r).slice(1)}`}async function r4(t){const e=await YV(t),n=rr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:n4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=nr(t,"network-request-failed"),a=rr().setTimeout(()=>{i(o)},XV.get());function c(){rr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,o4=600,a4="_blank",l4="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(t,e,n,r=i4,s=o4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...s4,width:r.toString(),height:s.toString(),top:i,left:o},u=Lt().toLowerCase();n&&(a=xI(u)?a4:n),_I(u)&&(e=e||l4,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,I])=>`${m}${p}=${I},`,"");if(bL(u)&&a!=="_self")return u4(e||"",a),new Uw(null);const f=window.open(e||"",a,d);re(f,t,"popup-blocked");try{f.focus()}catch{}return new Uw(f)}function u4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="__/auth/handler",h4="emulator/auth/handler",f4=encodeURIComponent("fac");async function $w(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:s};if(e instanceof NI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof hc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${f4}=${encodeURIComponent(c)}`:"";return`${p4(t)}?${cc(a).slice(1)}${u}`}function p4({config:t}){return t.emulator?Kg(t,h4):`https://${t.authDomain}/${d4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class m4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FI,this._completeRedirectFn=FV,this._overrideRedirectResult=LV}async _openPopup(e,n,r,s){var o;jr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await $w(e,n,r,im(),s);return c4(e,i,Zg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await $w(e,n,r,im(),s);return vV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(jr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r4(e),r=new $V(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ff];i!==void 0&&n(!!i),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AI()||EI()||Yg()}}const g4=m4;var zw="@firebase/auth",Bw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(t){Yo(new ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bI(t)},u=new OL(r,s,i,c);return HL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new ki("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(r=>new y4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(zw,Bw,v4(t)),ks(zw,Bw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=5*60,E4=rI("authIdTokenMaxAge")||_4;let Hw=null;const x4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E4)return;const s=n==null?void 0:n.token;Hw!==s&&(Hw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function T4(t=cI()){const e=qg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BL(t,{popupRedirectResolver:g4,persistence:[AV,mV,FI]}),r=rI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=x4(i.toString());uV(n,o,()=>o(n.currentUser)),cV(n,a=>o(a))}}const s=tI("auth");return s&&WL(n,`http://${s}`),n}function I4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ML({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=nr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",I4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");var S4="firebase",C4="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(S4,C4,"app");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,qI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function P(){}P.prototype=E.prototype,A.D=E.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(b,k,D){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return E.prototype[k].apply(b,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,E,P){P||(P=0);var b=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)b[k]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(k=0;16>k;++k)b[k]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=A.g[0],P=A.g[1],k=A.g[2];var D=A.g[3],R=E+(D^P&(k^D))+b[0]+3614090360&4294967295;E=P+(R<<7&4294967295|R>>>25),R=D+(k^E&(P^k))+b[1]+3905402710&4294967295,D=E+(R<<12&4294967295|R>>>20),R=k+(P^D&(E^P))+b[2]+606105819&4294967295,k=D+(R<<17&4294967295|R>>>15),R=P+(E^k&(D^E))+b[3]+3250441966&4294967295,P=k+(R<<22&4294967295|R>>>10),R=E+(D^P&(k^D))+b[4]+4118548399&4294967295,E=P+(R<<7&4294967295|R>>>25),R=D+(k^E&(P^k))+b[5]+1200080426&4294967295,D=E+(R<<12&4294967295|R>>>20),R=k+(P^D&(E^P))+b[6]+2821735955&4294967295,k=D+(R<<17&4294967295|R>>>15),R=P+(E^k&(D^E))+b[7]+4249261313&4294967295,P=k+(R<<22&4294967295|R>>>10),R=E+(D^P&(k^D))+b[8]+1770035416&4294967295,E=P+(R<<7&4294967295|R>>>25),R=D+(k^E&(P^k))+b[9]+2336552879&4294967295,D=E+(R<<12&4294967295|R>>>20),R=k+(P^D&(E^P))+b[10]+4294925233&4294967295,k=D+(R<<17&4294967295|R>>>15),R=P+(E^k&(D^E))+b[11]+2304563134&4294967295,P=k+(R<<22&4294967295|R>>>10),R=E+(D^P&(k^D))+b[12]+1804603682&4294967295,E=P+(R<<7&4294967295|R>>>25),R=D+(k^E&(P^k))+b[13]+4254626195&4294967295,D=E+(R<<12&4294967295|R>>>20),R=k+(P^D&(E^P))+b[14]+2792965006&4294967295,k=D+(R<<17&4294967295|R>>>15),R=P+(E^k&(D^E))+b[15]+1236535329&4294967295,P=k+(R<<22&4294967295|R>>>10),R=E+(k^D&(P^k))+b[1]+4129170786&4294967295,E=P+(R<<5&4294967295|R>>>27),R=D+(P^k&(E^P))+b[6]+3225465664&4294967295,D=E+(R<<9&4294967295|R>>>23),R=k+(E^P&(D^E))+b[11]+643717713&4294967295,k=D+(R<<14&4294967295|R>>>18),R=P+(D^E&(k^D))+b[0]+3921069994&4294967295,P=k+(R<<20&4294967295|R>>>12),R=E+(k^D&(P^k))+b[5]+3593408605&4294967295,E=P+(R<<5&4294967295|R>>>27),R=D+(P^k&(E^P))+b[10]+38016083&4294967295,D=E+(R<<9&4294967295|R>>>23),R=k+(E^P&(D^E))+b[15]+3634488961&4294967295,k=D+(R<<14&4294967295|R>>>18),R=P+(D^E&(k^D))+b[4]+3889429448&4294967295,P=k+(R<<20&4294967295|R>>>12),R=E+(k^D&(P^k))+b[9]+568446438&4294967295,E=P+(R<<5&4294967295|R>>>27),R=D+(P^k&(E^P))+b[14]+3275163606&4294967295,D=E+(R<<9&4294967295|R>>>23),R=k+(E^P&(D^E))+b[3]+4107603335&4294967295,k=D+(R<<14&4294967295|R>>>18),R=P+(D^E&(k^D))+b[8]+1163531501&4294967295,P=k+(R<<20&4294967295|R>>>12),R=E+(k^D&(P^k))+b[13]+2850285829&4294967295,E=P+(R<<5&4294967295|R>>>27),R=D+(P^k&(E^P))+b[2]+4243563512&4294967295,D=E+(R<<9&4294967295|R>>>23),R=k+(E^P&(D^E))+b[7]+1735328473&4294967295,k=D+(R<<14&4294967295|R>>>18),R=P+(D^E&(k^D))+b[12]+2368359562&4294967295,P=k+(R<<20&4294967295|R>>>12),R=E+(P^k^D)+b[5]+4294588738&4294967295,E=P+(R<<4&4294967295|R>>>28),R=D+(E^P^k)+b[8]+2272392833&4294967295,D=E+(R<<11&4294967295|R>>>21),R=k+(D^E^P)+b[11]+1839030562&4294967295,k=D+(R<<16&4294967295|R>>>16),R=P+(k^D^E)+b[14]+4259657740&4294967295,P=k+(R<<23&4294967295|R>>>9),R=E+(P^k^D)+b[1]+2763975236&4294967295,E=P+(R<<4&4294967295|R>>>28),R=D+(E^P^k)+b[4]+1272893353&4294967295,D=E+(R<<11&4294967295|R>>>21),R=k+(D^E^P)+b[7]+4139469664&4294967295,k=D+(R<<16&4294967295|R>>>16),R=P+(k^D^E)+b[10]+3200236656&4294967295,P=k+(R<<23&4294967295|R>>>9),R=E+(P^k^D)+b[13]+681279174&4294967295,E=P+(R<<4&4294967295|R>>>28),R=D+(E^P^k)+b[0]+3936430074&4294967295,D=E+(R<<11&4294967295|R>>>21),R=k+(D^E^P)+b[3]+3572445317&4294967295,k=D+(R<<16&4294967295|R>>>16),R=P+(k^D^E)+b[6]+76029189&4294967295,P=k+(R<<23&4294967295|R>>>9),R=E+(P^k^D)+b[9]+3654602809&4294967295,E=P+(R<<4&4294967295|R>>>28),R=D+(E^P^k)+b[12]+3873151461&4294967295,D=E+(R<<11&4294967295|R>>>21),R=k+(D^E^P)+b[15]+530742520&4294967295,k=D+(R<<16&4294967295|R>>>16),R=P+(k^D^E)+b[2]+3299628645&4294967295,P=k+(R<<23&4294967295|R>>>9),R=E+(k^(P|~D))+b[0]+4096336452&4294967295,E=P+(R<<6&4294967295|R>>>26),R=D+(P^(E|~k))+b[7]+1126891415&4294967295,D=E+(R<<10&4294967295|R>>>22),R=k+(E^(D|~P))+b[14]+2878612391&4294967295,k=D+(R<<15&4294967295|R>>>17),R=P+(D^(k|~E))+b[5]+4237533241&4294967295,P=k+(R<<21&4294967295|R>>>11),R=E+(k^(P|~D))+b[12]+1700485571&4294967295,E=P+(R<<6&4294967295|R>>>26),R=D+(P^(E|~k))+b[3]+2399980690&4294967295,D=E+(R<<10&4294967295|R>>>22),R=k+(E^(D|~P))+b[10]+4293915773&4294967295,k=D+(R<<15&4294967295|R>>>17),R=P+(D^(k|~E))+b[1]+2240044497&4294967295,P=k+(R<<21&4294967295|R>>>11),R=E+(k^(P|~D))+b[8]+1873313359&4294967295,E=P+(R<<6&4294967295|R>>>26),R=D+(P^(E|~k))+b[15]+4264355552&4294967295,D=E+(R<<10&4294967295|R>>>22),R=k+(E^(D|~P))+b[6]+2734768916&4294967295,k=D+(R<<15&4294967295|R>>>17),R=P+(D^(k|~E))+b[13]+1309151649&4294967295,P=k+(R<<21&4294967295|R>>>11),R=E+(k^(P|~D))+b[4]+4149444226&4294967295,E=P+(R<<6&4294967295|R>>>26),R=D+(P^(E|~k))+b[11]+3174756917&4294967295,D=E+(R<<10&4294967295|R>>>22),R=k+(E^(D|~P))+b[2]+718787259&4294967295,k=D+(R<<15&4294967295|R>>>17),R=P+(D^(k|~E))+b[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var P=E-this.blockSize,b=this.B,k=this.h,D=0;D<E;){if(k==0)for(;D<=P;)s(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<E;)if(b[k++]=A.charCodeAt(D++),k==this.blockSize){s(this,b),k=0;break}}else for(;D<E;)if(b[k++]=A[D++],k==this.blockSize){s(this,b),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var P=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=P&255,P/=256;for(this.u(A),A=Array(16),E=P=0;4>E;++E)for(var b=0;32>b;b+=8)A[P++]=this.g[E]>>>b&255;return A};function i(A,E){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=E(A)}function o(A,E){this.h=E;for(var P=[],b=!0,k=A.length-1;0<=k;k--){var D=A[k]|0;b&&D==E||(P[k]=D,b=!1)}this.g=P}var a={};function c(A){return-128<=A&&128>A?i(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return x(u(-A));for(var E=[],P=1,b=0;A>=P;b++)E[b]=A/P|0,P*=4294967296;return new o(E,0)}function d(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return x(d(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(E,8)),b=f,k=0;k<A.length;k+=8){var D=Math.min(8,A.length-k),R=parseInt(A.substring(k,k+D),E);8>D?(D=u(Math.pow(E,D)),b=b.j(D).add(u(R))):(b=b.j(P),b=b.add(u(R)))}return b}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();for(var A=0,E=1,P=0;P<this.g.length;P++){var b=this.i(P);A+=(0<=b?b:4294967296+b)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I(this))return"0";if(_(this))return"-"+x(this).toString(A);for(var E=u(Math.pow(A,6)),P=this,b="";;){var k=N(P,E).g;P=v(P,k.j(E));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=k,I(P))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function I(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=v(this,A),_(A)?-1:I(A)?0:1};function x(A){for(var E=A.g.length,P=[],b=0;b<E;b++)P[b]=~A.g[b];return new o(P,~A.h).add(m)}t.abs=function(){return _(this)?x(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),P=[],b=0,k=0;k<=E;k++){var D=b+(this.i(k)&65535)+(A.i(k)&65535),R=(D>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);b=R>>>16,D&=65535,R&=65535,P[k]=R<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(A,E){return A.add(x(E))}t.j=function(A){if(I(this)||I(A))return f;if(_(this))return _(A)?x(this).j(x(A)):x(x(this).j(A));if(_(A))return x(this.j(x(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var E=this.g.length+A.g.length,P=[],b=0;b<2*E;b++)P[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<A.g.length;k++){var D=this.i(b)>>>16,R=this.i(b)&65535,W=A.i(k)>>>16,ie=A.i(k)&65535;P[2*b+2*k]+=R*ie,w(P,2*b+2*k),P[2*b+2*k+1]+=D*ie,w(P,2*b+2*k+1),P[2*b+2*k+1]+=R*W,w(P,2*b+2*k+1),P[2*b+2*k+2]+=D*W,w(P,2*b+2*k+2)}for(b=0;b<E;b++)P[b]=P[2*b+1]<<16|P[2*b];for(b=E;b<2*E;b++)P[b]=0;return new o(P,0)};function w(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function T(A,E){this.g=A,this.h=E}function N(A,E){if(I(E))throw Error("division by zero");if(I(A))return new T(f,f);if(_(A))return E=N(x(A),E),new T(x(E.g),x(E.h));if(_(E))return E=N(A,x(E)),new T(x(E.g),E.h);if(30<A.g.length){if(_(A)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var P=m,b=E;0>=b.l(A);)P=O(P),b=O(b);var k=L(P,1),D=L(b,1);for(b=L(b,2),P=L(P,2);!I(b);){var R=D.add(b);0>=R.l(A)&&(k=k.add(P),D=R),b=L(b,1),P=L(P,1)}return E=v(A,k.j(E)),new T(k,E)}for(k=f;0<=A.l(E);){for(P=Math.max(1,Math.floor(A.m()/E.m())),b=Math.ceil(Math.log(P)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=u(P),R=D.j(E);_(R)||0<R.l(A);)P-=b,D=u(P),R=D.j(E);I(D)&&(D=m),k=k.add(D),A=v(A,R)}return new T(k,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),P=[],b=0;b<E;b++)P[b]=this.i(b)&A.i(b);return new o(P,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),P=[],b=0;b<E;b++)P[b]=this.i(b)|A.i(b);return new o(P,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),P=[],b=0;b<E;b++)P[b]=this.i(b)^A.i(b);return new o(P,this.h^A.h)};function O(A){for(var E=A.g.length+1,P=[],b=0;b<E;b++)P[b]=A.i(b)<<1|A.i(b-1)>>>31;return new o(P,A.h)}function L(A,E){var P=E>>5;E%=32;for(var b=A.g.length-P,k=[],D=0;D<b;D++)k[D]=0<E?A.i(D+P)>>>E|A.i(D+P+1)<<32-E:A.i(D+P);return new o(k,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ns=o}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GI,Ya,KI,Du,cm,QI,YI,XI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,y){return l==Array.prototype||l==Object.prototype||(l[h]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var h=0;h<l.length;++h){var y=l[h];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var y=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var M=l[S];if(!(M in y))break e;y=y[M]}l=l[l.length-1],S=y[l],h=h(S),h!=S&&h!=null&&e(y,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var y=0,S=!1,M={next:function(){if(!S&&y<l.length){var j=y++;return{value:h(j,l[j]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,y){return l.call.apply(l.bind,arguments)}function f(l,h,y){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function m(l,h,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function p(l,h){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function I(l,h){function y(){}y.prototype=h.prototype,l.aa=h.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(S,M,j){for(var G=Array(arguments.length-2),be=2;be<arguments.length;be++)G[be-2]=arguments[be];return h.prototype[M].apply(S,G)}}function _(l){const h=l.length;if(0<h){const y=Array(h);for(let S=0;S<h;S++)y[S]=l[S];return y}return[]}function x(l,h){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(c(S)){const M=l.length||0,j=S.length||0;l.length=M+j;for(let G=0;G<j;G++)l[M+G]=S[G]}else l.push(S)}}class v{constructor(h,y){this.i=h,this.j=y,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(l,h,y){for(const S in l)h.call(y,l[S],S,l)}function A(l,h){for(const y in l)h.call(void 0,l[y],y,l)}function E(l){const h={};for(const y in l)h[y]=l[y];return h}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,h){let y,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(y in S)l[y]=S[y];for(let j=0;j<P.length;j++)y=P[j],Object.prototype.hasOwnProperty.call(S,y)&&(l[y]=S[y])}}function k(l){var h=1;l=l.split(":");const y=[];for(;0<h&&l.length;)y.push(l.shift()),h--;return l.length&&y.push(l.join(":")),y}function D(l){a.setTimeout(()=>{throw l},0)}function R(){var l=V;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class W{constructor(){this.h=this.g=null}add(h,y){const S=ie.get();S.set(h,y),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new v(()=>new J,l=>l.reset());class J{constructor(){this.next=this.g=this.h=null}set(h,y){this.h=h,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,F=!1,V=new W,H=()=>{const l=a.Promise.resolve(void 0);ne=()=>{l.then(Z)}};var Z=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(y){D(y)}var h=ie;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}F=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};a.addEventListener("test",y,h),a.removeEventListener("test",y,h)}catch{}return l}();function Pe(l,h){if(ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(O){e:{try{N(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else y=="mouseover"?h=l.fromElement:y=="mouseout"&&(h=l.toElement);this.relatedTarget=h,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ot[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Pe.aa.h.call(this)}}I(Pe,ee);var ot={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Hr=0;function zn(l,h,y,S,M){this.listener=l,this.proxy=null,this.src=h,this.type=y,this.capture=!!S,this.ha=M,this.key=++Hr,this.da=this.fa=!1}function dn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Zt(l){this.src=l,this.g={},this.h=0}Zt.prototype.add=function(l,h,y,S,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var G=hn(l,h,S,M);return-1<G?(h=l[G],y||(h.fa=!1)):(h=new zn(h,this.src,j,!!S,M),h.fa=y,l.push(h)),h};function Bn(l,h){var y=h.type;if(y in l.g){var S=l.g[y],M=Array.prototype.indexOf.call(S,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(S,M,1),j&&(dn(h),l.g[y].length==0&&(delete l.g[y],l.h--))}}function hn(l,h,y,S){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!y&&j.ha==S)return M}return-1}var Wr="closure_lm_"+(1e6*Math.random()|0),Xs={};function Js(l,h,y,S,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Js(l,h[j],y,S,M);return null}return y=Ec(y),l&&l[ge]?l.K(h,y,u(S)?!!S.capture:!!S,M):Ea(l,h,y,!1,S,M)}function Ea(l,h,y,S,M,j){if(!h)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,be=Sn(l);if(be||(l[Wr]=be=new Zt(l)),y=be.add(h,y,S,G,j),y.proxy)return y;if(S=Zs(),y.proxy=S,S.src=l,S.listener=y,l.addEventListener)de||(M=G),M===void 0&&(M=!1),l.addEventListener(h.toString(),S,M);else if(l.attachEvent)l.attachEvent(qr(h.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Zs(){function l(y){return h.call(l.src,l.listener,y)}const h=_c;return l}function fr(l,h,y,S,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)fr(l,h[j],y,S,M);else S=u(S)?!!S.capture:!!S,y=Ec(y),l&&l[ge]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],y=hn(j,y,S,M),-1<y&&(dn(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=Sn(l))&&(h=l.g[h.toString()],l=-1,h&&(l=hn(h,y,S,M)),(y=-1<l?h[l]:null)&&Hi(y))}function Hi(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ge])Bn(h.i,l);else{var y=l.type,S=l.proxy;h.removeEventListener?h.removeEventListener(y,S,l.capture):h.detachEvent?h.detachEvent(qr(y),S):h.addListener&&h.removeListener&&h.removeListener(S),(y=Sn(h))?(Bn(y,l),y.h==0&&(y.src=null,h[Wr]=null)):dn(l)}}}function qr(l){return l in Xs?Xs[l]:Xs[l]="on"+l}function _c(l,h){if(l.da)l=!0;else{h=new Pe(h,this);var y=l.listener,S=l.ha||l.src;l.fa&&Hi(l),l=y.call(S,h)}return l}function Sn(l){return l=l[Wr],l instanceof Zt?l:null}var xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ec(l){return typeof l=="function"?l:(l[xa]||(l[xa]=function(h){return l.handleEvent(h)}),l[xa])}function Ie(){Y.call(this),this.i=new Zt(this),this.M=this,this.F=null}I(Ie,Y),Ie.prototype[ge]=!0,Ie.prototype.removeEventListener=function(l,h,y,S){fr(this,l,h,y,S)};function He(l,h){var y,S=l.F;if(S)for(y=[];S;S=S.F)y.push(S);if(l=l.M,S=h.type||h,typeof h=="string")h=new ee(h,l);else if(h instanceof ee)h.target=h.target||l;else{var M=h;h=new ee(S,l),b(h,M)}if(M=!0,y)for(var j=y.length-1;0<=j;j--){var G=h.g=y[j];M=Wi(G,S,!0,h)&&M}if(G=h.g=l,M=Wi(G,S,!0,h)&&M,M=Wi(G,S,!1,h)&&M,y)for(j=0;j<y.length;j++)G=h.g=y[j],M=Wi(G,S,!1,h)&&M}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var y=l.g[h],S=0;S<y.length;S++)dn(y[S]);delete l.g[h],l.h--}}this.F=null},Ie.prototype.K=function(l,h,y,S){return this.i.add(String(l),h,!1,y,S)},Ie.prototype.L=function(l,h,y,S){return this.i.add(String(l),h,!0,y,S)};function Wi(l,h,y,S){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var G=h[j];if(G&&!G.da&&G.capture==y){var be=G.listener,ft=G.ha||G.src;G.fa&&Bn(l.i,G),M=be.call(ft,S)!==!1&&M}}return M&&!S.defaultPrevented}function xc(l,h,y){if(typeof l=="function")y&&(l=m(l,y));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function ei(l){l.g=xc(()=>{l.g=null,l.i&&(l.i=!1,ei(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Vh extends Y{constructor(h,y){super(),this.m=h,this.l=y,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ei(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(l){Y.call(this),this.h=l,this.g={}}I(Gr,Y);var qi=[];function pr(l){L(l.g,function(h,y){this.g.hasOwnProperty(y)&&Hi(h)},l),l.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),pr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=a.JSON.stringify,Kr=a.JSON.parse,jh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Ta(){}Ta.prototype.h=null;function Ia(l){return l.h||(l.h=l.i())}function Sa(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){ee.call(this,"d")}I(ni,ee);function fn(){ee.call(this,"c")}I(fn,ee);var mr={},oe=null;function ve(){return oe=oe||new Ie}mr.La="serverreachability";function Ae(l){ee.call(this,mr.La,l)}I(Ae,ee);function dt(l){const h=ve();He(h,new Ae(h))}mr.STAT_EVENT="statevent";function Bt(l,h){ee.call(this,mr.STAT_EVENT,l),this.stat=h}I(Bt,ee);function Le(l){const h=ve();He(h,new Bt(h,l))}mr.Ma="timingevent";function Hn(l,h){ee.call(this,mr.Ma,l),this.size=h}I(Hn,ee);function ht(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ht(){this.g=!0}Ht.prototype.xa=function(){this.g=!1};function tA(l,h,y,S,M,j){l.info(function(){if(l.g)if(j)for(var G="",be=j.split("&"),ft=0;ft<be.length;ft++){var _e=be[ft].split("=");if(1<_e.length){var Tt=_e[0];_e=_e[1];var It=Tt.split("_");G=2<=It.length&&It[1]=="type"?G+(Tt+"="+_e+"&"):G+(Tt+"=redacted&")}}else G=null;else G=j;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+h+`
`+y+`
`+G})}function nA(l,h,y,S,M,j,G){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+h+`
`+y+`
`+j+" "+G})}function Ki(l,h,y,S){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+sA(l,y)+(S?" "+S:"")})}function rA(l,h){l.info(function(){return"TIMEOUT: "+h})}Ht.prototype.info=function(){};function sA(l,h){if(!l.g)return h;if(!h)return null;try{var y=JSON.parse(h);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var S=y[l];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return Gi(y)}catch{return h}}var Tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fh;function Ic(){}I(Ic,Ta),Ic.prototype.g=function(){return new XMLHttpRequest},Ic.prototype.i=function(){return{}},Fh=new Ic;function Qr(l,h,y,S){this.j=l,this.i=h,this.l=y,this.R=S||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jy}function jy(){this.i=null,this.g="",this.h=!1}var Fy={},Uh={};function $h(l,h,y){l.L=1,l.v=bc(gr(h)),l.m=y,l.P=!0,Uy(l,null)}function Uy(l,h){l.F=Date.now(),Sc(l),l.A=gr(l.v);var y=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),ev(y.i,"t",S),l.C=0,y=l.j.J,l.h=new jy,l.g=vv(l.j,y?h:null,!l.m),0<l.O&&(l.M=new Vh(m(l.Y,l,l.g),l.O)),h=l.U,y=l.g,S=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(qi[0]=M.toString()),M=qi);for(var j=0;j<M.length;j++){var G=Js(y,M[j],S||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),dt(),tA(l.i,l.u,l.A,l.l,l.R,l.m)}Qr.prototype.ca=function(l){l=l.target;const h=this.M;h&&yr(l)==3?h.j():this.Y(l)},Qr.prototype.Y=function(l){try{if(l==this.g)e:{const It=yr(this.g);var h=this.g.Ba();const Xi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||av(this.g)))){this.J||It!=4||h==7||(h==8||0>=Xi?dt(3):dt(2)),zh(this);var y=this.g.Z();this.X=y;t:if($y(this)){var S=av(this.g);l="";var M=S.length,j=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),Ca(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(S[h],{stream:!(j&&h==M-1)});S.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=y==200,nA(this.i,this.u,this.A,this.l,this.R,It,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ft=this.g;if((be=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(be)){var _e=be;break t}}_e=null}if(y=_e)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bh(this,y);else{this.o=!1,this.s=3,Le(12),ri(this),Ca(this);break e}}if(this.P){y=!0;let Cn;for(;!this.J&&this.C<G.length;)if(Cn=iA(this,G),Cn==Uh){It==4&&(this.s=4,Le(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Fy){this.s=4,Le(15),Ki(this.i,this.l,G,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,Cn,null),Bh(this,Cn);if($y(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||G.length!=0||this.h.h||(this.s=1,Le(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,G,"[Invalid Chunked Response]"),ri(this),Ca(this);else if(0<G.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Qh(Tt),Tt.M=!0,Le(11))}}else Ki(this.i,this.l,G,null),Bh(this,G);It==4&&ri(this),this.o&&!this.J&&(It==4?pv(this.j,this):(this.o=!1,Sc(this)))}else xA(this.g),y==400&&0<G.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),ri(this),Ca(this)}}}catch{}finally{}};function $y(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function iA(l,h){var y=l.C,S=h.indexOf(`
`,y);return S==-1?Uh:(y=Number(h.substring(y,S)),isNaN(y)?Fy:(S+=1,S+y>h.length?Uh:(h=h.slice(S,S+y),l.C=S+y,h)))}Qr.prototype.cancel=function(){this.J=!0,ri(this)};function Sc(l){l.S=Date.now()+l.I,zy(l,l.I)}function zy(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ht(m(l.ba,l),h)}function zh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Qr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(rA(this.i,this.A),this.L!=2&&(dt(),Le(17)),ri(this),this.s=2,Ca(this)):zy(this,this.S-l)};function Ca(l){l.j.G==0||l.J||pv(l.j,l)}function ri(l){zh(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,pr(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Bh(l,h){try{var y=l.j;if(y.G!=0&&(y.g==l||Hh(y.h,l))){if(!l.K&&Hh(y.h,l)&&y.G==3){try{var S=y.Da.g.parse(h)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Oc(y),Nc(y);else break e;Kh(y),Le(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=ht(m(y.Za,y),6e3));if(1>=Wy(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ii(y,11)}else if((l.K||y.g==l)&&Oc(y),!w(h))for(M=y.Da.g.parse(h),h=0;h<M.length;h++){let _e=M[h];if(y.T=_e[0],_e=_e[1],y.G==2)if(_e[0]=="c"){y.K=_e[1],y.ia=_e[2];const Tt=_e[3];Tt!=null&&(y.la=Tt,y.j.info("VER="+y.la));const It=_e[4];It!=null&&(y.Aa=It,y.j.info("SVER="+y.Aa));const Xi=_e[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(S=1.5*Xi,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Cn=l.g;if(Cn){const Lc=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lc){var j=S.h;j.g||Lc.indexOf("spdy")==-1&&Lc.indexOf("quic")==-1&&Lc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Wh(j,j.h),j.h=null))}if(S.D){const Yh=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(S.ya=Yh,ke(S.I,S.D,Yh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var G=l;if(S.qa=yv(S,S.J?S.ia:null,S.W),G.K){qy(S.h,G);var be=G,ft=S.L;ft&&(be.I=ft),be.B&&(zh(be),Sc(be)),S.g=G}else hv(S);0<y.i.length&&Dc(y)}else _e[0]!="stop"&&_e[0]!="close"||ii(y,7);else y.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?ii(y,7):Gh(y):_e[0]!="noop"&&y.l&&y.l.ta(_e),y.v=0)}}dt(4)}catch{}}var oA=class{constructor(l,h){this.g=l,this.map=h}};function By(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wy(l){return l.h?1:l.g?l.g.size:0}function Hh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Wh(l,h){l.g?l.g.add(h):l.h=h}function qy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}By.prototype.cancel=function(){if(this.i=Gy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Gy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const y of l.g.values())h=h.concat(y.D);return h}return _(l.i)}function aA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],y=l.length,S=0;S<y;S++)h.push(l[S]);return h}h=[],y=0;for(S in l)h[y++]=l[S];return h}function lA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var y=0;y<l;y++)h.push(y);return h}h=[],y=0;for(const S in l)h[y++]=S;return h}}}function Ky(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var y=lA(l),S=aA(l),M=S.length,j=0;j<M;j++)h.call(void 0,S[j],y&&y[j],l)}var Qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cA(l,h){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var S=l[y].indexOf("="),M=null;if(0<=S){var j=l[y].substring(0,S);M=l[y].substring(S+1)}else j=l[y];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function si(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof si){this.h=l.h,Cc(this,l.j),this.o=l.o,this.g=l.g,Ac(this,l.s),this.l=l.l;var h=l.i,y=new Pa;y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),Yy(this,y),this.m=l.m}else l&&(h=String(l).match(Qy))?(this.h=!1,Cc(this,h[1]||"",!0),this.o=Aa(h[2]||""),this.g=Aa(h[3]||"",!0),Ac(this,h[4]),this.l=Aa(h[5]||"",!0),Yy(this,h[6]||"",!0),this.m=Aa(h[7]||"")):(this.h=!1,this.i=new Pa(null,this.h))}si.prototype.toString=function(){var l=[],h=this.j;h&&l.push(ba(h,Xy,!0),":");var y=this.g;return(y||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ba(h,Xy,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(ba(y,y.charAt(0)=="/"?hA:dA,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",ba(y,pA)),l.join("")};function gr(l){return new si(l)}function Cc(l,h,y){l.j=y?Aa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ac(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Yy(l,h,y){h instanceof Pa?(l.i=h,mA(l.i,l.h)):(y||(h=ba(h,fA)),l.i=new Pa(h,l.h))}function ke(l,h,y){l.i.set(h,y)}function bc(l){return ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Aa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ba(l,h,y){return typeof l=="string"?(l=encodeURI(l).replace(h,uA),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function uA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Xy=/[#\/\?@]/g,dA=/[#\?:]/g,hA=/[#\?]/g,fA=/[#\?@]/g,pA=/#/g;function Pa(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Yr(l){l.g||(l.g=new Map,l.h=0,l.i&&cA(l.i,function(h,y){l.add(decodeURIComponent(h.replace(/\+/g," ")),y)}))}t=Pa.prototype,t.add=function(l,h){Yr(this),this.i=null,l=Qi(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(h),this.h+=1,this};function Jy(l,h){Yr(l),h=Qi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Zy(l,h){return Yr(l),h=Qi(l,h),l.g.has(h)}t.forEach=function(l,h){Yr(this),this.g.forEach(function(y,S){y.forEach(function(M){l.call(h,M,S,this)},this)},this)},t.na=function(){Yr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),y=[];for(let S=0;S<h.length;S++){const M=l[S];for(let j=0;j<M.length;j++)y.push(h[S])}return y},t.V=function(l){Yr(this);let h=[];if(typeof l=="string")Zy(this,l)&&(h=h.concat(this.g.get(Qi(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)h=h.concat(l[y])}return h},t.set=function(l,h){return Yr(this),this.i=null,l=Qi(this,l),Zy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function ev(l,h,y){Jy(l,h),0<y.length&&(l.i=null,l.g.set(Qi(l,h),_(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var y=0;y<h.length;y++){var S=h[y];const j=encodeURIComponent(String(S)),G=this.V(S);for(S=0;S<G.length;S++){var M=j;G[S]!==""&&(M+="="+encodeURIComponent(String(G[S]))),l.push(M)}}return this.i=l.join("&")};function Qi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function mA(l,h){h&&!l.j&&(Yr(l),l.i=null,l.g.forEach(function(y,S){var M=S.toLowerCase();S!=M&&(Jy(this,S),ev(this,M,y))},l)),l.j=h}function gA(l,h){const y=new Ht;if(a.Image){const S=new Image;S.onload=p(Xr,y,"TestLoadImage: loaded",!0,h,S),S.onerror=p(Xr,y,"TestLoadImage: error",!1,h,S),S.onabort=p(Xr,y,"TestLoadImage: abort",!1,h,S),S.ontimeout=p(Xr,y,"TestLoadImage: timeout",!1,h,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else h(!1)}function yA(l,h){const y=new Ht,S=new AbortController,M=setTimeout(()=>{S.abort(),Xr(y,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:S.signal}).then(j=>{clearTimeout(M),j.ok?Xr(y,"TestPingServer: ok",!0,h):Xr(y,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Xr(y,"TestPingServer: error",!1,h)})}function Xr(l,h,y,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(y)}catch{}}function vA(){this.g=new jh}function wA(l,h,y){const S=y||"";try{Ky(l,function(M,j){let G=M;u(M)&&(G=Gi(M)),h.push(S+j+"="+encodeURIComponent(G))})}catch(M){throw h.push(S+"type="+encodeURIComponent("_badmap")),M}}function Pc(l){this.l=l.Ub||null,this.j=l.eb||!1}I(Pc,Ta),Pc.prototype.g=function(){return new Rc(this.l,this.j)},Pc.prototype.i=function(l){return function(){return l}}({});function Rc(l,h){Ie.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Rc,Ie),t=Rc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ka(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function tv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ra(this):ka(this),this.readyState==3&&tv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ra(this))},t.Qa=function(l){this.g&&(this.response=l,Ra(this))},t.ga=function(){this.g&&Ra(this)};function Ra(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ka(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var y=h.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=h.next();return l.join(`\r
`)};function ka(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nv(l){let h="";return L(l,function(y,S){h+=S,h+=":",h+=y,h+=`\r
`}),h}function qh(l,h,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=nv(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ke(l,h,y))}function We(l){Ie.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(We,Ie);var _A=/^https?$/i,EA=["POST","PUT"];t=We.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fh.g(),this.v=this.o?Ia(this.o):Ia(Fh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){rv(this,j);return}if(l=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)y.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())y.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EA,h,void 0))||S||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of y)this.g.setRequestHeader(j,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ov(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){rv(this,j)}};function rv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,sv(l),kc(l)}function sv(l){l.A||(l.A=!0,He(l,"complete"),He(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,He(this,"complete"),He(this,"abort"),kc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kc(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iv(this):this.bb())},t.bb=function(){iv(this)};function iv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||yr(l)!=4||l.Z()!=2)){if(l.u&&yr(l)==4)xc(l.Ea,0,l);else if(He(l,"readystatechange"),yr(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var y;if(!(y=h)){var S;if(S=G===0){var M=String(l.D).match(Qy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),S=!_A.test(M?M.toLowerCase():"")}y=S}if(y)He(l,"complete"),He(l,"success");else{l.m=6;try{var j=2<yr(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",sv(l)}}finally{kc(l)}}}}function kc(l,h){if(l.g){ov(l);const y=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||He(l,"ready");try{y.onreadystatechange=S}catch{}}}function ov(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function yr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Kr(h)}};function av(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xA(l){const h={};l=(l.g&&2<=yr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(w(l[S]))continue;var y=k(l[S]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=h[M]||[];h[M]=j,j.push(y)}A(h,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(l,h,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||h}function lv(l){this.Aa=0,this.i=[],this.j=new Ht,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,l),this.cb=Na("retryDelaySeedMs",1e4,l),this.Wa=Na("forwardChannelMaxRetries",2,l),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new By(l&&l.concurrentRequestLimit),this.Da=new vA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lv.prototype,t.la=8,t.G=1,t.connect=function(l,h,y,S){Le(0),this.W=l,this.H=h||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=yv(this,null,this.W),Dc(this)};function Gh(l){if(cv(l),l.G==3){var h=l.U++,y=gr(l.I);if(ke(y,"SID",l.K),ke(y,"RID",h),ke(y,"TYPE","terminate"),Da(l,y),h=new Qr(l,l.j,h),h.L=2,h.v=bc(gr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=h.v,y=!0),y||(h.g=vv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Sc(h)}gv(l)}function Nc(l){l.g&&(Qh(l),l.g.cancel(),l.g=null)}function cv(l){Nc(l),l.u&&(a.clearTimeout(l.u),l.u=null),Oc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Dc(l){if(!Hy(l.h)&&!l.s){l.s=!0;var h=l.Ga;ne||H(),F||(ne(),F=!0),V.add(h,l),l.B=0}}function TA(l,h){return Wy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ht(m(l.Ga,l,h),mv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Qr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=E(j),b(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(h+=S,4096<h){h=y;break e}if(h===4096||y===this.i.length-1){h=y+1;break e}}h=1e3}else h=1e3;h=dv(this,M,h),y=gr(this.I),ke(y,"RID",l),ke(y,"CVER",22),this.D&&ke(y,"X-HTTP-Session-Id",this.D),Da(this,y),j&&(this.O?h="headers="+encodeURIComponent(String(nv(j)))+"&"+h:this.m&&qh(y,this.m,j)),Wh(this.h,M),this.Ua&&ke(y,"TYPE","init"),this.P?(ke(y,"$req",h),ke(y,"SID","null"),M.T=!0,$h(M,y,null)):$h(M,y,h),this.G=2}}else this.G==3&&(l?uv(this,l):this.i.length==0||Hy(this.h)||uv(this))};function uv(l,h){var y;h?y=h.l:y=l.U++;const S=gr(l.I);ke(S,"SID",l.K),ke(S,"RID",y),ke(S,"AID",l.T),Da(l,S),l.m&&l.o&&qh(S,l.m,l.o),y=new Qr(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),h&&(l.i=h.D.concat(l.i)),h=dv(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Wh(l.h,y),$h(y,S,h)}function Da(l,h){l.H&&L(l.H,function(y,S){ke(h,S,y)}),l.l&&Ky({},function(y,S){ke(h,S,y)})}function dv(l,h,y){y=Math.min(l.i.length,y);var S=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const G=["count="+y];j==-1?0<y?(j=M[0].g,G.push("ofs="+j)):j=0:G.push("ofs="+j);let be=!0;for(let ft=0;ft<y;ft++){let _e=M[ft].g;const Tt=M[ft].map;if(_e-=j,0>_e)j=Math.max(0,M[ft].g-100),be=!1;else try{wA(Tt,G,"req"+_e+"_")}catch{S&&S(Tt)}}if(be){S=G.join("&");break e}}}return l=l.i.splice(0,y),h.D=l,S}function hv(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ne||H(),F||(ne(),F=!0),V.add(h,l),l.v=0}}function Kh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ht(m(l.Fa,l),mv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,fv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ht(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),Nc(this),fv(this))};function Qh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function fv(l){l.g=new Qr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=gr(l.qa);ke(h,"RID","rpc"),ke(h,"SID",l.K),ke(h,"AID",l.T),ke(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ke(h,"TO",l.ja),ke(h,"TYPE","xmlhttp"),Da(l,h),l.m&&l.o&&qh(h,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=bc(gr(h)),y.m=null,y.P=!0,Uy(y,l)}t.Za=function(){this.C!=null&&(this.C=null,Nc(this),Kh(this),Le(19))};function Oc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function pv(l,h){var y=null;if(l.g==h){Oc(l),Qh(l),l.g=null;var S=2}else if(Hh(l.h,h))y=h.D,qy(l.h,h),S=1;else return;if(l.G!=0){if(h.o)if(S==1){y=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;S=ve(),He(S,new Hn(S,y)),Dc(l)}else hv(l);else if(M=h.s,M==3||M==0&&0<h.X||!(S==1&&TA(l,h)||S==2&&Kh(l)))switch(y&&0<y.length&&(h=l.h,h.i=h.i.concat(y)),M){case 1:ii(l,5);break;case 4:ii(l,10);break;case 3:ii(l,6);break;default:ii(l,2)}}}function mv(l,h){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*h}function ii(l,h){if(l.j.info("Error code "+h),h==2){var y=m(l.fb,l),S=l.Xa;const M=!S;S=new si(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cc(S,"https"),bc(S),M?gA(S.toString(),y):yA(S.toString(),y)}else Le(2);l.G=0,l.l&&l.l.sa(h),gv(l),cv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function gv(l){if(l.G=0,l.ka=[],l.l){const h=Gy(l.h);(h.length!=0||l.i.length!=0)&&(x(l.ka,h),x(l.ka,l.i),l.h.i.length=0,_(l.i),l.i.length=0),l.l.ra()}}function yv(l,h,y){var S=y instanceof si?gr(y):new si(y);if(S.g!="")h&&(S.g=h+"."+S.g),Ac(S,S.s);else{var M=a.location;S=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new si(null);S&&Cc(j,S),h&&(j.g=h),M&&Ac(j,M),y&&(j.l=y),S=j}return y=l.D,h=l.ya,y&&h&&ke(S,y,h),ke(S,"VER",l.la),Da(l,S),S}function vv(l,h,y){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new We(new Pc({eb:y})):new We(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wv(){}t=wv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mc(){}Mc.prototype.g=function(l,h){return new en(l,h)};function en(l,h){Ie.call(this),this.g=new lv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!w(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Yi(this)}I(en,Ie),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Gh(this.g)},en.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Gi(l),l=y);h.i.push(new oA(h.Ya++,l)),h.G==3&&Dc(h)},en.prototype.N=function(){this.g.l=null,delete this.j,Gh(this.g),delete this.g,en.aa.N.call(this)};function _v(l){ni.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const y in h){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}I(_v,ni);function Ev(){fn.call(this),this.status=1}I(Ev,fn);function Yi(l){this.g=l}I(Yi,wv),Yi.prototype.ua=function(){He(this.g,"a")},Yi.prototype.ta=function(l){He(this.g,new _v(l))},Yi.prototype.sa=function(l){He(this.g,new Ev)},Yi.prototype.ra=function(){He(this.g,"b")},Mc.prototype.createWebChannel=Mc.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,XI=function(){return new Mc},YI=function(){return ve()},QI=mr,cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tc.NO_ERROR=0,Tc.TIMEOUT=8,Tc.HTTP_ERROR=6,Du=Tc,Vy.COMPLETE="complete",KI=Vy,Sa.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Ya=Sa,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,GI=We}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const qw="@firebase/firestore",Gw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Hg("@firebase/firestore");function to(){return Oi.logLevel}function K(t,...e){if(Oi.logLevel<=fe.DEBUG){const n=e.map(ty);Oi.debug(`Firestore (${ma}): ${t}`,...n)}}function Fr(t,...e){if(Oi.logLevel<=fe.ERROR){const n=e.map(ty);Oi.error(`Firestore (${ma}): ${t}`,...n)}}function Jo(t,...e){if(Oi.logLevel<=fe.WARN){const n=e.map(ty);Oi.warn(`Firestore (${ma}): ${t}`,...n)}}function ty(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JI(t,r,n)}function JI(t,e,n){let r=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||JI(e,s,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P4{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ds,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ds)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new ZI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Rt(e)}}class R4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new R4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=D4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function um(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Uf(s)===Uf(i)?pe(s,i):Uf(s)?1:-1}return pe(t.length,e.length)}const O4=55296,M4=57343;function Uf(t){const e=t.charCodeAt(0);return e>=O4&&e<=M4}function Zo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__name__";class Gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Gn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return pe(e.length,n.length)}static compareSegments(e,n){const r=Gn.isNumericId(e),s=Gn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Gn.extractNumericId(e).compare(Gn.extractNumericId(n)):um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class Oe extends Gn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const L4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Gn{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return L4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qw}static keyField(){return new gt([Qw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Oe.fromString(e))}static fromName(e){return new te(Oe.fromString(e).popFirst(5))}static empty(){return new te(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V4(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yw(t){if(!te.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xw(t){if(te.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ry(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function pc(t,e){if(!tS(t))throw new X(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=-62135596800,Zw=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zw);return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jw)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zw}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pc(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:Je("string",xe._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new xe(0,0))}static max(){return new ae(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function j4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new Fs(s,te.empty(),e)}function F4(t){return new Fs(t.readTime,t.key,zl)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(ae.min(),te.empty(),zl)}static max(){return new Fs(ae.max(),te.empty(),zl)}}function U4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==$4)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function B4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-1;function vh(t){return t==null}function Id(t){return t===0&&1/t==-1/0}function H4(t){return typeof t=="number"&&Number.isInteger(t)&&!Id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="";function W4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=e_(e)),e=q4(t.get(n),e);return e_(e)}function q4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case nS:n+="";break;default:n+=i}}return n}function e_(t){return t+nS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mt.RED,this.left=s??mt.EMPTY,this.right=i??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new sn([])}unionWith(e){let n=new st(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sS("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const G4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=G4.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="server_timestamp",oS="__type__",aS="__previous_value__",lS="__local_write_time__";function iy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[oS])==null?void 0:r.stringValue)===iS}function wh(t){const e=t.mapValue.fields[aS];return iy(e)?wh(e):e}function Bl(t){const e=Us(t.mapValue.fields[lS].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,s,i,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Sd="(default)";class Hl{constructor(e,n){this.projectId=e,this.database=n||Sd}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="__type__",uS="__max__",uu={mapValue:{fields:{__type__:{stringValue:uS}}}},dS="__vector__",Cd="value";function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iy(t)?4:Y4(t)?9007199254740991:Q4(t)?10:11:se(28295,{value:t})}function ur(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Us(s.timestampValue),a=Us(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $s(s.bytesValue).isEqual($s(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ke(s.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(s.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ke(s.integerValue)===Ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ke(s.doubleValue),a=Ke(i.doubleValue);return o===a?Id(o)===Id(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(t_(o)!==t_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ur(o[c],a[c])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function Wl(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function ta(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ke(i.integerValue||i.doubleValue),c=Ke(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return r_(t.timestampValue,e.timestampValue);case 4:return r_(Bl(t),Bl(e));case 5:return um(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$s(i),c=$s(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=pe(a[u],c[u]);if(d!==0)return d}return pe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=pe(Ke(i.latitude),Ke(o.latitude));return a!==0?a:pe(Ke(i.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,I,_;const a=i.fields||{},c=o.fields||{},u=(m=a[Cd])==null?void 0:m.arrayValue,d=(p=c[Cd])==null?void 0:p.arrayValue,f=pe(((I=u==null?void 0:u.values)==null?void 0:I.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return f!==0?f:s_(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===uu.mapValue&&o===uu.mapValue)return 0;if(i===uu.mapValue)return 1;if(o===uu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=um(c[f],d[f]);if(m!==0)return m;const p=ta(a[c[f]],u[d[f]]);if(p!==0)return p}return pe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function r_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Us(t),r=Us(e),s=pe(n.seconds,r.seconds);return s!==0?s:pe(n.nanos,r.nanos)}function s_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ta(n[s],r[s]);if(i)return i}return pe(n.length,r.length)}function na(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=dm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${dm(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Ou(t){switch(zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(t);return e?16+Ou(e):16;case 5:return 2*t.stringValue.length;case 6:return $s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ou(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Qs(r.fields,(i,o)=>{s+=i.length+Ou(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function hm(t){return!!t&&"integerValue"in t}function oy(t){return!!t&&"arrayValue"in t}function i_(t){return!!t&&"nullValue"in t}function o_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mu(t){return!!t&&"mapValue"in t}function Q4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cS])==null?void 0:r.stringValue)===dS}function hl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return{...t}}function Y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=gt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=hl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Kt(hl(this.value))}}function hS(t){const e=[];return Qs(t.fields,(n,r)=>{const s=new gt([n]);if(Mu(r)){const i=hS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ae.min(),ae.min(),ae.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,s){return new Nt(e,1,n,ae.min(),r,s,0)}static newNoDocument(e,n){return new Nt(e,2,n,ae.min(),ae.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ae.min(),ae.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ta(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function X4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{}class tt extends fS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z4(e,n,r):n==="array-contains"?new nj(e,r):n==="in"?new rj(e,r):n==="not-in"?new sj(e,r):n==="array-contains-any"?new ij(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ej(e,r):new tj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ta(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends fS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dr(e,n)}matches(e){return pS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pS(t){return t.op==="and"}function mS(t){return J4(t)&&pS(t)}function J4(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function fm(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+na(t.value);if(mS(t))return t.filters.map(e=>fm(e)).join(",");{const e=t.filters.map(n=>fm(n)).join(",");return`${t.op}(${e})`}}function gS(t,e){return t instanceof tt?function(r,s){return s instanceof tt&&r.op===s.op&&r.field.isEqual(s.field)&&ur(r.value,s.value)}(t,e):t instanceof dr?function(r,s){return s instanceof dr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&gS(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function yS(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(yS).join(" ,")+"}"}(t):"Filter"}class Z4 extends tt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class ej extends tt{constructor(e,n){super(e,"in",n),this.keys=vS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tj extends tt{constructor(e,n){super(e,"not-in",n),this.keys=vS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class nj extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oy(n)&&Wl(n.arrayValue,this.value)}}class rj extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class sj extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class ij extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function c_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new oj(t,e,n,r,s,i,o)}function ay(t){const e=le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.Te=n}return e.Te}function ly(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function pm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aj(t,e,n,r,s,i,o,a){return new _h(t,e,n,r,s,i,o,a)}function cy(t){return new _h(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lj(t){return t.collectionGroup!==null}function fl(t){const e=le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new st(gt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new bd(i,r))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new bd(gt.keyField(),r))}return e.Ie}function sr(t){const e=le(t);return e.Ee||(e.Ee=cj(e,fl(t))),e.Ee}function cj(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bd(s.field,i)});const n=t.endAt?new Ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ad(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mm(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return ly(sr(t),sr(e))&&t.limitType===e.limitType}function wS(t){return`${ay(sr(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>yS(s)).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>na(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>na(s)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of fl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=a_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,fl(r),s)||r.endAt&&!function(o,a,c){const u=a_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,fl(r),s))}(t,e)}function uj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _S(t){return(e,n)=>{let r=!1;for(const s of fl(t)){const i=dj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dj(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?ta(c,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new ze(te.comparator);function Ur(){return hj}const ES=new ze(te.comparator);function Xa(...t){let e=ES;for(const n of t)e=e.insert(n.key,n);return e}function xS(t){let e=ES;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return pl()}function TS(){return pl()}function pl(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const fj=new ze(te.comparator),pj=new st(te.comparator);function me(...t){let e=pj;for(const n of t)e=e.add(n);return e}const mj=new st(pe);function gj(){return mj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function IS(t){return{integerValue:""+t}}function yj(t,e){return H4(e)?IS(e):uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function vj(t,e,n){return t instanceof Pd?function(s,i){const o={fields:{[oS]:{stringValue:iS},[lS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&iy(i)&&(i=wh(i)),i&&(o.fields[aS]=i),{mapValue:o}}(n,e):t instanceof ql?CS(t,e):t instanceof Gl?AS(t,e):function(s,i){const o=SS(s,i),a=d_(o)+d_(s.Ae);return hm(o)&&hm(s.Ae)?IS(a):uy(s.serializer,a)}(t,e)}function wj(t,e,n){return t instanceof ql?CS(t,e):t instanceof Gl?AS(t,e):n}function SS(t,e){return t instanceof Rd?function(r){return hm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pd extends Th{}class ql extends Th{constructor(e){super(),this.elements=e}}function CS(t,e){const n=bS(e);for(const r of t.elements)n.some(s=>ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class Gl extends Th{constructor(e){super(),this.elements=e}}function AS(t,e){let n=bS(e);for(const r of t.elements)n=n.filter(s=>!ur(s,r));return{arrayValue:{values:n}}}class Rd extends Th{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function d_(t){return Ke(t.integerValue||t.doubleValue)}function bS(t){return oy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _j(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ql&&s instanceof ql||r instanceof Gl&&s instanceof Gl?Zo(r.elements,s.elements,ur):r instanceof Rd&&s instanceof Rd?ur(r.Ae,s.Ae):r instanceof Pd&&s instanceof Pd}(t.transform,e.transform)}class Ej{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ih{}function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kS(t.key,ir.none()):new mc(t.key,t.data,ir.none());{const n=t.data,r=Kt.empty();let s=new st(gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ys(t.key,r,new sn(s.toArray()),ir.none())}}function xj(t,e,n){t instanceof mc?function(s,i,o){const a=s.value.clone(),c=f_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ys?function(s,i,o){if(!Lu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=f_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(RS(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,r){return t instanceof mc?function(i,o,a,c){if(!Lu(i.precondition,o))return a;const u=i.value.clone(),d=p_(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ys?function(i,o,a,c){if(!Lu(i.precondition,o))return a;const u=p_(i.fieldTransforms,c,o),d=o.data;return d.setAll(RS(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Lu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Tj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=SS(r.transform,s||null);i!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,i))}return n||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Zo(r,s,(i,o)=>_j(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mc extends Ih{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ys extends Ih{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function f_(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,wj(o,a,n[s]))}return r}function p_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,vj(i,o,e))}return r}class kS extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ij extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&xj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=PS(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(n,r)=>h_(n,r))&&Zo(this.baseMutations,e.baseMutations,(n,r)=>h_(n,r))}}class dy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return fj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new dy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,ye;function bj(t){switch(t){case z.OK:return se(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function NS(t){if(t===void 0)return Fr("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ye.OK:return z.OK;case Ye.CANCELLED:return z.CANCELLED;case Ye.UNKNOWN:return z.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return z.INTERNAL;case Ye.UNAVAILABLE:return z.UNAVAILABLE;case Ye.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ye.NOT_FOUND:return z.NOT_FOUND;case Ye.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ye.ABORTED:return z.ABORTED;case Ye.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ye.DATA_LOSS:return z.DATA_LOSS;default:return se(39323,{code:t})}}(ye=Ye||(Ye={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new Ns([4294967295,4294967295],0);function m_(t){const e=Pj().encode(t),n=new qI;return n.update(e),new Uint8Array(n.digest())}function g_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ns([n,r],0),new Ns([s,i],0)]}class hy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ns.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ns.fromNumber(r)));return s.compare(Rj)===1&&(s=new Ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=m_(e),[r,s]=g_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new hy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=m_(e),[r,s]=g_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sh(ae.min(),s,new ze(pe),Ur(),me())}}class gc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gc(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class DS{constructor(e,n){this.targetId=e,this.Ce=n}}class OS{constructor(e,n,r=xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class y_{constructor(){this.ve=0,this.Fe=v_(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),n=me(),r=me();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new gc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=v_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=du(),this.He=du(),this.Ye=new ze(pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(pm(i))if(r===0){const o=new te(i.path);this.et(n,o,Nt.newNoDocument(o,ae.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$s(r).toUint8Array()}catch(c){if(c instanceof sS)return Jo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hy(o,s,i)}catch(c){return Jo(c instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&pm(a.target)){const c=new te(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Nt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=me();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Sh(e,n,this.Ye,this.je,r);return this.je=Ur(),this.Je=du(),this.He=du(),this.Ye=new ze(pe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new y_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function du(){return new ze(te.comparator)}function v_(){return new ze(te.comparator)}const Nj={asc:"ASCENDING",desc:"DESCENDING"},Dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oj={and:"AND",or:"OR"};class Mj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gm(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lj(t,e){return kd(t,e.toTimestamp())}function or(t){return Te(!!t,49232),ae.fromTimestamp(function(n){const r=Us(n);return new xe(r.seconds,r.nanos)}(t))}function fy(t,e){return ym(t,e).canonicalString()}function ym(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LS(t){const e=Oe.fromString(t);return Te($S(e),10190,{key:e.toString()}),e}function vm(t,e){return fy(t.databaseId,e.path)}function $f(t,e){const n=LS(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(jS(n))}function VS(t,e){return fy(t.databaseId,e)}function Vj(t){const e=LS(t);return e.length===4?Oe.emptyPath():jS(e)}function wm(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jS(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function w_(t,e,n){return{name:vm(t,e),fields:n.value.mapValue.fields}}function jj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Te(d===void 0||typeof d=="string",58123),xt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:NS(u.code);return new X(d,u.message||"")}(o);n=new OS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$f(t,r.document.name),i=or(r.document.updateTime),o=r.document.createTime?or(r.document.createTime):ae.min(),a=new Kt({mapValue:{fields:r.document.fields}}),c=Nt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Vu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$f(t,r.document),i=r.readTime?or(r.readTime):ae.min(),o=Nt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Vu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$f(t,r.document),i=r.removedTargetIds||[];n=new Vu([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Aj(s,i),a=r.targetId;n=new DS(a,o)}}return n}function Fj(t,e){let n;if(e instanceof mc)n={update:w_(t,e.key,e.value)};else if(e instanceof kS)n={delete:vm(t,e.key)};else if(e instanceof Ys)n={update:w_(t,e.key,e.data),updateMask:Kj(e.fieldMask)};else{if(!(e instanceof Ij))return se(16599,{Vt:e.type});n={verify:vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Pd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Lj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function Uj(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?or(s.updateTime):or(i);return o.isEqual(ae.min())&&(o=or(i)),new Ej(o,s.transformResults||[])}(n,e))):[]}function $j(t,e){return{documents:[VS(t,e.path)]}}function zj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VS(t,s);const i=function(u){if(u.length!==0)return US(dr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ro(m.field),direction:Wj(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function Bj(t){let e=Vj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=FS(f);return m instanceof dr&&mS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(I){return new bd(so(I.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,vh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new Ad(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new Ad(p,m)}(n.endAt)),aj(e,s,o,i,a,"F",c,u)}function Hj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=so(n.unaryFilter.field);return tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=so(n.unaryFilter.field);return tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=so(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return tt.create(so(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>FS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function Wj(t){return Nj[t]}function qj(t){return Dj[t]}function Gj(t){return Oj[t]}function ro(t){return{fieldPath:t.canonicalString()}}function so(t){return gt.fromServerFormat(t.fieldPath)}function US(t){return t instanceof tt?function(n){if(n.op==="=="){if(o_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:qj(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(s=>US(s));return r.length===1?r[0]:{compositeFilter:{op:Gj(n.op),filters:r}}}(t):se(54877,{filter:t})}function Kj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $S(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,s,i=ae.min(),o=ae.min(),a=xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.yt=e}}function Yj(t){const e=Bj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.Cn=new Jj}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Fs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class Jj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new st(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new st(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zS=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(zS,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ra(0)}static cr(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",Zj=1048576;function x_([t,e],[n,r]){const s=pe(t,n);return s===0?pe(e,r):s}class eF{constructor(e){this.Ir=e,this.buffer=new st(x_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(E_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ya(n)?K(E_,"Ignoring IndexedDB error during garbage collection: ",n):await ga(n)}await this.Vr(3e5)})}}class nF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(yh.ce);const r=new eF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(__)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),to()<=fe.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function rF(t,e){return new nF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ml(r.mutation,s,sn.empty(),xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Xa();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ur();const o=pl(),a=function(){return pl()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Ys)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ml(d.mutation,u,d.mutation.getFieldMask(),xe.now())):o.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new iF(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=pl();let s=new ze((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||sn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(s.get(a.batchId)||me()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=TS();d.forEach(m=>{if(!i.has(m)){const p=PS(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(fi());let a=zl,c=i;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,me())).next(d=>({batchId:a,changes:xS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=Xa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Xa();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,c=>{const u=function(f,m){return new _h(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=Xa();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&ml(d.mutation,u,sn.empty(),xe.now()),xh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:or(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Yj(s.bundledQuery),readTime:or(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.overlays=new ze(te.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=fi(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=fi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=fi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cj(n,r));let i=this.qr.get(n);i===void 0&&(i=me(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.Qr=new st(at.$r),this.Ur=new st(at.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new at(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Oe([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Oe([])),r=new at(n,e),s=new at(n,e+1);let i=me();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||pe(e.Yr,n.Yr)}static Kr(e,n){return pe(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(at.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Sj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?sy:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(pe);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new at(new te(i),0);let a=new st(pe);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new at(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.ri=e,this.docs=function(){return new ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Nt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ur();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||U4(F4(d),r)<=0||(s.has(d.key)||xh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hF(this)}getSize(e){return $.resolve(this.size)}}class hF extends sF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.persistence=e,this.si=new zi(n=>ay(n),ly),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new py,this.targetCount=0,this.ai=ra.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new cF,this.referenceDelegate=e(this),this.Pi=new fF(this),this.indexManager=new Xj,this.remoteDocumentCache=function(s){return new dF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Qj(n),this.Ii=new aF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new pF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class pF extends z4{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Ri=new py,this.Vi=null}static mi(e){return new my(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nd{constructor(e,n){this.persistence=e,this.pi=new zi(r=>W4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=rF(this,n)}static mi(e,n){return new Nd(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ou(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new gy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HO()?8:B4(Lt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new mF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(to()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(to()<=fe.DEBUG&&K("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(to()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):$.resolve())}ys(e,n){if(u_(n))return $.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mm(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,mm(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return u_(n)||s.isEqual(ae.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(to()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),no(n)),this.vs(e,o,n,j4(s,zl)).next(a=>a))})}Ds(e,n){let r=new st(_S(e));return n.forEach((s,i)=>{xh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return to()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,Fs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",yF=3e8;class vF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ze(pe),this.xs=new zi(i=>ay(i),ly),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function wF(t,e,n,r){return new vF(t,e,n,r)}async function HS(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=me();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function _F(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,m=f.keys();let p=$.resolve();return m.forEach(I=>{p=p.next(()=>d.getEntry(c,I)).next(_=>{const x=u.docVersions.get(I);Te(x!==null,48541),_.version.compareTo(x)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function WS(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function EF(t,e){const n=le(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(xt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(_,x,v){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=yF?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let c=Ur(),u=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(xF(i,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(ae.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function xF(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ur();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):K(yy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function TF(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IF(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new _s(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function _m(t,e,n){const r=le(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ya(o))throw o;K(yy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function T_(t,e,n){const r=le(t);let s=ae.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=le(c),m=f.xs.get(d);return m!==void 0?$.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,o,sr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ae.min(),n?i:me())).next(a=>(SF(r,uj(e),a),{documents:a,Qs:i})))}function SF(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class I_{constructor(){this.activeTargetIds=gj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CF{constructor(){this.Mo=new I_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new I_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(S_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function Em(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",bF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Sd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Em(),a=this.zo(e,n.toUriEncodedString());K(zf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),d=ha(u);return this.Jo(e,a,c,r,d).then(f=>(K(zf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Jo(zf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=bF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class kF extends PF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Em();return new Promise((a,c)=>{const u=new GI;u.setWithCredentials(!0),u.listenOnce(KI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Du.NO_ERROR:const f=u.getResponseJson();K(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Du.TIMEOUT:K(bt,`RPC '${e}' ${o} timed out`),c(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const m=u.getStatus();if(K(bt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const I=p==null?void 0:p.error;if(I&&I.status&&I.message){const _=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(I.status);c(new X(_,I.message))}else c(new X(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new X(z.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{K(bt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);K(bt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Em(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XI(),a=YI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");K(bt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let m=!1,p=!1;const I=new RF({Yo:x=>{p?K(bt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(K(bt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),K(bt,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),_=(x,v,w)=>{x.listen(v,T=>{try{w(T)}catch(N){setTimeout(()=>{throw N},0)}})};return _(f,Ya.EventType.OPEN,()=>{p||(K(bt,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),_(f,Ya.EventType.CLOSE,()=>{p||(p=!0,K(bt,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),_(f,Ya.EventType.ERROR,x=>{p||(p=!0,Jo(bt,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),I.a_(new X(z.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ya.EventType.MESSAGE,x=>{var v;if(!p){const w=x.data[0];Te(!!w,16349);const T=w,N=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(N){K(bt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let L=function(P){const b=Ye[P];if(b!==void 0)return NS(b)}(O),A=N.message;L===void 0&&(L=z.INTERNAL,A="Unknown error status: "+O+" with message "+N.message),p=!0,I.a_(new X(L,A)),f.close()}else K(bt,`RPC '${e}' stream ${s} received:`,w),I.u_(w)}}),_(a,QI.STAT_EVENT,x=>{x.stat===cm.PROXY?K(bt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===cm.NOPROXY&&K(bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return new Mj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="PersistentStream";class GS{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NF extends GS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jj(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?or(o.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=wm(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=pm(c)?{documents:$j(i,c)}:{query:zj(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MS(i,o.resumeToken);const u=gm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=kd(i,o.snapshotVersion.toTimestamp());const u=gm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Hj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.q_(n)}}class DF extends GS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Uj(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Fj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{}class MF extends OF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ym(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ym(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class LF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="RemoteStore";class VF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Bi(this)&&(K(Mi,"Restarting streams for network reachability change."),await async function(c){const u=le(c);u.Ea.add(4),await yc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ah(u)}(this))})}),this.Ra=new LF(r,s)}}async function Ah(t){if(Bi(t))for(const e of t.da)await e(!0)}async function yc(t){for(const e of t.da)await e(!1)}function KS(t,e){const n=le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ey(n)?_y(n):va(n).O_()&&wy(n,e))}function vy(t,e){const n=le(t),r=va(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bi(n)&&n.Ra.set("Unknown"))}function wy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}va(t).Y_(e)}function QS(t,e){t.Va.Ue(e),va(t).Z_(e)}function _y(t){t.Va=new kj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),va(t).start(),t.Ra.ua()}function Ey(t){return Bi(t)&&!va(t).x_()&&t.Ia.size>0}function Bi(t){return le(t).Ea.size===0}function YS(t){t.Va=void 0}async function jF(t){t.Ra.set("Online")}async function FF(t){t.Ia.forEach((e,n)=>{wy(t,e)})}async function UF(t,e){YS(t),Ey(t)?(t.Ra.ha(e),_y(t)):t.Ra.set("Unknown")}async function $F(t,e,n){if(t.Ra.set("Online"),e instanceof OS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){K(Mi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dd(t,r)}else if(e instanceof Vu?t.Va.Ze(e):e instanceof DS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await WS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),QS(i,c);const f=new _s(d.target,c,u,d.sequenceNumber);wy(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(Mi,"Failed to raise snapshot:",r),await Dd(t,r)}}async function Dd(t,e,n){if(!ya(e))throw e;t.Ea.add(1),await yc(t),t.Ra.set("Offline"),n||(n=()=>WS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Mi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ah(t)})}function XS(t,e){return e().catch(n=>Dd(t,n,e))}async function bh(t){const e=le(t),n=Bs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sy;for(;zF(e);)try{const s=await TF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,BF(e,s)}catch(s){await Dd(e,s)}JS(e)&&ZS(e)}function zF(t){return Bi(t)&&t.Ta.length<10}function BF(t,e){t.Ta.push(e);const n=Bs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return Bi(t)&&!Bs(t).x_()&&t.Ta.length>0}function ZS(t){Bs(t).start()}async function HF(t){Bs(t).ra()}async function WF(t){const e=Bs(t);for(const n of t.Ta)e.ea(n.mutations)}async function qF(t,e,n){const r=t.Ta.shift(),s=dy.from(r,e,n);await XS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bh(t)}async function GF(t,e){e&&Bs(t).X_&&await async function(r,s){if(function(o){return bj(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Bs(r).B_(),await XS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bh(r)}}(t,e),JS(t)&&ZS(t)}async function b_(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),K(Mi,"RemoteStore received new credentials");const r=Bi(n);n.Ea.add(3),await yc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ah(n)}async function KF(t,e){const n=le(t);e?(n.Ea.delete(2),await Ah(n)):e||(n.Ea.add(2),await yc(n),n.Ra.set("Unknown"))}function va(t){return t.ma||(t.ma=function(n,r,s){const i=le(n);return i.sa(),new NF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:jF.bind(null,t),t_:FF.bind(null,t),r_:UF.bind(null,t),H_:$F.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ey(t)?_y(t):t.Ra.set("Unknown")):(await t.ma.stop(),YS(t))})),t.ma}function Bs(t){return t.fa||(t.fa=function(n,r,s){const i=le(n);return i.sa(),new DF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:HF.bind(null,t),r_:GF.bind(null,t),ta:WF.bind(null,t),na:qF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await bh(t)):(await t.fa.stop(),t.Ta.length>0&&(K(Mi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new xy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),ya(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.ga=new ze(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class sa{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sa(e,n,No.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class YF{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=le(n),i=s.queries;s.queries=R_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function R_(){return new zi(t=>wS(t),Eh)}async function XF(t,e){const n=le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new QF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ty(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Iy(n)}async function JF(t,e){const n=le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZF(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Iy(n)}function e3(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Iy(t){t.Ca.forEach(e=>{e.next()})}var xm,k_;(k_=xm||(xm={})).Ma="default",k_.Cache="cache";class t3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.key=e}}class tC{constructor(e){this.key=e}}class n3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=_S(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new P_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=xh(this.query,f)?f:null,I=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;m&&p?m.data.isEqual(p.data)?I!==_&&(r.track({type:3,doc:p}),x=!0):this.su(m,p)||(r.track({type:2,doc:p}),x=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),x=!0):m&&!p&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(a=!0)),x&&(p?(o=o.add(p),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,I){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:x})}};return _(p)-_(I)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new sa(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=me(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new tC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new eC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sy="SyncEngine";class r3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s3{constructor(e){this.key=e,this.hu=!1}}class i3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zi(a=>wS(a),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new ze(te.comparator),this.Au=new Map,this.Ru=new py,this.Vu={},this.mu=new Map,this.fu=ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o3(t,e,n=!0){const r=aC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await nC(r,e,n,!0),s}async function a3(t,e){const n=aC(t);await nC(n,e,!0,!1)}async function nC(t,e,n,r){const s=await IF(t.localStore,sr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await l3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&KS(t.remoteStore,s),a}async function l3(t,e,n,r,s){t.pu=(f,m,p)=>async function(_,x,v,w){let T=x.view.ru(v);T.Cs&&(T=await T_(_.localStore,x.query,!1).then(({documents:A})=>x.view.ru(A,T)));const N=w&&w.targetChanges.get(x.targetId),O=w&&w.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(T,_.isPrimaryClient,N,O);return D_(_,x.targetId,L.au),L.snapshot}(t,f,m,p);const i=await T_(t.localStore,e,!0),o=new n3(e,i.Qs),a=o.ru(i.documents),c=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);D_(t,n,u.au);const d=new r3(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function c3(t,e,n){const r=le(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Eh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _m(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vy(r.remoteStore,s.targetId),Tm(r,s.targetId)}).catch(ga)):(Tm(r,s.targetId),await _m(r.localStore,s.targetId,!0))}async function u3(t,e){const n=le(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vy(n.remoteStore,r.targetId))}async function d3(t,e,n){const r=v3(t);try{const s=await function(o,a){const c=le(o),u=xe.now(),d=a.reduce((p,I)=>p.add(I.key),me());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let I=Ur(),_=me();return c.Ns.getEntries(p,d).next(x=>{I=x,I.forEach((v,w)=>{w.isValidDocument()||(_=_.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,I)).next(x=>{f=x;const v=[];for(const w of a){const T=Tj(w,f.get(w.key).overlayedDocument);T!=null&&v.push(new Ys(w.key,T,hS(T.value.mapValue),ir.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,v,a)}).next(x=>{m=x;const v=x.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(p,x.batchId,v)})}).then(()=>({batchId:m.batchId,changes:xS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new ze(pe)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await vc(r,s.changes),await bh(r.remoteStore)}catch(s){const i=Ty(s,"Failed to persist write");n.reject(i)}}async function rC(t,e){const n=le(t);try{const r=await EF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Te(o.hu,14607):s.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await vc(n,r,e)}catch(r){await ga(r)}}function N_(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=le(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&Iy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function h3(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ze(te.comparator);o=o.insert(i,Nt.newNoDocument(i,ae.min()));const a=me().add(i),c=new Sh(ae.min(),new Map,new ze(pe),o,a);await rC(r,c),r.du=r.du.remove(i),r.Au.delete(e),Cy(r)}else await _m(r.localStore,e,!1).then(()=>Tm(r,e,n)).catch(ga)}async function f3(t,e){const n=le(t),r=e.batch.batchId;try{const s=await _F(n.localStore,e);iC(n,r,null),sC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,s)}catch(s){await ga(s)}}async function p3(t,e,n){const r=le(t);try{const s=await function(o,a){const c=le(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Te(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);iC(r,e,n),sC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,s)}catch(s){await ga(s)}}function sC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iC(t,e,n){const r=le(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||oC(t,r)})}function oC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cy(t))}function D_(t,e,n){for(const r of n)r instanceof eC?(t.Ru.addReference(r.key,e),m3(t,r)):r instanceof tC?(K(Sy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oC(t,r.key)):se(19791,{wu:r})}function m3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(Sy,"New document in limbo: "+n),t.Eu.add(r),Cy(t))}function Cy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Oe.fromString(e)),r=t.fu.next();t.Au.set(r,new s3(n)),t.du=t.du.insert(n,r),KS(t.remoteStore,new _s(sr(cy(n.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function vc(t,e,n){const r=le(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=gy.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const d=le(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,m=>$.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>$.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!ya(f))throw f;K(yy,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),I=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(I);d.Ms=d.Ms.insert(m,_)}}}(r.localStore,i))}async function g3(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){K(Sy,"User change. New user:",e.toKey());const r=await HS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new X(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r.Ls)}}function y3(t,e){const n=le(t),r=n.Au.get(e);if(r&&r.hu)return me().add(r.key);{let s=me();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function aC(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h3.bind(null,e),e.Pu.H_=ZF.bind(null,e.eventManager),e.Pu.yu=e3.bind(null,e.eventManager),e}function v3(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p3.bind(null,e),e}class Od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wF(this.persistence,new gF,e.initialUser,this.serializer)}Cu(e){return new BS(my.mi,this.serializer)}Du(e){return new CF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Od.provider={build:()=>new Od};class w3 extends Od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Nd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new BS(r=>Nd.mi(r,n),this.serializer)}}class Im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g3.bind(null,this.syncEngine),await KF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YF}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),r=function(i){return new kF(i)}(e.databaseInfo);return function(i,o,a,c){return new MF(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new VF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>N_(this.syncEngine,n,0),function(){return C_.v()?new C_:new AF}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const f=new i3(s,i,o,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=le(s);K(Mi,"RemoteStore shutting down."),i.Ea.add(5),await yc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class E3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Rt.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(Hs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(Hs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ty(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),K(Hs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await HS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function O_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x3(t);K(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>b_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>b_(e.remoteStore,s)),t._onlineComponents=e}async function x3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Hs,"Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new Od)}}else K(Hs,"Using default OfflineComponentProvider"),await Hf(t,new w3(void 0));return t._offlineComponents}async function lC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Hs,"Using user provided OnlineComponentProvider"),await O_(t,t._uninitializedComponentsProvider._online)):(K(Hs,"Using default OnlineComponentProvider"),await O_(t,new Im))),t._onlineComponents}function T3(t){return lC(t).then(e=>e.syncEngine)}async function I3(t){const e=await lC(t),n=e.eventManager;return n.onListen=o3.bind(null,e.syncEngine),n.onUnlisten=c3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u3.bind(null,e.syncEngine),n}function S3(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new _3({next:m=>{d.Nu(),o.enqueueAndForget(()=>JF(i,f));const p=m.docs.has(a);!p&&m.fromCache?u.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new t3(cy(a.path),d,{includeMetadataChanges:!0,qa:!0});return XF(i,f)}(await I3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firestore.googleapis.com",L_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uC,this.ssl=L_}else this.host=e.host,this.ssl=e.ssl??L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zj)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A4;switch(r.type){case"firstParty":return new k4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M_.get(n);r&&(K("ComponentProvider","Removing Datastore"),M_.delete(n),r.terminate())}(this),Promise.resolve()}}function C3(t,e,n,r={}){var u;t=ea(t,Ph);const s=ha(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(sI(`https://${a}`),iI("Firestore",!0)),i.host!==uC&&i.host!==a&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ri(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Rt.MOCK_USER;else{d=MO(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Rt(m)}t._authCredentials=new b4(new ZI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ay(this.firestore,e,this._query)}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pc(n,rt._jsonSchema))return new rt(e,r||null,new te(Oe.fromString(n.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:Je("string",rt._jsonSchemaVersion),referencePath:Je("string")};class Os extends Ay{constructor(e,n,r){super(e,n,cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new te(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function wa(t,e,...n){if(t=ut(t),eS("collection","path",e),t instanceof Ph){const r=Oe.fromString(e,...n);return Xw(r),new Os(t,null,r)}{if(!(t instanceof rt||t instanceof Os))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Xw(r),new Os(t.firestore,null,r)}}function Rh(t,e,...n){if(t=ut(t),arguments.length===1&&(e=ny.newId()),eS("doc","path",e),t instanceof Ph){const r=Oe.fromString(e,...n);return Yw(r),new rt(t,null,new te(r))}{if(!(t instanceof rt||t instanceof Os))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Yw(r),new rt(t.firestore,t instanceof Os?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qS(this,"async_queue_retry"),this._c=()=>{const r=Bf();r&&K(j_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ds;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ya(e))throw e;K(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",U_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=xy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:U_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function U_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class kh extends Ph{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function A3(t,e){const n=typeof t=="object"?t:cI(),r=typeof t=="string"?t:Sd,s=qg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DO("firestore");i&&C3(s,...i)}return s}function dC(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b3(t),t._firestoreClient}function b3(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,d){return new K4(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new E3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vn(xt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pc(e,vn._jsonSchema))return vn.fromBase64String(e.bytes)}}vn._jsonSchemaVersion="firestore/bytes/1.0",vn._jsonSchema={type:Je("string",vn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(pc(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Je("string",ar._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pc(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new lr(e.vectorValues);throw new X(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:Je("string",lr._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=/^__.*__$/;class R3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new mc(e,this.data,n,this.fieldTransforms)}}class hC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class Py{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Py({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fC(this.Ac)&&P3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ch(e)}Cc(e,n,r,s=!1){return new Py({Ac:e,methodName:n,Dc:r,path:gt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pC(t){const e=t._freezeSettings(),n=Ch(t._databaseId);return new k3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N3(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Ry("Data must be an object, but it was:",o,r);const a=mC(r,o);let c,u;if(i.merge)c=new sn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=Sm(e,f,n);if(!o.contains(m))throw new X(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);yC(d,m)||d.push(m)}c=new sn(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new R3(new Kt(a),c,u)}class Dh extends by{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function D3(t,e,n,r){const s=t.Cc(1,e,n);Ry("Data must be an object, but it was:",s,r);const i=[],o=Kt.empty();Qs(r,(c,u)=>{const d=ky(e,c,n);u=ut(u);const f=s.yc(d);if(u instanceof Dh)i.push(d);else{const m=Oh(u,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new sn(i);return new hC(o,a,s.fieldTransforms)}function O3(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Sm(e,r,n)],c=[s];if(i.length%2!=0)throw new X(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Sm(e,i[m])),c.push(i[m+1]);const u=[],d=Kt.empty();for(let m=a.length-1;m>=0;--m)if(!yC(u,a[m])){const p=a[m];let I=c[m];I=ut(I);const _=o.yc(p);if(I instanceof Dh)u.push(p);else{const x=Oh(I,_);x!=null&&(u.push(p),d.set(p,x))}}const f=new sn(u);return new hC(d,f,o.fieldTransforms)}function Oh(t,e){if(gC(t=ut(t)))return Ry("Unsupported field value:",e,t),mC(t,e);if(t instanceof by)return function(r,s){if(!fC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Oh(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xe.fromDate(r);return{timestampValue:kd(s.serializer,i)}}if(r instanceof xe){const i=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(s.serializer,i)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vn)return{bytesValue:MS(s.serializer,r._byteString)};if(r instanceof rt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof lr)return function(o,a){return{mapValue:{fields:{[cS]:{stringValue:dS},[Cd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return uy(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${ry(r)}`)}(t,e)}function mC(t,e){const n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(r,s)=>{const i=Oh(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function gC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof ar||t instanceof vn||t instanceof rt||t instanceof by||t instanceof lr)}function Ry(t,e,n){if(!gC(n)||!tS(n)){const r=ry(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Sm(t,e,n){if((e=ut(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return ky(t,e);throw Md("Field path arguments must be of type string or ",t,!1,void 0,n)}const M3=new RegExp("[~\\*/\\[\\]]");function ky(t,e,n){if(e.search(M3)>=0)throw Md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nh(...e.split("."))._internalPath}catch{throw Md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Md(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new X(z.INVALID_ARGUMENT,a+t+c)}function yC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L3 extends vC{data(){return super.data()}}function wC(t,e){return typeof e=="string"?ky(t,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}class V3{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Cd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ke(o.doubleValue));return new lr(n)}convertGeoPoint(e){return new ar(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Us(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Te($S(r),9688,{name:e});const s=new Hl(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends vC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ti._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:Je("string",Ti._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class ju extends Ti{data(e={}){return super.data(e)}}class gl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Za(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ju(this._firestore,this._userDataWriter,r.key,r,new Za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new ju(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Za(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new ju(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Za(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:F3(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){t=ea(t,rt);const e=ea(t.firestore,kh);return S3(dC(e),t._key).then(n=>z3(e,t,n))}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Je("string",gl._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class $3 extends V3{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function _C(t,e,n,...r){t=ea(t,rt);const s=ea(t.firestore,kh),i=pC(s);let o;return o=typeof(e=ut(e))=="string"||e instanceof Nh?O3(i,"updateDoc",t._key,e,n,r):D3(i,"updateDoc",t._key,e),EC(s,[o.toMutation(t._key,ir.exists(!0))])}function Ny(t,e){const n=ea(t.firestore,kh),r=Rh(t),s=j3(t.converter,e);return EC(n,[N3(pC(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function EC(t,e){return function(r,s){const i=new Ds;return r.asyncQueue.enqueueAndForget(async()=>d3(await T3(r),s,i)),i.promise}(dC(t),e)}function z3(t,e,n){const r=n.docs.get(e._key),s=new $3(t);return new Ti(t,s,e._key,r,new Za(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ma=s})(fa),Yo(new ki("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new kh(new P4(r.getProvider("auth-internal")),new N4(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ks(qw,Gw,e),ks(qw,Gw,"esm2020")})();var Zi={};const B3={apiKey:Zi.VITE_FIREBASE_API_KEY,authDomain:Zi.VITE_FIREBASE_AUTH_DOMAIN,projectId:Zi.VITE_FIREBASE_PROJECT_ID,storageBucket:Zi.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Zi.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Zi.VITE_FIREBASE_APP_ID},xC=lI(B3),_a=A3(xC),fu=T4(xC),Dy=wa(_a,"users"),H3=async t=>(await Ny(Dy,{...t,createdAt:xe.now(),updatedAt:xe.now()})).id,W3=async t=>{const e=Rh(Dy,t),n=await U3(e);if(n.exists()){const r=n.data();return{id:n.id,...r,createdAt:r.createdAt.toDate(),updatedAt:r.updatedAt.toDate()}}return null},q3=async(t,e)=>{const n=Rh(Dy,t);await _C(n,{...e,updatedAt:xe.now()})},TC=wa(_a,"sessions"),G3=async t=>(await Ny(TC,{...t,createdAt:xe.now(),updatedAt:xe.now()})).id,K3=async(t,e)=>{const n=Rh(TC,t);await _C(n,{...e,updatedAt:xe.now()})},Q3=wa(_a,"alerts"),Y3=async t=>(await Ny(Q3,{...t,timestamp:xe.now()})).id;wa(_a,"events");wa(_a,"exams");wa(_a,"results");const io={signUp:async(t,e,n,r)=>{try{const i=(await iV(fu,t,e)).user;await lV(i,{displayName:n}),await H3({email:t,displayName:n,role:r})}catch(s){throw new Error(s.message||"Failed to create account")}},signIn:async(t,e)=>{try{await oV(fu,t,e)}catch(n){throw new Error(n.message||"Failed to sign in")}},logout:async()=>{try{await hV(fu)}catch(t){throw new Error(t.message||"Failed to sign out")}},getCurrentUserData:async t=>{try{return await W3(t.uid)}catch(e){return console.error("Error fetching user data:",e),null}},updateUserProfile:async(t,e)=>{try{await q3(t,e)}catch(n){throw new Error(n.message||"Failed to update profile")}},onAuthStateChange:t=>dV(fu,async e=>{if(e){const n=await io.getCurrentUserData(e);t(n)}else t(null)})},IC=C.createContext(void 0),X3=({children:t})=>{const[e,n]=C.useState(null),[r,s]=C.useState(!0);C.useEffect(()=>io.onAuthStateChange(f=>{n(f),s(!1)}),[]);const u={user:e,loading:r,signUp:async(d,f,m,p)=>{await io.signUp(d,f,m,p)},signIn:async(d,f)=>{await io.signIn(d,f)},logout:async()=>{await io.logout()},updateUserProfile:async d=>{e&&await io.updateUserProfile(e.id,d)}};return g.jsx(IC.Provider,{value:u,children:t})},Mh=()=>{const t=C.useContext(IC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},$_=({children:t,requiredRole:e})=>{const{user:n,loading:r}=Mh(),s=ac();return r?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):n?e&&n.role!==e&&n.role!=="admin"?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),g.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):g.jsx(g.Fragment,{children:t}):g.jsx(wO,{to:"/auth",state:{from:s},replace:!0})},J3=rc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yt=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?rR:"button";return g.jsx(o,{className:je(J3({variant:e,size:n,className:t})),ref:i,...s})});yt.displayName="Button";const SC=()=>g.jsx("header",{className:"fixed top-0 w-full bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50 border-b",children:g.jsxs("nav",{className:"container flex h-16 items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg"}),g.jsx("span",{className:"text-xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"SmartProctor-X"})]}),g.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[g.jsx("a",{href:"#features",className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"Features"}),g.jsx("a",{href:"#levels",className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"Detection Levels"}),g.jsx("a",{href:"#privacy",className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"Privacy"}),g.jsx("a",{href:"#contact",className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"Contact"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(yt,{variant:"ghost",size:"sm",children:"Sign In"}),g.jsx(yt,{size:"sm",className:"bg-gradient-primary hover:opacity-90 transition-opacity",children:"Get Started"})]})]})}),Z3=rc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Li({className:t,variant:e,...n}){return g.jsx("div",{className:je(Z3({variant:e}),t),...n})}const e5="/assets/smartproctor-hero-CCWiFLpa.jpg",t5=()=>g.jsx("section",{className:"pt-32 pb-20 px-4",children:g.jsxs("div",{className:"container mx-auto text-center",children:[g.jsx(Li,{className:"mb-6 bg-primary/10 text-primary border-primary/20",variant:"outline",children:"Developed by Synaptic Overloaders"}),g.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold mb-8 leading-tight",children:[g.jsx("span",{className:"bg-gradient-hero bg-clip-text text-transparent",children:"SmartProctor-X"}),g.jsx("br",{}),g.jsx("span",{className:"text-foreground text-3xl md:text-4xl lg:text-5xl",children:"AI-Powered Multi-Level Proctoring"})]}),g.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-4xl mx-auto leading-relaxed",children:"Revolutionary 5-level AI proctoring system with privacy-first architecture. Secure remote examinations with advanced cheating detection and ethical deployment."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[g.jsx(yt,{size:"lg",className:"bg-gradient-primary hover:opacity-90 text-lg px-8 py-6",asChild:!0,children:g.jsx("a",{href:"/auth",children:"Get Started"})}),g.jsx(yt,{size:"lg",variant:"outline",className:"text-lg px-8 py-6",children:"View Architecture"})]}),g.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-primary rounded-2xl opacity-20 blur-3xl"}),g.jsx("img",{src:e5,alt:"SmartProctor-X AI Proctoring Dashboard Interface",className:"relative rounded-2xl shadow-glow w-full h-auto"})]})]})}),vt=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));vt.displayName="Card";const Dt=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Dt.displayName="CardHeader";const Ot=C.forwardRef(({className:t,...e},n)=>g.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ot.displayName="CardTitle";const _n=C.forwardRef(({className:t,...e},n)=>g.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));_n.displayName="CardDescription";const wt=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));wt.displayName="CardContent";const n5=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));n5.displayName="CardFooter";const r5=[{icon:vs,title:"5-Level Detection System",description:"Upgradeable architecture from basic monitoring to advanced AI decision layers"},{icon:Hx,title:"Privacy-First Design",description:"Local processing with minimal cloud exposure, ensuring data never leaves your device"},{icon:Bx,title:"AI-Powered Analysis",description:"Multi-modal detection using computer vision, audio analysis, and behavioral patterns"},{icon:Pg,title:"Real-Time Monitoring",description:"Live gaze tracking, facial recognition, and environmental awareness during exams"},{icon:ik,title:"Hybrid Framework",description:"Seamless integration of hardware sensors with advanced software pipelines"},{icon:sh,title:"Institutional Scalability",description:"LMS integration and standalone deployment options for educational institutions"}],s5=()=>g.jsx("section",{id:"features",className:"py-20 px-4",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Revolutionary ",g.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:"Features"})]}),g.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"SmartProctor-X combines cutting-edge AI technology with ethical privacy practices to deliver the most advanced proctoring solution available."})]}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:r5.map((t,e)=>g.jsxs(vt,{className:"bg-gradient-card border-border/50 shadow-card hover:shadow-glow transition-all duration-300 group",children:[g.jsxs(Dt,{children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:g.jsx(t.icon,{className:"w-6 h-6 text-white"})}),g.jsx(Ot,{className:"text-xl",children:t.title})]}),g.jsx(wt,{children:g.jsx(_n,{className:"text-base leading-relaxed",children:t.description})})]},e))})]})}),i5=[{level:1,title:"Baseline Monitoring",icon:zp,features:["Face verification","Basic microphone monitoring","Identity confirmation"],complexity:"Basic"},{level:2,title:"Behavior Detection",icon:Pg,features:["Gaze tracking","Head movement analysis","Multi-screen detection"],complexity:"Intermediate"},{level:3,title:"Environment Awareness",icon:sh,features:["Multi-person detection","Background analysis","Suspicious object recognition"],complexity:"Advanced"},{level:4,title:"Audio-Visual Analysis",icon:Wx,features:["Speech recognition","Whisper detection","Environmental noise classification"],complexity:"Expert"},{level:5,title:"Adaptive AI Decision",icon:Bx,features:["Transformer models","Behavioral risk assessment","Time-series analysis"],complexity:"AI-Powered"}],o5=()=>g.jsx("section",{id:"levels",className:"py-20 px-4 bg-muted/30",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["5-Level ",g.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:"Detection Architecture"})]}),g.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Choose your security level. Start basic and upgrade as needed with our modular approach."})]}),g.jsx("div",{className:"grid gap-6",children:i5.map((t,e)=>g.jsxs(vt,{className:"bg-gradient-card border-border/50 shadow-card hover:shadow-glow transition-all duration-300 group",children:[g.jsx(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:g.jsx(t.icon,{className:"w-8 h-8 text-white"})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[g.jsxs(Li,{variant:"secondary",className:"text-sm font-bold",children:["Level ",t.level]}),g.jsx(Li,{variant:"outline",className:`text-xs ${t.complexity==="AI-Powered"?"border-accent text-accent":t.complexity==="Expert"?"border-primary text-primary":t.complexity==="Advanced"?"border-primary/60 text-primary/60":"border-muted-foreground text-muted-foreground"}`,children:t.complexity})]}),g.jsx(Ot,{className:"text-2xl",children:t.title})]})]})}),g.jsxs(wt,{children:[g.jsx("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:t.features.map((n,r)=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-2 h-2 bg-gradient-primary rounded-full"}),g.jsx("span",{className:"text-sm text-muted-foreground",children:n})]},r))}),t.level===1&&g.jsx(yt,{size:"sm",variant:"outline",className:"mt-2",asChild:!0,children:g.jsx("a",{href:"/level1",children:"Try Our Basic Model"})})]})]},e))})]})}),a5=[{icon:Hx,title:"Local Processing First",description:"AI inference runs on your device, not in the cloud. Your data stays with you."},{icon:vs,title:"Configurable Data Retention",description:"Choose to store, anonymize, or discard exam session data based on your policies."},{icon:nk,title:"Federated Learning Support",description:"Improve models across institutions without sharing raw student data."},{icon:Pg,title:"Transparent Monitoring",description:"Students know exactly what is being monitored and how their data is used."}],l5=()=>g.jsx("section",{id:"privacy",className:"py-20 px-4",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:[g.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:"Privacy-First"})," Architecture"]}),g.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Unlike traditional proctoring tools, SmartProctor-X prioritizes student privacy while maintaining the highest security standards."})]}),g.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:a5.map((t,e)=>g.jsxs(vt,{className:"bg-gradient-card border-border/50 shadow-card hover:shadow-glow transition-all duration-300 group",children:[g.jsxs(Dt,{children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:g.jsx(t.icon,{className:"w-6 h-6 text-white"})}),g.jsx(Ot,{className:"text-xl",children:t.title})]}),g.jsx(wt,{children:g.jsx(_n,{className:"text-base leading-relaxed",children:t.description})})]},e))}),g.jsxs(vt,{className:"bg-gradient-primary text-white",children:[g.jsx(Dt,{children:g.jsx(Ot,{className:"text-2xl text-center",children:"Privacy by Design Promise"})}),g.jsx(wt,{className:"text-center",children:g.jsx("p",{className:"text-lg opacity-90 leading-relaxed max-w-3xl mx-auto",children:"We believe that exam security and student privacy are not mutually exclusive. SmartProctor-X proves that advanced AI monitoring can coexist with ethical data practices, building trust between institutions and students."})})]})]})}),c5=()=>g.jsx("section",{id:"contact",className:"py-20 px-4",children:g.jsxs("div",{className:"container mx-auto text-center",children:[g.jsxs("div",{className:"mb-16",children:[g.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Get In Touch with ",g.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:"Synaptic Overloaders"})]}),g.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Connect with our team to learn more about SmartProctor-X and its innovative approach."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[g.jsxs(vt,{className:"bg-gradient-card border-border/50 shadow-card",children:[g.jsxs(Dt,{children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-lg flex items-center justify-center mb-4 mx-auto",children:g.jsx(YR,{className:"w-6 h-6 text-white"})}),g.jsx(Ot,{className:"text-xl",children:"Innovation Showcase"})]}),g.jsxs(wt,{children:[g.jsx(_n,{className:"text-base mb-4",children:"SmartProctor-X showcases cutting-edge innovation in AI-powered educational technology, demonstrating advanced proctoring capabilities."}),g.jsx(Li,{className:"bg-primary/10 text-primary border-primary/20",variant:"outline",children:"Team: Synaptic Overloaders"})]})]}),g.jsxs(vt,{className:"bg-gradient-card border-border/50 shadow-card",children:[g.jsxs(Dt,{children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-lg flex items-center justify-center mb-4 mx-auto",children:g.jsx(sh,{className:"w-6 h-6 text-white"})}),g.jsx(Ot,{className:"text-xl",children:"Collaboration Opportunities"})]}),g.jsxs(wt,{children:[g.jsx(_n,{className:"text-base mb-4",children:"Interested in implementing SmartProctor-X at your institution? Let's discuss how we can customize the solution for your needs."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g.jsxs(yt,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[g.jsx(tk,{className:"w-4 h-4"}),"Contact Team"]}),g.jsxs(yt,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[g.jsx(ZR,{className:"w-4 h-4"}),"View Code"]})]})]})]})]}),g.jsx(vt,{className:"bg-gradient-primary text-white max-w-2xl mx-auto",children:g.jsxs(wt,{className:"pt-8",children:[g.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Transform Remote Examinations?"}),g.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Join us in revolutionizing online proctoring with privacy-first AI technology."}),g.jsx(yt,{size:"lg",variant:"secondary",className:"bg-white text-primary hover:bg-white/90",children:"Schedule a Demo"})]})})]})}),u5=()=>g.jsx("footer",{className:"py-12 px-4 border-t bg-muted/30",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[g.jsxs("div",{className:"col-span-2",children:[g.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-lg"}),g.jsx("span",{className:"text-xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"SmartProctor-X"})]}),g.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Revolutionary AI-powered proctoring system developed by Synaptic Overloaders team."}),g.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.jsx("p",{children:"Built with privacy-first architecture"}),g.jsx("p",{children:"Advancing ethical AI in education"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),g.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[g.jsx("li",{children:g.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"})}),g.jsx("li",{children:g.jsx("a",{href:"#levels",className:"hover:text-foreground transition-colors",children:"Detection Levels"})}),g.jsx("li",{children:g.jsx("a",{href:"#privacy",className:"hover:text-foreground transition-colors",children:"Privacy"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Documentation"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold mb-4",children:"Team"}),g.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Synaptic Overloaders"})}),g.jsx("li",{children:g.jsx("a",{href:"#contact",className:"hover:text-foreground transition-colors",children:"Contact"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Research Paper"})})]})]})]}),g.jsx("div",{className:"pt-8 border-t text-center text-sm text-muted-foreground",children:g.jsx("p",{children:" 2024 SmartProctor-X by Synaptic Overloaders. Advancing ethical AI in education."})})]})}),d5=()=>g.jsxs("div",{className:"min-h-screen",children:[g.jsx(SC,{}),g.jsxs("main",{children:[g.jsx(t5,{}),g.jsx(s5,{}),g.jsx(o5,{}),g.jsx(l5,{}),g.jsx(c5,{})]}),g.jsx(u5,{})]}),oo=C.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));oo.displayName="Input";var h5="Label",CC=C.forwardRef((t,e)=>g.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CC.displayName=h5;var AC=CC;const f5=rc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ci=C.forwardRef(({className:t,...e},n)=>g.jsx(AC,{ref:n,className:je(f5(),t),...e}));ci.displayName=AC.displayName;var p5=C.createContext(void 0);function bC(t){const e=C.useContext(p5);return t||e||"ltr"}var Wf="rovingFocusGroup.onEntryFocus",m5={bubbles:!1,cancelable:!0},wc="RovingFocusGroup",[Cm,PC,g5]=mx(wc),[y5,RC]=Fi(wc,[g5]),[v5,w5]=y5(wc),kC=C.forwardRef((t,e)=>g.jsx(Cm.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Cm.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(_5,{...t,ref:e})})}));kC.displayName=wc;var _5=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=C.useRef(null),p=In(e,m),I=bC(i),[_,x]=Sg({prop:o,defaultProp:a??null,onChange:c,caller:wc}),[v,w]=C.useState(!1),T=Dr(u),N=PC(n),O=C.useRef(!1),[L,A]=C.useState(0);return C.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Wf,T),()=>E.removeEventListener(Wf,T)},[T]),g.jsx(v5,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:_,onItemFocus:C.useCallback(E=>x(E),[x]),onItemShiftTab:C.useCallback(()=>w(!0),[]),onFocusableItemAdd:C.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:C.useCallback(()=>A(E=>E-1),[]),children:g.jsx(Be.div,{tabIndex:v||L===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{O.current=!0}),onFocus:Ce(t.onFocus,E=>{const P=!O.current;if(E.target===E.currentTarget&&P&&!v){const b=new CustomEvent(Wf,m5);if(E.currentTarget.dispatchEvent(b),!b.defaultPrevented){const k=N().filter(J=>J.focusable),D=k.find(J=>J.active),R=k.find(J=>J.id===_),ie=[D,R,...k].filter(Boolean).map(J=>J.ref.current);OC(ie,d)}}O.current=!1}),onBlur:Ce(t.onBlur,()=>w(!1))})})}),NC="RovingFocusGroupItem",DC=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=nT(),u=i||c,d=w5(NC,n),f=d.currentTabStopId===u,m=PC(n),{onFocusableItemAdd:p,onFocusableItemRemove:I,currentTabStopId:_}=d;return C.useEffect(()=>{if(r)return p(),()=>I()},[r,p,I]),g.jsx(Cm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:g.jsx(Be.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Ce(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:Ce(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ce(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=T5(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=m().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")T.reverse();else if(v==="prev"||v==="next"){v==="prev"&&T.reverse();const N=T.indexOf(x.currentTarget);T=d.loop?I5(T,N+1):T.slice(N+1)}setTimeout(()=>OC(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:_!=null}):o})})});DC.displayName=NC;var E5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function T5(t,e,n){const r=x5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return E5[r]}function OC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function I5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var S5=kC,C5=DC,Lh="Tabs",[A5,r6]=Fi(Lh,[RC]),MC=RC(),[b5,Oy]=A5(Lh),LC=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,d=bC(a),[f,m]=Sg({prop:r,onChange:s,defaultProp:i??"",caller:Lh});return g.jsx(b5,{scope:n,baseId:nT(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:g.jsx(Be.div,{dir:d,"data-orientation":o,...u,ref:e})})});LC.displayName=Lh;var VC="TabsList",jC=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Oy(VC,n),o=MC(n);return g.jsx(S5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:g.jsx(Be.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});jC.displayName=VC;var FC="TabsTrigger",UC=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Oy(FC,n),a=MC(n),c=BC(o.baseId,r),u=HC(o.baseId,r),d=r===o.value;return g.jsx(C5,{asChild:!0,...a,focusable:!s,active:d,children:g.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ce(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ce(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});UC.displayName=FC;var $C="TabsContent",zC=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Oy($C,n),c=BC(a.baseId,r),u=HC(a.baseId,r),d=r===a.value,f=C.useRef(d);return C.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),g.jsx(th,{present:s||d,children:({present:m})=>g.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});zC.displayName=$C;function BC(t,e){return`${t}-trigger-${e}`}function HC(t,e){return`${t}-content-${e}`}var P5=LC,WC=jC,qC=UC,GC=zC;const R5=P5,KC=C.forwardRef(({className:t,...e},n)=>g.jsx(WC,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));KC.displayName=WC.displayName;const Am=C.forwardRef(({className:t,...e},n)=>g.jsx(qC,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Am.displayName=qC.displayName;const bm=C.forwardRef(({className:t,...e},n)=>g.jsx(GC,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bm.displayName=GC.displayName;const k5=rc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ld=C.forwardRef(({className:t,variant:e,...n},r)=>g.jsx("div",{ref:r,role:"alert",className:je(k5({variant:e}),t),...n}));Ld.displayName="Alert";const N5=C.forwardRef(({className:t,...e},n)=>g.jsx("h5",{ref:n,className:je("mb-1 font-medium leading-none tracking-tight",t),...e}));N5.displayName="AlertTitle";const Vd=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:je("text-sm [&_p]:leading-relaxed",t),...e}));Vd.displayName="AlertDescription";const D5=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState("student"),[c,u]=C.useState(""),[d,f]=C.useState(!1),{signUp:m,signIn:p}=Mh(),I=Bg(),_=async v=>{v.preventDefault(),f(!0),u("");try{await m(t,n,s,o),I("/dashboard")}catch(w){u(w instanceof Error?w.message:"An error occurred")}finally{f(!1)}},x=async v=>{v.preventDefault(),f(!0),u("");try{await p(t,n),I("/dashboard")}catch(w){u(w instanceof Error?w.message:"An error occurred")}finally{f(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-subtle px-4",children:g.jsxs(vt,{className:"w-full max-w-md",children:[g.jsxs(Dt,{className:"text-center",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx(vs,{className:"w-12 h-12 text-primary"})}),g.jsx(Ot,{className:"text-2xl",children:"SmartProctor-X"}),g.jsx(_n,{children:"Advanced AI-Powered Proctoring Platform"})]}),g.jsx(wt,{children:g.jsxs(R5,{defaultValue:"signin",className:"w-full",children:[g.jsxs(KC,{className:"grid w-full grid-cols-2",children:[g.jsx(Am,{value:"signin",children:"Sign In"}),g.jsx(Am,{value:"signup",children:"Sign Up"})]}),g.jsx(bm,{value:"signin",children:g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ci,{htmlFor:"email",children:"Email"}),g.jsx(oo,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:v=>e(v.target.value),required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ci,{htmlFor:"password",children:"Password"}),g.jsx(oo,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:v=>r(v.target.value),required:!0})]}),c&&g.jsx(Ld,{variant:"destructive",children:g.jsx(Vd,{children:c})}),g.jsx(yt,{type:"submit",className:"w-full",disabled:d,children:d?"Signing In...":"Sign In"})]})}),g.jsx(bm,{value:"signup",children:g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ci,{htmlFor:"displayName",children:"Full Name"}),g.jsx(oo,{id:"displayName",type:"text",placeholder:"Enter your full name",value:s,onChange:v=>i(v.target.value),required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ci,{htmlFor:"signup-email",children:"Email"}),g.jsx(oo,{id:"signup-email",type:"email",placeholder:"Enter your email",value:t,onChange:v=>e(v.target.value),required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ci,{htmlFor:"signup-password",children:"Password"}),g.jsx(oo,{id:"signup-password",type:"password",placeholder:"Create a password",value:n,onChange:v=>r(v.target.value),required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ci,{htmlFor:"role",children:"Role"}),g.jsxs("select",{id:"role",className:"w-full px-3 py-2 border border-input bg-background rounded-md",value:o,onChange:v=>a(v.target.value),children:[g.jsx("option",{value:"student",children:"Student"}),g.jsx("option",{value:"proctor",children:"Proctor"}),g.jsx("option",{value:"admin",children:"Administrator"})]})]}),c&&g.jsx(Ld,{variant:"destructive",children:g.jsx(Vd,{children:c})}),g.jsx(yt,{type:"submit",className:"w-full",disabled:d,children:d?"Creating Account...":"Create Account"})]})})]})})]})})},O5=()=>{const{user:t,logout:e}=Mh(),n=Bg(),r=async()=>{await e(),n("/")};if(!t)return null;const s=o=>{switch(o){case"admin":return"bg-red-500";case"proctor":return"bg-blue-500";case"student":return"bg-green-500";default:return"bg-gray-500"}},i=o=>{switch(o){case"admin":return g.jsx(rk,{className:"w-4 h-4"});case"proctor":return g.jsx(vs,{className:"w-4 h-4"});case"student":return g.jsx(Bp,{className:"w-4 h-4"});default:return g.jsx(Bp,{className:"w-4 h-4"})}};return g.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[g.jsx("header",{className:"bg-white shadow-sm border-b",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center py-4",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(vs,{className:"w-8 h-8 text-primary"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SmartProctor-X"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs(Li,{className:`${s(t.role)} text-white flex items-center gap-1`,children:[i(t.role),t.role.charAt(0).toUpperCase()+t.role.slice(1)]}),g.jsx("span",{className:"text-gray-700",children:t.displayName})]}),g.jsxs(yt,{variant:"outline",onClick:r,children:[g.jsx(ek,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),g.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",t.displayName,"!"]}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your proctoring sessions and monitor exam integrity."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[g.jsxs(vt,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n("/level1"),children:[g.jsxs(Dt,{children:[g.jsxs(Ot,{className:"flex items-center gap-2",children:[g.jsx(vs,{className:"w-5 h-5 text-primary"}),"Start Proctoring"]}),g.jsx(_n,{children:"Begin a new proctoring session with Level 1 monitoring"})]}),g.jsx(wt,{children:g.jsx(yt,{className:"w-full",children:"Start Session"})})]}),g.jsxs(vt,{className:"hover:shadow-lg transition-shadow",children:[g.jsxs(Dt,{children:[g.jsxs(Ot,{className:"flex items-center gap-2",children:[g.jsx(XR,{className:"w-5 h-5 text-primary"}),"View Analytics"]}),g.jsx(_n,{children:"Review session reports and performance metrics"})]}),g.jsx(wt,{children:g.jsx(yt,{variant:"outline",className:"w-full",children:"View Reports"})})]}),g.jsxs(vt,{className:"hover:shadow-lg transition-shadow",children:[g.jsxs(Dt,{children:[g.jsxs(Ot,{className:"flex items-center gap-2",children:[g.jsx(sh,{className:"w-5 h-5 text-primary"}),"Manage Sessions"]}),g.jsx(_n,{children:"View and manage active proctoring sessions"})]}),g.jsx(wt,{children:g.jsx(yt,{variant:"outline",className:"w-full",children:"Manage Sessions"})})]})]}),g.jsxs(vt,{children:[g.jsxs(Dt,{children:[g.jsx(Ot,{children:"Recent Activity"}),g.jsx(_n,{children:"Your latest proctoring sessions and activities"})]}),g.jsx(wt,{children:g.jsxs("div",{className:"text-center py-8 text-gray-500",children:[g.jsx(vs,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),g.jsx("p",{children:"No recent activity"}),g.jsx("p",{className:"text-sm",children:"Start your first proctoring session to see activity here"})]})})]})]})]})};var My="Progress",Ly=100,[M5,s6]=Fi(My),[L5,V5]=M5(My),QC=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=j5,...o}=t;(s||s===0)&&!z_(s)&&console.error(F5(`${s}`,"Progress"));const a=z_(s)?s:Ly;r!==null&&!B_(r,a)&&console.error(U5(`${r}`,"Progress"));const c=B_(r,a)?r:null,u=jd(c)?i(c,a):void 0;return g.jsx(L5,{scope:n,value:c,max:a,children:g.jsx(Be.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":jd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":JC(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});QC.displayName=My;var YC="ProgressIndicator",XC=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=V5(YC,n);return g.jsx(Be.div,{"data-state":JC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});XC.displayName=YC;function j5(t,e){return`${Math.round(t/e*100)}%`}function JC(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function jd(t){return typeof t=="number"}function z_(t){return jd(t)&&!isNaN(t)&&t>0}function B_(t,e){return jd(t)&&!isNaN(t)&&t<=e&&t>=0}function F5(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ly}\`.`}function U5(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ly} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZC=QC,$5=XC;const eA=C.forwardRef(({className:t,value:e,...n},r)=>g.jsx(ZC,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:g.jsx($5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));eA.displayName=ZC.displayName;const z5=()=>{const{user:t}=Mh(),[e,n]=C.useState(!1),[r,s]=C.useState(!1),[i,o]=C.useState(!1),[a,c]=C.useState(0),[u,d]=C.useState("pending"),[f,m]=C.useState([]),[p,I]=C.useState(0),[_,x]=C.useState(!0);C.useState(null);const[v,w]=C.useState(null),T=C.useRef(null);C.useRef(null);const N=C.useRef(null),O=C.useRef(null),L=C.useRef(),A=C.useCallback(async()=>{var V;if(t)try{const H={studentId:t.id,examId:"demo-exam-001",level:1,status:"active",suspicionLevel:0,alerts:[],metadata:{browserInfo:{userAgent:navigator.userAgent,screenResolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},deviceInfo:{cameraAvailable:!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),microphoneAvailable:!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),screenShareAvailable:!!((V=navigator.mediaDevices)!=null&&V.getDisplayMedia)}}},Z=await G3(H);w(Z)}catch(H){console.error("Failed to initialize session:",H)}},[t]),E=C.useCallback(async V=>{if(v)try{await K3(v,V)}catch(H){console.error("Failed to update session:",H)}},[v]);C.useEffect(()=>(t&&A(),()=>{L.current&&cancelAnimationFrame(L.current)}),[t,A]),C.useEffect(()=>{v&&p>0&&E({suspicionLevel:p})},[p,v,E]);const P=async()=>{try{const V=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!1});T.current&&(T.current.srcObject=V,await T.current.play(),n(!0),setTimeout(()=>{o(!0),d("verified"),b()},2e3),await E({status:"active"}))}catch(V){console.error("Camera access failed:",V),R("Camera access denied. Please allow camera permissions.","face_not_detected","critical")}},b=()=>{const V=()=>{const H=Math.random()>.3;x(H),H?I(Z=>Math.max(0,Z-2)):(I(Z=>Math.min(100,Z+5)),p>50&&R("Student moved out of detection area. Suspicion level increasing.","face_not_detected","medium")),e&&(L.current=requestAnimationFrame(V))};V()},k=async()=>{try{const V=await navigator.mediaDevices.getUserMedia({audio:!0});N.current=new AudioContext,O.current=N.current.createAnalyser(),N.current.createMediaStreamSource(V).connect(O.current),O.current.fftSize=256,s(!0),D()}catch(V){console.error("Microphone access failed:",V),R("Microphone access denied. Please allow microphone permissions.","audio_anomaly","critical")}},D=()=>{if(!O.current)return;const V=new Uint8Array(O.current.frequencyBinCount),H=()=>{if(O.current){O.current.getByteFrequencyData(V);const Z=V.reduce((Y,ee)=>Y+ee)/V.length;c(Math.round(Z/255*100)),Z>50&&R("External audio detected. Please ensure you are alone.","external_voice","high"),requestAnimationFrame(H)}};H()},R=async(V,H="face_not_detected",Z="low")=>{if(v)try{await Y3({sessionId:v,type:H,severity:Z,message:V,metadata:{suspicionLevel:p,cameraActive:e,micActive:r,faceDetected:i,audioLevel:a}})}catch(Y){console.error("Failed to create alert:",Y)}},W=async()=>{var V;(V=T.current)!=null&&V.srcObject&&(T.current.srcObject.getTracks().forEach(Z=>Z.stop()),T.current.srcObject=null),N.current&&N.current.close(),L.current&&cancelAnimationFrame(L.current),n(!1),s(!1),o(!1),d("pending"),c(0),I(0),x(!0),v&&await E({status:"completed",suspicionLevel:0,endTime:new Date})},ie=()=>{switch(u){case"verified":return"text-green-500";case"failed":return"text-red-500";default:return"text-yellow-500"}},J=()=>{switch(u){case"verified":return g.jsx(JR,{className:"w-4 h-4"});case"failed":return g.jsx(ru,{className:"w-4 h-4"});default:return g.jsx(vs,{className:"w-4 h-4"})}},ne=()=>p<30?"text-green-500":p<70?"text-yellow-500":"text-red-500",F=()=>p<30?"bg-green-500":p<70?"bg-yellow-500":"bg-red-500";return g.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx(Li,{className:"mb-4 bg-primary/10 text-primary border-primary/20",variant:"outline",children:"Level 1 - Baseline Monitoring"}),g.jsx("h1",{className:"text-3xl font-bold mb-2",children:"SmartProctor-X Level 1"}),g.jsx("p",{className:"text-muted-foreground",children:"Camera-based face verification and basic audio monitoring"})]}),g.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[g.jsxs(vt,{children:[g.jsxs(Dt,{children:[g.jsxs(Ot,{className:"flex items-center gap-2",children:[g.jsx(zp,{className:"w-5 h-5"}),"Camera Feed & Face Verification"]}),g.jsx(_n,{children:"Verify student identity and monitor face presence"})]}),g.jsxs(wt,{className:"space-y-4",children:[g.jsx("div",{className:"relative bg-muted rounded-lg aspect-video flex items-center justify-center overflow-hidden",children:e?g.jsxs(g.Fragment,{children:[g.jsx("video",{ref:T,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover rounded-lg"}),i&&g.jsx("div",{className:`absolute inset-4 border-2 rounded-lg pointer-events-none transition-colors duration-300 ${_?"border-green-400":"border-red-400"}`,children:g.jsx(Li,{className:`absolute -top-6 left-0 ${_?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:_?"Face Detected":"Face Out of Range"})}),g.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 p-3 rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx(ru,{className:`w-4 h-4 ${ne()}`}),g.jsx("span",{className:"text-white text-sm font-medium",children:"Suspicion"})]}),g.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:g.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${F()}`,style:{width:`${p}%`}})}),g.jsxs("span",{className:`text-xs ${ne()}`,children:[p,"%"]})]})]}):g.jsxs("div",{className:"text-center",children:[g.jsx(zp,{className:"w-12 h-12 mx-auto mb-2 text-muted-foreground"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Camera not active"})]})}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:`flex items-center gap-2 ${ie()}`,children:[J(),g.jsx("span",{className:"font-medium",children:u==="verified"?"Identity Verified":u==="failed"?"Verification Failed":"Pending Verification"})]}),g.jsx(yt,{onClick:e?W:P,variant:e?"destructive":"default",children:e?"Stop Camera":"Start Camera"})]})]})]}),g.jsxs(vt,{children:[g.jsxs(Dt,{children:[g.jsxs(Ot,{className:"flex items-center gap-2",children:[g.jsx(Wx,{className:"w-5 h-5"}),"Audio Monitoring"]}),g.jsx(_n,{children:"Detect external voices and audio anomalies"})]}),g.jsxs(wt,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium",children:"Audio Level"}),g.jsxs("span",{className:"text-sm text-muted-foreground",children:[a,"%"]})]}),g.jsx(eA,{value:a,className:"h-2"})]}),g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx(Bp,{className:"w-4 h-4"}),g.jsx("span",{className:"font-medium",children:"Status"})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:r?`Monitoring active - Audio level: ${a>30?"High":a>10?"Normal":"Low"}`:"Audio monitoring not active"})]}),g.jsx(yt,{onClick:r?W:k,variant:r?"destructive":"default",className:"w-full",children:r?"Stop Monitoring":"Start Audio Monitoring"})]})]})]}),f.length>0&&g.jsxs(vt,{children:[g.jsx(Dt,{children:g.jsxs(Ot,{className:"flex items-center gap-2",children:[g.jsx(ru,{className:"w-5 h-5 text-orange-500"}),"Security Alerts"]})}),g.jsx(wt,{children:g.jsx("div",{className:"space-y-2",children:f.map((V,H)=>g.jsxs(Ld,{className:"border-orange-200",children:[g.jsx(ru,{className:"h-4 w-4"}),g.jsx(Vd,{children:V.message})]},V.id||H))})})]}),g.jsxs(vt,{children:[g.jsx(Dt,{children:g.jsx(Ot,{children:"Level 1 System Status"})}),g.jsx(wt,{children:g.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-green-500":"bg-gray-300"}`}),g.jsx("span",{className:"text-sm",children:"Camera Active"})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${r?"bg-green-500":"bg-gray-300"}`}),g.jsx("span",{className:"text-sm",children:"Audio Monitoring"})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-green-500":"bg-gray-300"}`}),g.jsx("span",{className:"text-sm",children:"Face Detection"})]})]})})]})]})},B5=()=>g.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[g.jsx(SC,{}),g.jsx("main",{className:"pt-20",children:g.jsx(z5,{})})]}),H5=()=>{const t=ac();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),g.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},W5=new RD,q5=()=>g.jsx(ND,{client:W5,children:g.jsx(X3,{children:g.jsxs(oD,{children:[g.jsx($k,{}),g.jsx(wN,{}),g.jsx(IO,{children:g.jsxs(EO,{children:[g.jsx(eo,{path:"/",element:g.jsx(d5,{})}),g.jsx(eo,{path:"/auth",element:g.jsx(D5,{})}),g.jsx(eo,{path:"/dashboard",element:g.jsx($_,{children:g.jsx(O5,{})})}),g.jsx(eo,{path:"/level1",element:g.jsx($_,{children:g.jsx(B5,{})})}),g.jsx(eo,{path:"*",element:g.jsx(H5,{})})]})})]})})});hx(document.getElementById("root")).render(g.jsx(q5,{}));
